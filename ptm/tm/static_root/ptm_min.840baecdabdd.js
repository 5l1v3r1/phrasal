d3=function(){var gQ={version:"3.2.8"};if(!Date.now){Date.now=function(){return +new Date()}}var bA=document,dR=bA.documentElement,fd=window;try{bA.createElement("div").style.setProperty("opacity",0,"")}catch(e9){var dv=fd.Element.prototype,bN=dv.setAttribute,gB=dv.setAttributeNS,dg=fd.CSSStyleDeclaration.prototype,gj=dg.setProperty;dv.setAttribute=function(e,hC){bN.call(this,e,hC+"")};dv.setAttributeNS=function(hD,e,hC){gB.call(this,hD,e,hC+"")};dg.setProperty=function(e,hD,hC){gj.call(this,e,hD+"",hC)}}gQ.ascending=function(hC,e){return hC<e?-1:hC>e?1:hC>=e?0:NaN};gQ.descending=function(hC,e){return e<hC?-1:e>hC?1:e>=hC?0:NaN};gQ.min=function(hG,hE){var hD=-1,hF=hG.length,hC,e;if(arguments.length===1){while(++hD<hF&&!((hC=hG[hD])!=null&&hC<=hC)){hC=undefined}while(++hD<hF){if((e=hG[hD])!=null&&hC>e){hC=e}}}else{while(++hD<hF&&!((hC=hE.call(hG,hG[hD],hD))!=null&&hC<=hC)){hC=undefined}while(++hD<hF){if((e=hE.call(hG,hG[hD],hD))!=null&&hC>e){hC=e}}}return hC};gQ.max=function(hG,hE){var hD=-1,hF=hG.length,hC,e;if(arguments.length===1){while(++hD<hF&&!((hC=hG[hD])!=null&&hC<=hC)){hC=undefined}while(++hD<hF){if((e=hG[hD])!=null&&e>hC){hC=e}}}else{while(++hD<hF&&!((hC=hE.call(hG,hG[hD],hD))!=null&&hC<=hC)){hC=undefined}while(++hD<hF){if((e=hE.call(hG,hG[hD],hD))!=null&&e>hC){hC=e}}}return hC};gQ.extent=function(hH,hE){var hD=-1,hG=hH.length,hC,e,hF;if(arguments.length===1){while(++hD<hG&&!((hC=hF=hH[hD])!=null&&hC<=hC)){hC=hF=undefined}while(++hD<hG){if((e=hH[hD])!=null){if(hC>e){hC=e}if(hF<e){hF=e}}}}else{while(++hD<hG&&!((hC=hF=hE.call(hH,hH[hD],hD))!=null&&hC<=hC)){hC=undefined}while(++hD<hG){if((e=hE.call(hH,hH[hD],hD))!=null){if(hC>e){hC=e}if(hF<e){hF=e}}}}return[hC,hF]};gQ.sum=function(hG,hE){var hD=0,hF=hG.length,e,hC=-1;if(arguments.length===1){while(++hC<hF){if(!isNaN(e=+hG[hC])){hD+=e}}}else{while(++hC<hF){if(!isNaN(e=+hE.call(hG,hG[hC],hC))){hD+=e}}}return hD};function gU(e){return e!=null&&!isNaN(e)}gQ.mean=function(hH,hF){var hG=hH.length,hC,e=0,hE=-1,hD=0;if(arguments.length===1){while(++hE<hG){if(gU(hC=hH[hE])){e+=(hC-e)/++hD}}}else{while(++hE<hG){if(gU(hC=hF.call(hH,hH[hE],hE))){e+=(hC-e)/++hD}}}return hD?e:undefined};gQ.quantile=function(hD,hH){var hE=(hD.length-1)*hH+1,hF=Math.floor(hE),hC=+hD[hF-1],hG=hE-hF;return hG?hC+hG*(hD[hF]-hC):hC};gQ.median=function(hC,e){if(arguments.length>1){hC=hC.map(e)}hC=hC.filter(gU);return hC.length?gQ.quantile(hC.sort(gQ.ascending),0.5):undefined};gQ.bisector=function(e){return{left:function(hD,hC,hG,hF){if(arguments.length<3){hG=0}if(arguments.length<4){hF=hD.length}while(hG<hF){var hE=hG+hF>>>1;if(e.call(hD,hD[hE],hE)<hC){hG=hE+1}else{hF=hE}}return hG},right:function(hD,hC,hG,hF){if(arguments.length<3){hG=0}if(arguments.length<4){hF=hD.length}while(hG<hF){var hE=hG+hF>>>1;if(hC<e.call(hD,hD[hE],hE)){hF=hE}else{hG=hE+1}}return hG}}};var fZ=gQ.bisector(function(e){return e});gQ.bisectLeft=fZ.left;gQ.bisect=gQ.bisectRight=fZ.right;gQ.shuffle=function(hE){var e=hE.length,hD,hC;while(e){hC=Math.random()*e--|0;hD=hE[e],hE[e]=hE[hC],hE[hC]=hD}return hE};gQ.permute=function(hE,hC){var hD=hC.length,e=new Array(hD);while(hD--){e[hD]=hE[hC[hD]]}return e};gQ.zip=function(){if(!(hG=arguments.length)){return[]}for(var hE=-1,e=gQ.min(arguments,eT),hD=new Array(e);++hE<e;){for(var hC=-1,hG,hF=hD[hE]=new Array(hG);++hC<hG;){hF[hC]=arguments[hC][hE]}}return hD};function eT(e){return e.length}gQ.transpose=function(e){return gQ.zip.apply(gQ,e)};gQ.keys=function(hD){var hC=[];for(var e in hD){hC.push(e)}return hC};gQ.values=function(hD){var e=[];for(var hC in hD){e.push(hD[hC])}return e};gQ.entries=function(hD){var e=[];for(var hC in hD){e.push({key:hC,value:hD[hC]})}return e};gQ.merge=function(e){return Array.prototype.concat.apply([],e)};gQ.range=function(hH,hF,hG){if(arguments.length<3){hG=1;if(arguments.length<2){hF=hH;hH=0}}if((hF-hH)/hG===Infinity){throw new Error("infinite range")}var hC=[],e=fU(Math.abs(hG)),hE=-1,hD;hH*=e,hF*=e,hG*=e;if(hG<0){while((hD=hH+hG*++hE)>hF){hC.push(hD/e)}}else{while((hD=hH+hG*++hE)<hF){hC.push(hD/e)}}return hC};function fU(e){var hC=1;while(e*hC%1){hC*=10}return hC}function ht(hE,hD){try{for(var hC in hD){Object.defineProperty(hE.prototype,hC,{value:hD[hC],enumerable:false})}}catch(hF){hE.prototype=hD}}gQ.map=function(e){var hD=new aC();if(e instanceof aC){e.forEach(function(hE,hF){hD.set(hE,hF)})}else{for(var hC in e){hD.set(hC,e[hC])}}return hD};function aC(){}ht(aC,{has:function(e){return hv+e in this},get:function(e){return this[hv+e]},set:function(e,hC){return this[hv+e]=hC},remove:function(e){e=hv+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(hC){e.push(hC)});return e},values:function(){var e=[];this.forEach(function(hC,hD){e.push(hD)});return e},entries:function(){var e=[];this.forEach(function(hC,hD){e.push({key:hC,value:hD})});return e},forEach:function(hC){for(var e in this){if(e.charCodeAt(0)===dk){hC.call(this,e.substring(1),this[e])}}}});var hv="\0",dk=hv.charCodeAt(0);gQ.nest=function(){var hE={},hD=[],hH=[],hC,hF;function hG(hJ,hQ,hO){if(hO>=hD.length){return hF?hF.call(hE,hQ):hC?hQ.sort(hC):hQ}var hP=-1,hI=hQ.length,hS=hD[hO++],hN,hM,hL,hK=new aC(),hR;while(++hP<hI){if(hR=hK.get(hN=hS(hM=hQ[hP]))){hR.push(hM)}else{hK.set(hN,[hM])}}if(hJ){hM=hJ();hL=function(hU,hT){hM.set(hU,hG(hJ,hT,hO))}}else{hM={};hL=function(hU,hT){hM[hU]=hG(hJ,hT,hO)}}hK.forEach(hL);return hM}function e(hJ,hK){if(hK>=hD.length){return hJ}var hL=[],hI=hH[hK++];hJ.forEach(function(hM,hN){hL.push({key:hM,values:e(hN,hK)})});return hI?hL.sort(function(hN,hM){return hI(hN.key,hM.key)}):hL}hE.map=function(hJ,hI){return hG(hI,hJ,0)};hE.entries=function(hI){return e(hG(gQ.map,hI,0),0)};hE.key=function(hI){hD.push(hI);return hE};hE.sortKeys=function(hI){hH[hD.length-1]=hI;return hE};hE.sortValues=function(hI){hC=hI;return hE};hE.rollup=function(hI){hF=hI;return hE};return hE};gQ.set=function(hE){var hD=new c9();if(hE){for(var e=0,hC=hE.length;e<hC;++e){hD.add(hE[e])}}return hD};function c9(){}ht(c9,{has:function(e){return hv+e in this},add:function(e){this[hv+e]=true;return e},remove:function(e){e=hv+e;return e in this&&delete this[e]},values:function(){var e=[];this.forEach(function(hC){e.push(hC)});return e},forEach:function(hC){for(var e in this){if(e.charCodeAt(0)===dk){hC.call(this,e.substring(1))}}}});gQ.behavior={};gQ.rebind=function(hD,hC){var e=1,hF=arguments.length,hE;while(++e<hF){hD[hE=arguments[e]]=ee(hD,hC,hC[hE])}return hD};function ee(hC,e,hD){return function(){var hE=hD.apply(e,arguments);return hE===e?hC:hE}}function c1(hD,hC){if(hC in hD){return hC}hC=hC.charAt(0).toUpperCase()+hC.substring(1);for(var hE=0,hF=I.length;hE<hF;++hE){var e=I[hE]+hC;if(e in hD){return e}}}var I=["webkit","ms","moz","Moz","o","O"];var dx=bB;function hp(hC){var e=hC.length,hD=new Array(e);while(e--){hD[e]=hC[e]}return hD}function bB(e){return Array.prototype.slice.call(e)}try{dx(dR.childNodes)[0].nodeType}catch(gJ){dx=hp}function aB(){}gQ.dispatch=function(){var e=new ew(),hC=-1,hD=arguments.length;while(++hC<hD){e[arguments[hC]]=eW(e)}return e};function ew(){}ew.prototype.on=function(hD,hE){var hC=hD.indexOf("."),e="";if(hC>=0){e=hD.substring(hC+1);hD=hD.substring(0,hC)}if(hD){return arguments.length<2?this[hD].on(e):this[hD].on(e,hE)}if(arguments.length===2){if(hE==null){for(hD in this){if(this.hasOwnProperty(hD)){this[hD].on(e,null)}}}return this}};function eW(e){var hD=[],hC=new aC();function hE(){var hH=hD,hG=-1,hI=hH.length,hF;while(++hG<hI){if(hF=hH[hG].on){hF.apply(this,arguments)}}return e}hE.on=function(hG,hI){var hF=hC.get(hG),hH;if(arguments.length<2){return hF&&hF.on}if(hF){hF.on=null;hD=hD.slice(0,hH=hD.indexOf(hF)).concat(hD.slice(hH+1));hC.remove(hG)}if(hI){hD.push(hC.set(hG,{on:hI}))}return e};return hE}gQ.event=null;function u(){gQ.event.preventDefault()}function ab(){var hD=gQ.event,hC;while(hC=hD.sourceEvent){hD=hC}return hD}function gN(hD){var e=new ew(),hC=0,hE=arguments.length;while(++hC<hE){e[arguments[hC]]=eW(e)}e.of=function(hG,hF){return function(hH){try{var hI=hH.sourceEvent=gQ.event;hH.target=hD;gQ.event=hH;e[hH.type].apply(hG,hF)}finally{gQ.event=hI}}};return e}gQ.requote=function(e){return e.replace(cU,"\\$&")};var cU=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var hw={}.__proto__?function(hC,e){hC.__proto__=e}:function(hC,e){for(var hD in e){hC[hD]=e[hD]}};function dI(e){hw(e,dH);return e}var c8=function(e,hC){return hC.querySelector(e)},fK=function(e,hC){return hC.querySelectorAll(e)},b=dR[c1(dR,"matchesSelector")],a=function(hC,e){return b.call(hC,e)};if(typeof Sizzle==="function"){c8=function(e,hC){return Sizzle(e,hC)[0]||null};fK=function(e,hC){return Sizzle.uniqueSort(Sizzle(e,hC))};a=Sizzle.matchesSelector}gQ.selection=function(){return gn};var dH=gQ.selection.prototype=[];dH.select=function(hG){var hD=[],hK,e,hJ,hE;hG=w(hG);for(var hH=-1,hF=this.length;++hH<hF;){hD.push(hK=[]);hK.parentNode=(hJ=this[hH]).parentNode;for(var hI=-1,hC=hJ.length;++hI<hC;){if(hE=hJ[hI]){hK.push(e=hG.call(hE,hE.__data__,hI,hH));if(e&&"__data__" in hE){e.__data__=hE.__data__}}else{hK.push(null)}}}return dI(hD)};function w(e){return typeof e==="function"?e:function(){return c8(e,this)}}dH.selectAll=function(hF){var hC=[],hJ,hD;hF=cM(hF);for(var hG=-1,hE=this.length;++hG<hE;){for(var hI=this[hG],hH=-1,e=hI.length;++hH<e;){if(hD=hI[hH]){hC.push(hJ=dx(hF.call(hD,hD.__data__,hH,hG)));hJ.parentNode=hD}}}return dI(hC)};function cM(e){return typeof e==="function"?e:function(){return fK(e,this)}}var dX={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};gQ.ns={prefix:dX,qualify:function(e){var hC=e.indexOf(":"),hD=e;if(hC>=0){hD=e.substring(0,hC);e=e.substring(hC+1)}return dX.hasOwnProperty(hD)?{space:dX[hD],local:e}:e}};dH.attr=function(e,hD){if(arguments.length<2){if(typeof e==="string"){var hC=this.node();e=gQ.ns.qualify(e);return e.local?hC.getAttributeNS(e.space,e.local):hC.getAttribute(e)}for(hD in e){this.each(bh(hD,e[hD]))}return this}return this.each(bh(e,hD))};function bh(hD,hH){hD=gQ.ns.qualify(hD);function hC(){this.removeAttribute(hD)}function hI(){this.removeAttributeNS(hD.space,hD.local)}function hG(){this.setAttribute(hD,hH)}function hF(){this.setAttributeNS(hD.space,hD.local,hH)}function e(){var hJ=hH.apply(this,arguments);if(hJ==null){this.removeAttribute(hD)}else{this.setAttribute(hD,hJ)}}function hE(){var hJ=hH.apply(this,arguments);if(hJ==null){this.removeAttributeNS(hD.space,hD.local)}else{this.setAttributeNS(hD.space,hD.local,hJ)}}return hH==null?hD.local?hI:hC:typeof hH==="function"?hD.local?hE:e:hD.local?hF:hG}function ct(e){return e.trim().replace(/\s+/g," ")}dH.classed=function(e,hE){if(arguments.length<2){if(typeof e==="string"){var hD=this.node(),hF=(e=e.trim().split(/^|\s+/g)).length,hC=-1;if(hE=hD.classList){while(++hC<hF){if(!hE.contains(e[hC])){return false}}}else{hE=hD.getAttribute("class");while(++hC<hF){if(!gk(e[hC]).test(hE)){return false}}}return true}for(hE in e){this.each(ga(hE,e[hE]))}return this}return this.each(ga(e,hE))};function gk(e){return new RegExp("(?:^|\\s+)"+gQ.requote(e)+"(?:\\s+|$)","g")}function ga(hC,hE){hC=hC.trim().split(/\s+/).map(hs);var hF=hC.length;function e(){var hG=-1;while(++hG<hF){hC[hG](this,hE)}}function hD(){var hH=-1,hG=hE.apply(this,arguments);while(++hH<hF){hC[hH](this,hG)}}return typeof hE==="function"?hD:e}function hs(e){var hC=gk(e);return function(hD,hE){if(hF=hD.classList){return hE?hF.add(e):hF.remove(e)}var hF=hD.getAttribute("class")||"";if(hE){hC.lastIndex=0;if(!hC.test(hF)){hD.setAttribute("class",ct(hF+" "+e))}}else{hD.setAttribute("class",ct(hF.replace(hC," ")))}}}dH.style=function(e,hD,hC){var hE=arguments.length;if(hE<3){if(typeof e!=="string"){if(hE<2){hD=""}for(hC in e){this.each(fq(hC,e[hC],hD))}return this}if(hE<2){return fd.getComputedStyle(this.node(),null).getPropertyValue(e)}hC=""}return this.each(fq(e,hD,hC))};function fq(hD,hG,hE){function hC(){this.style.removeProperty(hD)}function hF(){this.style.setProperty(hD,hG,hE)}function e(){var hH=hG.apply(this,arguments);if(hH==null){this.style.removeProperty(hD)}else{this.style.setProperty(hD,hH,hE)}}return hG==null?hC:typeof hG==="function"?e:hF}dH.property=function(e,hC){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(hC in e){this.each(g6(hC,e[hC]))}return this}return this.each(g6(e,hC))};function g6(hC,hE){function e(){delete this[hC]}function hD(){this[hC]=hE}function hF(){var hG=hE.apply(this,arguments);if(hG==null){delete this[hC]}else{this[hC]=hG}}return hE==null?e:typeof hE==="function"?hF:hD}dH.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var hC=e.apply(this,arguments);this.textContent=hC==null?"":hC}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};dH.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var hC=e.apply(this,arguments);this.innerHTML=hC==null?"":hC}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};dH.append=function(e){e=ax(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function ax(e){return typeof e==="function"?e:(e=gQ.ns.qualify(e)).local?function(){return bA.createElementNS(e.space,e.local)}:function(){return bA.createElementNS(this.namespaceURI,e)}}dH.insert=function(e,hC){e=ax(e);hC=w(hC);return this.select(function(){return this.insertBefore(e.apply(this,arguments),hC.apply(this,arguments))})};dH.remove=function(){return this.each(function(){var e=this.parentNode;if(e){e.removeChild(this)}})};dH.data=function(hI,hK){var hF=-1,hC=this.length,hJ,hD;if(!arguments.length){hI=new Array(hC=(hJ=this[0]).length);while(++hF<hC){if(hD=hJ[hF]){hI[hF]=hD.__data__}}return hI}function hG(hU,hP){var hR,hM=hU.length,hO=hP.length,hT=Math.min(hM,hO),hY=new Array(hO),hV=new Array(hO),hS=new Array(hM),hN,hL;if(hK){var hZ=new aC(),hW=new aC(),hX=[],hQ;for(hR=-1;++hR<hM;){hQ=hK.call(hN=hU[hR],hN.__data__,hR);if(hZ.has(hQ)){hS[hR]=hN}else{hZ.set(hQ,hN)}hX.push(hQ)}for(hR=-1;++hR<hO;){hQ=hK.call(hP,hL=hP[hR],hR);if(hN=hZ.get(hQ)){hY[hR]=hN;hN.__data__=hL}else{if(!hW.has(hQ)){hV[hR]=J(hL)}}hW.set(hQ,hL);hZ.remove(hQ)}for(hR=-1;++hR<hM;){if(hZ.has(hX[hR])){hS[hR]=hU[hR]}}}else{for(hR=-1;++hR<hT;){hN=hU[hR];hL=hP[hR];if(hN){hN.__data__=hL;hY[hR]=hN}else{hV[hR]=J(hL)}}for(;hR<hO;++hR){hV[hR]=J(hP[hR])}for(;hR<hM;++hR){hS[hR]=hU[hR]}}hV.update=hY;hV.parentNode=hY.parentNode=hS.parentNode=hU.parentNode;hH.push(hV);hE.push(hY);e.push(hS)}var hH=bH([]),hE=dI([]),e=dI([]);if(typeof hI==="function"){while(++hF<hC){hG(hJ=this[hF],hI.call(hJ,hJ.parentNode.__data__,hF))}}else{while(++hF<hC){hG(hJ=this[hF],hI)}}hE.enter=function(){return hH};hE.exit=function(){return e};return hE};function J(e){return{__data__:e}}dH.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};dH.filter=function(e){var hD=[],hJ,hI,hE;if(typeof e!=="function"){e=a0(e)}for(var hG=0,hF=this.length;hG<hF;hG++){hD.push(hJ=[]);hJ.parentNode=(hI=this[hG]).parentNode;for(var hH=0,hC=hI.length;hH<hC;hH++){if((hE=hI[hH])&&e.call(hE,hE.__data__,hH)){hJ.push(hE)}}}return dI(hD)};function a0(e){return function(){return a(this,e)}}dH.order=function(){for(var hC=-1,e=this.length;++hC<e;){for(var hG=this[hC],hD=hG.length-1,hE=hG[hD],hF;--hD>=0;){if(hF=hG[hD]){if(hE&&hE!==hF.nextSibling){hE.parentNode.insertBefore(hF,hE)}hE=hF}}}return this};dH.sort=function(hC){hC=gi.apply(this,arguments);for(var hD=-1,e=this.length;++hD<e;){this[hD].sort(hC)}return this.order()};function gi(e){if(!arguments.length){e=gQ.ascending}return function(hD,hC){return hD&&hC?e(hD.__data__,hC.__data__):!hD-!hC}}dH.each=function(e){return cu(this,function(hE,hD,hC){e.call(hE,hE.__data__,hD,hC)})};function cu(hC,hI){for(var hD=0,e=hC.length;hD<e;hD++){for(var hG=hC[hD],hE=0,hH=hG.length,hF;hE<hH;hE++){if(hF=hG[hE]){hI(hF,hE,hD)}}}return hC}dH.call=function(hC){var e=dx(arguments);hC.apply(e[0]=this,e);return this};dH.empty=function(){return !this.node()};dH.node=function(){for(var hC=0,e=this.length;hC<e;hC++){for(var hF=this[hC],hD=0,hG=hF.length;hD<hG;hD++){var hE=hF[hD];if(hE){return hE}}}return null};dH.size=function(){var e=0;this.each(function(){++e});return e};function bH(e){hw(e,eJ);return e}var eJ=[];gQ.selection.enter=bH;gQ.selection.enter.prototype=eJ;eJ.append=dH.append;eJ.empty=dH.empty;eJ.node=dH.node;eJ.call=dH.call;eJ.size=dH.size;eJ.select=function(hG){var hD=[],hL,e,hJ,hK,hF;for(var hH=-1,hE=this.length;++hH<hE;){hJ=(hK=this[hH]).update;hD.push(hL=[]);hL.parentNode=hK.parentNode;for(var hI=-1,hC=hK.length;++hI<hC;){if(hF=hK[hI]){hL.push(hJ[hI]=e=hG.call(hK.parentNode,hF.__data__,hI,hH));e.__data__=hF.__data__}else{hL.push(null)}}}return dI(hD)};eJ.insert=function(e,hC){if(arguments.length<2){hC=f4(this)}return dH.insert.call(this,e,hC)};function f4(hD){var e,hC;return function(hI,hF,hE){var hH=hD[hE].update,hJ=hH.length,hG;if(hE!=hC){hC=hE,e=0}if(hF>=e){e=hF+1}while(!(hG=hH[e])&&++e<hJ){}return hG}}dH.transition=function(){var e=am||++gH,hD=[],hK,hE,hI=dO||{time:Date.now(),ease:aq,delay:0,duration:250};for(var hG=-1,hF=this.length;++hG<hF;){hD.push(hK=[]);for(var hJ=this[hG],hH=-1,hC=hJ.length;++hH<hC;){if(hE=hJ[hH]){fg(hE,hH,e,hI)}hK.push(hE)}}return gl(hD,e)};gQ.select=function(e){var hC=[typeof e==="string"?c8(e,bA):e];hC.parentNode=dR;return dI([hC])};gQ.selectAll=function(e){var hC=dx(typeof e==="string"?fK(e,bA):e);hC.parentNode=dR;return dI([hC])};var gn=gQ.select(dR);dH.on=function(hC,hD,e){var hE=arguments.length;if(hE<3){if(typeof hC!=="string"){if(hE<2){hD=false}for(e in hC){this.each(l(e,hC[e],hD))}return this}if(hE<2){return(hE=this.node()["__on"+hC])&&hE._}e=false}return this.each(l(hC,hD,e))};function l(hJ,hE,hK){var e="__on"+hJ,hG=hJ.indexOf("."),hC=e5;if(hG>0){hJ=hJ.substring(0,hG)}var hD=bx.get(hJ);if(hD){hJ=hD,hC=ak}function hF(){var hL=this[e];if(hL){this.removeEventListener(hJ,hL,hL.$);delete this[e]}}function hI(){var hL=hC(hE,dx(arguments));hF.call(this);this.addEventListener(hJ,this[e]=hL,hL.$=hK);hL._=hE}function hH(){var hO=new RegExp("^__on([^.]+)"+gQ.requote(hJ)+"$"),hN;for(var hM in this){if(hN=hM.match(hO)){var hL=this[hM];this.removeEventListener(hN[1],hL,hL.$);delete this[hM]}}}return hG?hE?hI:hF:hE?aB:hH}var bx=gQ.map({mouseenter:"mouseover",mouseleave:"mouseout"});bx.forEach(function(e){if("on"+e in bA){bx.remove(e)}});function e5(hC,e){return function(hD){var hE=gQ.event;gQ.event=hD;e[0]=this.__data__;try{hC.apply(this,e)}finally{gQ.event=hE}}}function ak(hD,e){var hC=e5(hD,e);return function(hG){var hF=this,hE=hG.relatedTarget;if(!hE||hE!==hF&&!(hE.compareDocumentPosition(hF)&8)){hC.call(hF,hG)}}}var bY=c1(dR.style,"userSelect"),gg=0;function by(){var hF=".dragsuppress-"+ ++gg,hD="touchmove"+hF,hE="selectstart"+hF,hH="dragstart"+hF,hI="click"+hF,hC=gQ.select(fd).on(hD,u).on(hE,u).on(hH,u),hG=dR.style,e=hG[bY];hG[bY]="none";return function(hJ){hC.on(hF,null);hG[bY]=e;if(hJ){function hK(){hC.on(hI,null)}hC.on(hI,function(){u();hK()},true);setTimeout(hK,0)}}}gQ.mouse=function(e){return aR(e,ab())};var cr=/WebKit/.test(fd.navigator.userAgent)?-1:0;function aR(hE,hH){var hF=hE.ownerSVGElement||hE;if(hF.createSVGPoint){var hC=hF.createSVGPoint();if(cr<0&&(fd.scrollX||fd.scrollY)){hF=gQ.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var hD=hF[0][0].getScreenCTM();cr=!(hD.f||hD.e);hF.remove()}if(cr){hC.x=hH.pageX;hC.y=hH.pageY}else{hC.x=hH.clientX;hC.y=hH.clientY}hC=hC.matrixTransform(hE.getScreenCTM().inverse());return[hC.x,hC.y]}var hG=hE.getBoundingClientRect();return[hH.clientX-hG.left-hE.clientLeft,hH.clientY-hG.top-hE.clientTop]}gQ.touches=function(e,hC){if(arguments.length<2){hC=ab().touches}return hC?dx(hC).map(function(hE){var hD=aR(e,hE);hD.identifier=hE.identifier;return hD}):[]};gQ.behavior.drag=function(){var hF=gN(hE,"drag","dragstart","dragend"),e=null,hC=hD(aB,gQ.mouse,"mousemove","mouseup"),hI=hD(hH,hG,"touchmove","touchend");function hE(){this.on("mousedown.drag",hC).on("touchstart.drag",hI)}function hH(){return gQ.event.changedTouches[0].identifier}function hG(hJ,hK){return gQ.touches(hJ).filter(function(hL){return hL.identifier===hK})[0]}function hD(hM,hJ,hL,hK){return function(){var hR=this,hY=hR.parentNode,hZ=hF.of(hR,arguments),hX=gQ.event.target,hN=hM(),hP=hN==null?"drag":"drag-"+hN,hS=hJ(hY,hN),hU=0,hO,hW=gQ.select(fd).on(hL+"."+hP,hT).on(hK+"."+hP,hV),hQ=by();if(e){hO=e.apply(hR,arguments);hO=[hO.x-hS[0],hO.y-hS[1]]}else{hO=[0,0]}hZ({type:"dragstart"});function hT(){if(!hY){return hV()}var h2=hJ(hY,hN),h1=h2[0]-hS[0],h0=h2[1]-hS[1];hU|=h1|h0;hS=h2;hZ({type:"drag",x:h2[0]+hO[0],y:h2[1]+hO[1],dx:h1,dy:h0})}function hV(){hW.on(hL+"."+hP,null).on(hK+"."+hP,null);hQ(hU&&gQ.event.target===hX);hZ({type:"dragend"})}}}hE.origin=function(hJ){if(!arguments.length){return e}e=hJ;return hE};return gQ.rebind(hE,hF,"on")};gQ.behavior.zoom=function(){var hM=[0,0],hX,h2=1,hD=fz,hQ="mousedown.zoom",hY="mousemove.zoom",hR="mouseup.zoom",hV="touchstart.zoom",hO="touchmove.zoom",hZ="touchend.zoom",hJ,hS=gN(hC,"zoom"),hW,hU,hH,hF;function hC(){this.on(hQ,hE).on(gA+".zoom",hN).on(hY,hT).on("dblclick.zoom",hK).on(hV,hG)}hC.translate=function(h3){if(!arguments.length){return hM}hM=h3.map(Number);hL();return hC};hC.scale=function(h3){if(!arguments.length){return h2}h2=+h3;hL();return hC};hC.scaleExtent=function(h3){if(!arguments.length){return hD}hD=h3==null?fz:h3.map(Number);return hC};hC.x=function(h3){if(!arguments.length){return hU}hU=h3;hW=h3.copy();hM=[0,0];h2=1;return hC};hC.y=function(h3){if(!arguments.length){return hF}hF=h3;hH=h3.copy();hM=[0,0];h2=1;return hC};function e(h3){return[(h3[0]-hM[0])/h2,(h3[1]-hM[1])/h2]}function hP(h3){return[h3[0]*h2+hM[0],h3[1]*h2+hM[1]]}function hI(h3){h2=Math.max(hD[0],Math.min(hD[1],h3))}function h0(h4,h3){h3=hP(h3);hM[0]+=h4[0]-h3[0];hM[1]+=h4[1]-h3[1]}function hL(){if(hU){hU.domain(hW.range().map(function(h3){return(h3-hM[0])/h2}).map(hW.invert))}if(hF){hF.domain(hH.range().map(function(h3){return(h3-hM[1])/h2}).map(hH.invert))}}function h1(h3){hL();h3({type:"zoom",scale:h2,translate:hM})}function hE(){var h5=this,ia=hS.of(h5,arguments),h9=gQ.event.target,h7=0,ib=gQ.select(fd).on(hY,h6).on(hR,h8),h3=e(gQ.mouse(h5)),h4=by();function h6(){h7=1;h0(gQ.mouse(h5),h3);h1(ia)}function h8(){ib.on(hY,fd===h5?hT:null).on(hR,null);h4(h7&&gQ.event.target===h9)}}function hG(){var h7=this,ic=hS.of(h7,arguments),h4,h9=0,h6,id=gQ.select(fd).on(hO,ia).on(hZ,ib),ie=gQ.select(h7).on(hQ,null).on(hV,h8),h5=by();h8();function h3(){var ig=gQ.touches(h7);h6=h2;h4={};ig.forEach(function(ih){h4[ih.identifier]=e(ih)});return ig}function h8(){var ij=Date.now(),im=h3();if(im.length===1){if(ij-hJ<500){var il=im[0],ih=h4[il.identifier];hI(h2*2);h0(il,ih);u();h1(ic)}hJ=ij}else{if(im.length>1){var il=im[0],ik=im[1],ii=il[0]-ik[0],ig=il[1]-ik[1];h9=ii*ii+ig*ig}}}function ia(){var ij=gQ.touches(h7),im=ij[0],ii=h4[im.identifier];if(il=ij[1]){var il,ig=h4[il.identifier],ik=gQ.event.scale;if(ik==null){var ih=(ih=il[0]-im[0])*ih+(ih=il[1]-im[1])*ih;ik=h9&&Math.sqrt(ih/h9)}im=[(im[0]+il[0])/2,(im[1]+il[1])/2];ii=[(ii[0]+ig[0])/2,(ii[1]+ig[1])/2];hI(ik*h6)}hJ=null;h0(im,ii);h1(ic)}function ib(){if(gQ.event.touches.length){h3()}else{id.on(hO,null).on(hZ,null);ie.on(hQ,hE).on(hV,hG);h5()}}}function hN(){u();if(!hX){hX=e(gQ.mouse(this))}hI(Math.pow(2,ck()*0.002)*h2);h0(gQ.mouse(this),hX);h1(hS.of(this,arguments))}function hT(){hX=null}function hK(){var h5=gQ.mouse(this),h3=e(h5),h4=Math.log(h2)/Math.LN2;hI(Math.pow(2,gQ.event.shiftKey?Math.ceil(h4)-1:Math.floor(h4)+1));h0(h5,h3);h1(hS.of(this,arguments))}return gQ.rebind(hC,hS,"on")};var fz=[0,Infinity];var ck,gA="onwheel" in bA?(ck=function(){return -gQ.event.deltaY*(gQ.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bA?(ck=function(){return gQ.event.wheelDelta},"mousewheel"):(ck=function(){return -gQ.event.detail},"MozMousePixelScroll");function E(){}E.prototype.toString=function(){return this.rgb()+""};gQ.hsl=function(hD,hC,e){return arguments.length===1?hD instanceof e6?el(hD.h,hD.s,hD.l):aQ(""+hD,f6,el):el(+hD,+hC,+e)};function el(hD,hC,e){return new e6(hD,hC,e)}function e6(hD,hC,e){this.h=hD;this.s=hC;this.l=e}var ec=e6.prototype=new E();ec.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return el(this.h,this.s,this.l/e)};ec.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return el(this.h,this.s,e*this.l)};ec.rgb=function(){return a7(this.h,this.s,this.l)};function a7(hG,hF,e){var hE,hD;hG=isNaN(hG)?0:(hG%=360)<0?hG+360:hG;hF=isNaN(hF)?0:hF<0?0:hF>1?1:hF;e=e<0?0:e>1?1:e;hD=e<=0.5?e*(1+hF):e+hF-e*hF;hE=2*e-hD;function hC(hI){if(hI>360){hI-=360}else{if(hI<0){hI+=360}}if(hI<60){return hE+(hD-hE)*hI/60}if(hI<180){return hD}if(hI<240){return hE+(hD-hE)*(240-hI)/60}return hE}function hH(hI){return Math.round(hC(hI)*255)}return d7(hH(hG+120),hH(hG),hH(hG-120))}var fO=Math.PI,fX=0.000001,ei=fX*fX,H=fO/180,g4=180/fO;function bW(e){return e>0?1:e<0?-1:0}function aa(e){return e>1?0:e<-1?fO:Math.acos(e)}function b1(e){return e>1?fO/2:e<-1?-fO/2:Math.asin(e)}function dF(e){return(Math.exp(e)-Math.exp(-e))/2}function br(e){return(Math.exp(e)+Math.exp(-e))/2}function ay(e){return(e=Math.sin(e/2))*e}gQ.hcl=function(hC,hD,e){return arguments.length===1?hC instanceof cg?bp(hC.h,hC.c,hC.l):hC instanceof cT?gd(hC.l,hC.a,hC.b):gd((hC=dK((hC=gQ.rgb(hC)).r,hC.g,hC.b)).l,hC.a,hC.b):bp(+hC,+hD,+e)};function bp(hC,hD,e){return new cg(hC,hD,e)}function cg(hC,hD,e){this.h=hC;this.c=hD;this.l=e}var gL=cg.prototype=new E();gL.brighter=function(e){return bp(this.h,this.c,Math.min(100,this.l+bf*(arguments.length?e:1)))};gL.darker=function(e){return bp(this.h,this.c,Math.max(0,this.l-bf*(arguments.length?e:1)))};gL.rgb=function(){return bq(this.h,this.c,this.l).rgb()};function bq(hC,hD,e){if(isNaN(hC)){hC=0}if(isNaN(hD)){hD=0}return b9(e,Math.cos(hC*=H)*hD,Math.sin(hC)*hD)}gQ.lab=function(hD,hC,e){return arguments.length===1?hD instanceof cT?b9(hD.l,hD.a,hD.b):hD instanceof cg?bq(hD.l,hD.c,hD.h):dK((hD=gQ.rgb(hD)).r,hD.g,hD.b):b9(+hD,+hC,+e)};function b9(hD,hC,e){return new cT(hD,hC,e)}function cT(hD,hC,e){this.l=hD;this.a=hC;this.b=e}var bf=18;var a8=0.95047,a6=1,a3=1.08883;var f8=cT.prototype=new E();f8.brighter=function(e){return b9(Math.min(100,this.l+bf*(arguments.length?e:1)),this.a,this.b)};f8.darker=function(e){return b9(Math.max(0,this.l-bf*(arguments.length?e:1)),this.a,this.b)};f8.rgb=function(){return aw(this.l,this.a,this.b)};function aw(hE,hD,hC){var hG=(hE+16)/116,e=hG+hD/500,hF=hG-hC/200;e=gx(e)*a8;hG=gx(hG)*a6;hF=gx(hF)*a3;return d7(c(3.2404542*e-1.5371385*hG-0.4985314*hF),c(-0.969266*e+1.8760108*hG+0.041556*hF),c(0.0556434*e-0.2040259*hG+1.0572252*hF))}function gd(hD,hC,e){return hD>0?bp(Math.atan2(e,hC)*g4,Math.sqrt(hC*hC+e*e),hD):bp(NaN,NaN,hD)}function gx(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function f0(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function c(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}gQ.rgb=function(hD,hC,e){return arguments.length===1?hD instanceof eM?d7(hD.r,hD.g,hD.b):aQ(""+hD,d7,a7):d7(~~hD,~~hC,~~e)};function cY(e){return d7(e>>16,e>>8&255,e&255)}function dc(e){return cY(e)+""}function d7(hD,hC,e){return new eM(hD,hC,e)}function eM(hD,hC,e){this.r=hD;this.g=hC;this.b=e}var em=eM.prototype=new E();em.brighter=function(hC){hC=Math.pow(0.7,arguments.length?hC:1);var hF=this.r,hE=this.g,e=this.b,hD=30;if(!hF&&!hE&&!e){return d7(hD,hD,hD)}if(hF&&hF<hD){hF=hD}if(hE&&hE<hD){hE=hD}if(e&&e<hD){e=hD}return d7(Math.min(255,~~(hF/hC)),Math.min(255,~~(hE/hC)),Math.min(255,~~(e/hC)))};em.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return d7(~~(e*this.r),~~(e*this.g),~~(e*this.b))};em.hsl=function(){return f6(this.r,this.g,this.b)};em.toString=function(){return"#"+ci(this.r)+ci(this.g)+ci(this.b)};function ci(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aQ(hG,hE,hH){var e=0,hD=0,hF=0,hJ,hI,hC;hJ=/([a-z]+)\((.*)\)/i.exec(hG);if(hJ){hI=hJ[2].split(",");switch(hJ[1]){case"hsl":return hH(parseFloat(hI[0]),parseFloat(hI[1])/100,parseFloat(hI[2])/100);case"rgb":return hE(ez(hI[0]),ez(hI[1]),ez(hI[2]))}}if(hC=ah.get(hG)){return hE(hC.r,hC.g,hC.b)}if(hG!=null&&hG.charAt(0)==="#"){if(hG.length===4){e=hG.charAt(1);e+=e;hD=hG.charAt(2);hD+=hD;hF=hG.charAt(3);hF+=hF}else{if(hG.length===7){e=hG.substring(1,3);hD=hG.substring(3,5);hF=hG.substring(5,7)}}e=parseInt(e,16);hD=parseInt(hD,16);hF=parseInt(hF,16)}return hE(e,hD,hF)}function f6(e,hF,hH){var hD=Math.min(e/=255,hF/=255,hH/=255),hI=Math.max(e,hF,hH),hG=hI-hD,hE,hJ,hC=(hI+hD)/2;if(hG){hJ=hC<0.5?hG/(hI+hD):hG/(2-hI-hD);if(e==hI){hE=(hF-hH)/hG+(hF<hH?6:0)}else{if(hF==hI){hE=(hH-e)/hG+2}else{hE=(e-hF)/hG+4}}hE*=60}else{hE=NaN;hJ=hC>0&&hC<1?0:hE}return el(hE,hJ,hC)}function dK(hE,hD,hC){hE=dj(hE);hD=dj(hD);hC=dj(hC);var e=f0((0.4124564*hE+0.3575761*hD+0.1804375*hC)/a8),hG=f0((0.2126729*hE+0.7151522*hD+0.072175*hC)/a6),hF=f0((0.0193339*hE+0.119192*hD+0.9503041*hC)/a3);return b9(116*hG-16,500*(e-hG),200*(hG-hF))}function dj(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function ez(hC){var e=parseFloat(hC);return hC.charAt(hC.length-1)==="%"?Math.round(e*2.55):e}var ah=gQ.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ah.forEach(function(e,hC){ah.set(e,cY(hC))});function Q(e){return typeof e==="function"?e:function(){return e}}gQ.functor=Q;function fV(e){return e}gQ.xhr=W(fV);function W(e){return function(hC,hD,hE){if(arguments.length===2&&typeof hD==="function"){hE=hD,hD=null}return ho(hC,hD,e,hE)}}function ho(e,hD,hF,hJ){var hK={},hI=gQ.dispatch("progress","load","error"),hE={},hG=new XMLHttpRequest(),hH=null;if(fd.XDomainRequest&&!("withCredentials" in hG)&&/^(http(s)?:)?\/\//.test(e)){hG=new XDomainRequest()}"onload" in hG?hG.onload=hG.onerror=hC:hG.onreadystatechange=function(){hG.readyState>3&&hC()};function hC(){var hM=hG.status,hL;if(!hM&&hG.responseText||hM>=200&&hM<300||hM===304){try{hL=hF.call(hK,hG)}catch(hN){hI.error.call(hK,hN);return}hI.load.call(hK,hL)}else{hI.error.call(hK,hG)}}hG.onprogress=function(hL){var hM=gQ.event;gQ.event=hL;try{hI.progress.call(hK,hG)}finally{gQ.event=hM}};hK.header=function(hL,hM){hL=(hL+"").toLowerCase();if(arguments.length<2){return hE[hL]}if(hM==null){delete hE[hL]}else{hE[hL]=hM+""}return hK};hK.mimeType=function(hL){if(!arguments.length){return hD}hD=hL==null?null:hL+"";return hK};hK.responseType=function(hL){if(!arguments.length){return hH}hH=hL;return hK};hK.response=function(hL){hF=hL;return hK};["get","post"].forEach(function(hL){hK[hL]=function(){return hK.send.apply(hK,[hL].concat(dx(arguments)))}});hK.send=function(hO,hM,hN){if(arguments.length===2&&typeof hM==="function"){hN=hM,hM=null}hG.open(hO,e,true);if(hD!=null&&!("accept" in hE)){hE.accept=hD+",*/*"}if(hG.setRequestHeader){for(var hL in hE){hG.setRequestHeader(hL,hE[hL])}}if(hD!=null&&hG.overrideMimeType){hG.overrideMimeType(hD)}if(hH!=null){hG.responseType=hH}if(hN!=null){hK.on("error",hN).on("load",function(hP){hN(null,hP)})}hG.send(hM==null?null:hM);return hK};hK.abort=function(){hG.abort();return hK};gQ.rebind(hK,hI,"on");return hJ==null?hK:hK.get(dQ(hJ))}function dQ(e){return e.length===1?function(hC,hD){e(hC==null?hD:null)}:e}gQ.dsv=function(e,hC){var hE=new RegExp('["'+e+"\n]"),hG=e.charCodeAt(0);function hI(hK,hM,hN){if(arguments.length<3){hN=hM,hM=null}var hL=gQ.xhr(hK,hC,hN);hL.row=function(hO){return arguments.length?hL.response((hM=hO)==null?hF:hD(hO)):hM};return hL.row(hM)}function hF(hK){return hI.parse(hK.responseText)}function hD(hK){return function(hL){return hI.parse(hL.responseText,hK)}}hI.parse=function(hM,hK){var hL;return hI.parseRows(hM,function(hP,hO){if(hL){return hL(hP,hO-1)}var hN=new Function("d","return {"+hP.map(function(hQ,hR){return JSON.stringify(hQ)+": d["+hR+"]"}).join(",")+"}");hL=hK?function(hR,hQ){return hK(hN(hR),hQ)}:hN})};hI.parseRows=function(hT,hO){var hL={},hN={},hV=[],hP=hT.length,hS=0,hK=0,hU,hQ;function hM(){if(hS>=hP){return hN}if(hQ){return hQ=false,hL}var hX=hS;if(hT.charCodeAt(hX)===34){var hY=hX;while(hY++<hP){if(hT.charCodeAt(hY)===34){if(hT.charCodeAt(hY+1)!==34){break}++hY}}hS=hY+2;var hZ=hT.charCodeAt(hY+1);if(hZ===13){hQ=true;if(hT.charCodeAt(hY+2)===10){++hS}}else{if(hZ===10){hQ=true}}return hT.substring(hX+1,hY).replace(/""/g,'"')}while(hS<hP){var hZ=hT.charCodeAt(hS++),hW=1;if(hZ===10){hQ=true}else{if(hZ===13){hQ=true;if(hT.charCodeAt(hS)===10){++hS,++hW}}else{if(hZ!==hG){continue}}}return hT.substring(hX,hS-hW)}return hT.substring(hX)}while((hU=hM())!==hN){var hR=[];while(hU!==hL&&hU!==hN){hR.push(hU);hU=hM()}if(hO&&!(hR=hO(hR,hK++))){continue}hV.push(hR)}return hV};hI.format=function(hM){if(Array.isArray(hM[0])){return hI.formatRows(hM)}var hL=new c9(),hK=[];hM.forEach(function(hO){for(var hN in hO){if(!hL.has(hN)){hK.push(hL.add(hN))}}});return[hK.map(hH).join(e)].concat(hM.map(function(hN){return hK.map(function(hO){return hH(hN[hO])}).join(e)})).join("\n")};hI.formatRows=function(hK){return hK.map(hJ).join("\n")};function hJ(hK){return hK.map(hH).join(e)}function hH(hK){return hE.test(hK)?'"'+hK.replace(/\"/g,'""')+'"':hK}return hI};gQ.csv=gQ.dsv(",","text/csv");gQ.tsv=gQ.dsv("	","text/tab-separated-values");var dL,ac,cc,eV,c3,gV=fd[c1(fd,"requestAnimationFrame")]||function(e){setTimeout(e,17)};gQ.timer=function(hG,e,hD){var hF=arguments.length;if(hF<2){e=0}if(hF<3){hD=Date.now()}var hC=hD+e,hE={callback:hG,time:hC,next:null};if(ac){ac.next=hE}else{dL=hE}ac=hE;if(!cc){eV=clearTimeout(eV);cc=1;gV(gW)}};function gW(){var hC=bs(),e=Z()-hC;if(e>24){if(isFinite(e)){clearTimeout(eV);eV=setTimeout(gW,e)}cc=0}else{cc=1;gV(gW)}}gQ.timer.flush=function(){bs();Z()};function ha(hE,e,hC){var hD=arguments.length;if(hD<2){e=0}if(hD<3){hC=Date.now()}c3.callback=hE;c3.time=hC+e}function bs(){var e=Date.now();c3=dL;while(c3){if(e>=c3.time){c3.flush=c3.callback(e-c3.time)}c3=c3.next}return e}function Z(){var hC,e=dL,hD=Infinity;while(e){if(e.flush){e=hC?hC.next=e.next:dL=e.next}else{if(e.time<hD){hD=e.time}e=(hC=e).next}}ac=hC;return hD}var gu=".",eG=",",i=[3,3],bv="$";var ch=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dw);gQ.formatPrefix=function(hD,e){var hC=0;if(hD){if(hD<0){hD*=-1}if(e){hD=gQ.round(hD,dY(hD,e))}hC=1+Math.floor(1e-12+Math.log(hD)/Math.LN10);hC=Math.max(-24,Math.min(24,Math.floor((hC<=0?hC+1:hC-1)/3)*3))}return ch[8+hC/3]};function dw(hD,hC){var e=Math.pow(10,Math.abs(8-hC)*3);return{scale:hC>8?function(hE){return hE/e}:function(hE){return hE*e},symbol:hD}}gQ.round=function(e,hC){return hC?Math.round(e*(hC=Math.pow(10,hC)))/hC:Math.round(e)};gQ.format=function(hM){var hJ=cl.exec(hM),hO=hJ[1]||" ",hK=hJ[2]||">",hC=hJ[3]||"",hE=hJ[4]||"",hF=hJ[5],e=+hJ[6],hP=hJ[7],hI=hJ[8],hL=hJ[9],hD=1,hN="",hH=false;if(hI){hI=+hI.substring(1)}if(hF||hO==="0"&&hK==="="){hF=hO="0";hK="=";if(hP){e-=Math.floor((e-1)/4)}}switch(hL){case"n":hP=true;hL="g";break;case"%":hD=100;hN="%";hL="f";break;case"p":hD=100;hN="%";hL="r";break;case"b":case"o":case"x":case"X":if(hE==="#"){hE="0"+hL.toLowerCase()}case"c":case"d":hH=true;hI=0;break;case"s":hD=-1;hL="r";break}if(hE==="#"){hE=""}else{if(hE==="$"){hE=bv}}if(hL=="r"&&!hI){hL="g"}if(hI!=null){if(hL=="g"){hI=Math.max(1,Math.min(21,hI))}else{if(hL=="e"||hL=="f"){hI=Math.max(0,Math.min(20,hI))}}}hL=v.get(hL)||bb;var hG=hF&&hP;return function(hV){if(hH&&hV%1){return""}var hQ=hV<0||hV===0&&1/hV<0?(hV=-hV,"-"):hC;if(hD<0){var hU=gQ.formatPrefix(hV,hI);hV=hU.scale(hV);hN=hU.symbol}else{hV*=hD}hV=hL(hV,hI);var hR=hV.lastIndexOf("."),hT=hR<0?hV:hV.substring(0,hR),hX=hR<0?"":gu+hV.substring(hR+1);if(!hF&&hP){hT=cZ(hT)}var hS=hE.length+hT.length+hX.length+(hG?0:hQ.length),hW=hS<e?new Array(hS=e-hS+1).join(hO):"";if(hG){hT=cZ(hW+hT)}hQ+=hE;hV=hT+hX;return(hK==="<"?hQ+hV+hW:hK===">"?hW+hQ+hV:hK==="^"?hW.substring(0,hS>>=1)+hQ+hV+hW.substring(hS):hQ+(hG?hV:hW+hV))+hN}};var cl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var v=gQ.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,hC){return e.toPrecision(hC)},e:function(e,hC){return e.toExponential(hC)},f:function(e,hC){return e.toFixed(hC)},r:function(e,hC){return(e=gQ.round(e,dY(e,hC))).toFixed(Math.max(0,Math.min(20,dY(e*(1+1e-15),hC))))}});function dY(e,hC){return hC-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function bb(e){return e+""}var cZ=fV;if(i){var bV=i.length;cZ=function(hF){var hD=hF.length,hC=[],e=0,hE=i[0];while(hD>0&&hE>0){hC.push(hF.substring(hD-=hE,hD+hE));hE=i[e=(e+1)%bV]}return hC.reverse().join(eG)}}gQ.geo={};function eS(){}eS.prototype={s:0,t:0,add:function(e){c7(e,this.t,hh);c7(hh.s,this.s,this);if(this.s){this.t+=hh.t}else{this.s=hh.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hh=new eS();function c7(hE,hD,hG){var hC=hG.s=hE+hD,e=hC-hE,hF=hC-e;hG.t=hE-hF+(hD-e)}gQ.geo.stream=function(e,hC){if(e&&x.hasOwnProperty(e.type)){x[e.type](e,hC)}else{aL(e,hC)}};function aL(hC,e){if(hC&&et.hasOwnProperty(hC.type)){et[hC.type](hC,e)}}var x={Feature:function(e,hC){aL(e.geometry,hC)},FeatureCollection:function(e,hE){var hD=e.features,hC=-1,hF=hD.length;while(++hC<hF){aL(hD[hC].geometry,hE)}}};var et={Sphere:function(e,hC){hC.sphere()},Point:function(e,hC){var hD=e.coordinates;hC.point(hD[0],hD[1])},MultiPoint:function(e,hD){var hE=e.coordinates,hC=-1,hG=hE.length,hF;while(++hC<hG){hF=hE[hC],hD.point(hF[0],hF[1])}},LineString:function(e,hC){ca(e.coordinates,hC,0)},MultiLineString:function(e,hD){var hE=e.coordinates,hC=-1,hF=hE.length;while(++hC<hF){ca(hE[hC],hD,0)}},Polygon:function(e,hC){gK(e.coordinates,hC)},MultiPolygon:function(e,hD){var hE=e.coordinates,hC=-1,hF=hE.length;while(++hC<hF){gK(hE[hC],hD)}},GeometryCollection:function(e,hE){var hD=e.geometries,hC=-1,hF=hD.length;while(++hC<hF){aL(hD[hC],hE)}}};function ca(hE,hD,e){var hC=-1,hG=hE.length-e,hF;hD.lineStart();while(++hC<hG){hF=hE[hC],hD.point(hF[0],hF[1])}hD.lineEnd()}function gK(hD,hC){var e=-1,hE=hD.length;hC.polygonStart();while(++e<hE){ca(hD[e],hC,1)}hC.polygonEnd()}gQ.geo.area=function(e){a1=0;gQ.geo.stream(e,gP);return a1};var a1,fu=new eS();var gP={sphere:function(){a1+=4*fO},point:aB,lineStart:aB,lineEnd:aB,polygonStart:function(){fu.reset();gP.lineStart=bR},polygonEnd:function(){var e=2*fu;a1+=e<0?4*fO+e:e;gP.lineStart=gP.lineEnd=gP.point=aB}};function bR(){var hC,e,hE,hD,hF;gP.point=function(hI,hH){gP.point=hG;hE=(hC=hI)*H,hD=Math.cos(hH=(e=hH)*H/2+fO/4),hF=Math.sin(hH)};function hG(hI,hH){hI*=H;hH=hH*H/2+fO/4;var hM=hI-hE,hO=Math.cos(hH),hN=Math.sin(hH),hK=hF*hN,hL=hD*hO+hK*Math.cos(hM),hJ=hK*Math.sin(hM);fu.add(Math.atan2(hJ,hL));hE=hI,hD=hO,hF=hN}gP.lineEnd=function(){hG(hC,e)}}function ao(e){var hD=e[0],hC=e[1],hE=Math.cos(hC);return[hE*Math.cos(hD),hE*Math.sin(hD),Math.sin(hC)]}function at(hC,e){return hC[0]*e[0]+hC[1]*e[1]+hC[2]*e[2]}function cI(hC,e){return[hC[1]*e[2]-hC[2]*e[1],hC[2]*e[0]-hC[0]*e[2],hC[0]*e[1]-hC[1]*e[0]]}function co(hC,e){hC[0]+=e[0];hC[1]+=e[1];hC[2]+=e[2]}function fP(e,hC){return[e[0]*hC,e[1]*hC,e[2]*hC]}function eZ(hC){var e=Math.sqrt(hC[0]*hC[0]+hC[1]*hC[1]+hC[2]*hC[2]);hC[0]/=e;hC[1]/=e;hC[2]/=e}function hz(e){return[Math.atan2(e[1],e[0]),b1(e[2])]}function eu(hC,e){return Math.abs(hC[0]-e[0])<fX&&Math.abs(hC[1]-e[1])<fX}gQ.geo.bounds=function(){var hE,hU,hC,hS,hF,hM,hO,hG,hJ,hH,hK;var e={point:hP,lineStart:hL,lineEnd:hR,polygonStart:function(){e.point=hQ;e.lineStart=hI;e.lineEnd=hN;hJ=0;gP.polygonStart()},polygonEnd:function(){gP.polygonEnd();e.point=hP;e.lineStart=hL;e.lineEnd=hR;if(fu<0){hE=-(hC=180),hU=-(hS=90)}else{if(hJ>fX){hS=90}else{if(hJ<-fX){hU=-90}}}hK[0]=hE,hK[1]=hC}};function hP(hY,hX){hH.push(hK=[hE=hY,hC=hY]);if(hX<hU){hU=hX}if(hX>hS){hS=hX}}function hD(h1,h7){var hX=ao([h1*H,h7*H]);if(hG){var h3=cI(hG,hX),h4=[h3[1],-h3[0],0],h2=cI(h4,h3);eZ(h2);h2=hz(h2);var h5=h1-hF,h6=h5>0?1:-1,hY=h2[0]*g4*h6,h0=Math.abs(h5)>180;if(h0^(h6*hF<hY&&hY<h6*h1)){var hZ=h2[1]*g4;if(hZ>hS){hS=hZ}}else{if(hY=(hY+360)%360-180,h0^(h6*hF<hY&&hY<h6*h1)){var hZ=-h2[1]*g4;if(hZ<hU){hU=hZ}}else{if(h7<hU){hU=h7}if(h7>hS){hS=h7}}}if(h0){if(h1<hF){if(hT(hE,h1)>hT(hE,hC)){hC=h1}}else{if(hT(h1,hC)>hT(hE,hC)){hE=h1}}}else{if(hC>=hE){if(h1<hE){hE=h1}if(h1>hC){hC=h1}}else{if(h1>hF){if(hT(hE,h1)>hT(hE,hC)){hC=h1}}else{if(hT(h1,hC)>hT(hE,hC)){hE=h1}}}}}else{hP(h1,h7)}hG=hX,hF=h1}function hL(){e.point=hD}function hR(){hK[0]=hE,hK[1]=hC;e.point=hP;hG=null}function hQ(hY,hX){if(hG){var hZ=hY-hF;hJ+=Math.abs(hZ)>180?hZ+(hZ>0?360:-360):hZ}else{hM=hY,hO=hX}gP.point(hY,hX);hD(hY,hX)}function hI(){gP.lineStart()}function hN(){hQ(hM,hO);gP.lineEnd();if(Math.abs(hJ)>fX){hE=-(hC=180)}hK[0]=hE,hK[1]=hC;hG=null}function hT(hY,hX){return(hX-=hY)<0?hX+360:hX}function hW(hY,hX){return hY[0]-hX[0]}function hV(hX,hY){return hY[0]<=hY[1]?hY[0]<=hX&&hX<=hY[1]:hX<hY[0]||hY[1]<hX}return function(h2){hS=hC=-(hE=hU=Infinity);hH=[];gQ.geo.stream(h2,e);var h4=hH.length;if(h4){hH.sort(hW);for(var h1=1,hZ=hH[0],hY,hX=[hZ];h1<h4;++h1){hY=hH[h1];if(hV(hY[0],hZ)||hV(hY[1],hZ)){if(hT(hZ[0],hY[1])>hT(hZ[0],hZ[1])){hZ[1]=hY[1]}if(hT(hY[0],hZ[1])>hT(hZ[0],hZ[1])){hZ[0]=hY[0]}}else{hX.push(hZ=hY)}}var h3=-Infinity,h0;for(var h4=hX.length-1,h1=0,hZ=hX[h4],hY;h1<=h4;hZ=hY,++h1){hY=hX[h1];if((h0=hT(hZ[1],hY[0]))>h3){h3=h0,hE=hY[0],hC=hZ[1]}}}hH=hK=null;return hE===Infinity||hU===Infinity?[[NaN,NaN],[NaN,NaN]]:[[hE,hU],[hC,hS]]}}();gQ.geo.centroid=function(hD){dV=dU=dt=c6=cS=ds=c5=cP=dr=c4=cO=0;gQ.geo.stream(hD,fR);var hC=dr,hF=c4,hE=cO,e=hC*hC+hF*hF+hE*hE;if(e<ei){hC=ds,hF=c5,hE=cP;if(dU<fX){hC=dt,hF=c6,hE=cS}e=hC*hC+hF*hF+hE*hE;if(e<ei){return[NaN,NaN]}}return[Math.atan2(hF,hC)*g4,b1(hE/Math.sqrt(e))*g4]};var dV,dU,dt,c6,cS,ds,c5,cP,dr,c4,cO;var fR={sphere:aB,point:bX,lineStart:eY,lineEnd:az,polygonStart:function(){fR.lineStart=be},polygonEnd:function(){fR.lineStart=eY}};function bX(hC,e){hC*=H;var hD=Math.cos(e*=H);f3(hD*Math.cos(hC),hD*Math.sin(hC),Math.sin(e))}function f3(e,hD,hC){++dV;dt+=(e-dt)/dV;c6+=(hD-c6)/dV;cS+=(hC-cS)/dV}function eY(){var e,hC,hE;fR.point=function(hG,hF){hG*=H;var hH=Math.cos(hF*=H);e=hH*Math.cos(hG);hC=hH*Math.sin(hG);hE=Math.sin(hF);fR.point=hD;f3(e,hC,hE)};function hD(hI,hH){hI*=H;var hJ=Math.cos(hH*=H),hF=hJ*Math.cos(hI),hL=hJ*Math.sin(hI),hK=Math.sin(hH),hG=Math.atan2(Math.sqrt((hG=hC*hK-hE*hL)*hG+(hG=hE*hF-e*hK)*hG+(hG=e*hL-hC*hF)*hG),e*hF+hC*hL+hE*hK);dU+=hG;ds+=hG*(e+(e=hF));c5+=hG*(hC+(hC=hL));cP+=hG*(hE+(hE=hK));f3(e,hC,hE)}}function az(){fR.point=bX}function be(){var hC,e,hD,hE,hG;fR.point=function(hI,hH){hC=hI,e=hH;fR.point=hF;hI*=H;var hJ=Math.cos(hH*=H);hD=hJ*Math.cos(hI);hE=hJ*Math.sin(hI);hG=Math.sin(hH);f3(hD,hE,hG)};fR.lineEnd=function(){hF(hC,e);fR.lineEnd=az;fR.point=bX};function hF(hM,hT){hM*=H;var hK=Math.cos(hT*=H),hP=hK*Math.cos(hM),hO=hK*Math.sin(hM),hN=Math.sin(hT),hL=hE*hN-hG*hO,hJ=hG*hP-hD*hN,hI=hD*hO-hE*hP,hH=Math.sqrt(hL*hL+hJ*hJ+hI*hI),hS=hD*hP+hE*hO+hG*hN,hR=hH&&-aa(hS)/hH,hQ=Math.atan2(hH,hS);dr+=hR*hL;c4+=hR*hJ;cO+=hR*hI;dU+=hQ;ds+=hQ*(hD+(hD=hP));c5+=hQ*(hE+(hE=hO));cP+=hQ*(hG+(hG=hN));f3(hD,hE,hG)}}function ae(){return true}function cd(hJ,hD,hH,hM,hF){var hN=[],hG=[];hJ.forEach(function(hS){if((hV=hS.length-1)<=0){return}var hV,hU=hS[0],hT=hS[hV];if(eu(hU,hT)){hF.lineStart();for(var hR=0;hR<hV;++hR){hF.point((hU=hS[hR])[0],hU[1])}hF.lineEnd();return}var hQ={point:hU,points:hS,other:null,visited:false,entry:true,subject:true},e={point:hU,points:[hU],other:hQ,visited:false,entry:false,subject:false};hQ.other=e;hN.push(hQ);hG.push(e);hQ={point:hT,points:[hT],other:null,visited:false,entry:false,subject:true};e={point:hT,points:[hT],other:hQ,visited:false,entry:true,subject:false};hQ.other=e;hN.push(hQ);hG.push(e)});hG.sort(hD);g9(hN);g9(hG);if(!hN.length){return}if(hH){for(var hI=1,hL=!hH(hG[0].point),hE=hG.length;hI<hE;++hI){hG[hI].entry=hL=!hL}}var hC=hN[0],hK,hP,hO;while(1){hK=hC;while(hK.visited){if((hK=hK.next)===hC){return}}hP=hK.points;hF.lineStart();do{hK.visited=hK.other.visited=true;if(hK.entry){if(hK.subject){for(var hI=0;hI<hP.length;hI++){hF.point((hO=hP[hI])[0],hO[1])}}else{hM(hK.point,hK.next.point,1,hF)}hK=hK.next}else{if(hK.subject){hP=hK.prev.points;for(var hI=hP.length;--hI>=0;){hF.point((hO=hP[hI])[0],hO[1])}}else{hM(hK.point,hK.prev.point,-1,hF)}hK=hK.prev}hK=hK.other;hP=hK.points}while(!hK.visited);hF.lineEnd()}}function g9(hF){if(!(hE=hF.length)){return}var hE,hD=0,hC=hF[0],e;while(++hD<hE){hC.next=e=hF[hD];e.prev=hC;hC=e}hC.next=e=hF[0];e.prev=hC}function d0(hC,hE,hD,e){return function(hG){var hT=hE(hG);var hH={point:hR,lineStart:hN,lineEnd:hK,polygonStart:function(){hH.point=hP;hH.lineStart=hO;hH.lineEnd=hS;hM=[];hQ=[];hG.polygonStart()},polygonEnd:function(){hH.point=hR;hH.lineStart=hN;hH.lineEnd=hK;hM=gQ.merge(hM);if(hM.length){cd(hM,dE,null,hD,hG)}else{if(e(hQ)){hG.lineStart();hD(null,null,1,hG);hG.lineEnd()}}hG.polygonEnd();hM=hQ=null},sphere:function(){hG.polygonStart();hG.lineStart();hD(null,null,1,hG);hG.lineEnd();hG.polygonEnd()}};function hR(hV,hU){if(hC(hV,hU)){hG.point(hV,hU)}}function hL(hV,hU){hT.point(hV,hU)}function hN(){hH.point=hL;hT.lineStart()}function hK(){hH.point=hR;hT.lineEnd()}var hM;var hJ=O(),hF=hE(hJ),hQ,hI;function hP(hV,hU){hF.point(hV,hU);hI.push([hV,hU])}function hO(){hF.lineStart();hI=[]}function hS(){hP(hI[0][0],hI[0][1]);hF.lineEnd();var hW=hF.clean(),hY=hJ.buffer(),hX,hZ=hY.length;hI.pop();hQ.push(hI);hI=null;if(!hZ){return}if(hW&1){hX=hY[0];var hZ=hX.length-1,hV=-1,hU;hG.lineStart();while(++hV<hZ){hG.point((hU=hX[hV])[0],hU[1])}hG.lineEnd();return}if(hZ>1&&hW&2){hY.push(hY.pop().concat(hY.shift()))}hM.push(hY.filter(eq))}return hH}}function eq(e){return e.length>1}function O(){var hC=[],e;return{lineStart:function(){hC.push(e=[])},point:function(hE,hD){e.push([hE,hD])},lineEnd:aB,buffer:function(){var hD=hC;hC=[];e=null;return hD},rejoin:function(){if(hC.length>1){hC.push(hC.pop().concat(hC.shift()))}}}}function dE(hC,e){return((hC=hC.point)[0]<0?hC[1]-fO/2-fX:fO/2-hC[1])-((e=e.point)[0]<0?e[1]-fO/2-fX:fO/2-e[1])}function fr(hT,hO){var h1=hT[0],h2=hT[1],e=[Math.sin(h1),-Math.cos(h1),0],hN=0,h3=false,hP=false,hZ=0;fu.reset();for(var hY=0,hQ=hO.length;hY<hQ;++hY){var hJ=hO[hY],hS=hJ.length;if(!hS){continue}var hG=hJ[0],hD=hG[0],h0=hG[1]/2+fO/4,hI=Math.sin(h0),hC=Math.cos(h0),hX=1;while(true){if(hX===hS){hX=0}hT=hJ[hX];var hR=hT[0],hM=hT[1]/2+fO/4,hE=Math.sin(hM),hW=Math.cos(hM),hV=hR-hD,hF=Math.abs(hV)>fO,hU=hI*hE;fu.add(Math.atan2(hU*Math.sin(hV),hC*hW+hU*Math.cos(hV)));if(Math.abs(hM)<fX){hP=true}hN+=hF?hV+(hV>=0?2:-2)*fO:hV;if(hF^hD>=h1^hR>=h1){var hK=cI(ao(hG),ao(hT));eZ(hK);var hL=cI(e,hK);eZ(hL);var hH=(hF^hV>=0?-1:1)*b1(hL[2]);if(h2>hH){hZ+=hF^hV>=0?1:-1}}if(!hX++){break}hD=hR,hI=hE,hC=hW,hG=hT}if(Math.abs(hN)>fX){h3=true}}return(!hP&&!h3&&fu<0||hN<-fX)^hZ&1}var k=d0(ae,ej,cX,c0);function ej(hF){var hC=NaN,e=NaN,hE=NaN,hD;return{lineStart:function(){hF.lineStart();hD=1},point:function(hH,hG){var hJ=hH>0?fO:-fO,hI=Math.abs(hH-hC);if(Math.abs(hI-fO)<fX){hF.point(hC,e=(e+hG)/2>0?fO/2:-fO/2);hF.point(hE,e);hF.lineEnd();hF.lineStart();hF.point(hJ,e);hF.point(hH,e);hD=0}else{if(hE!==hJ&&hI>=fO){if(Math.abs(hC-hE)<fX){hC-=hE*fX}if(Math.abs(hH-hJ)<fX){hH-=hJ*fX}e=t(hC,e,hH,hG);hF.point(hE,e);hF.lineEnd();hF.lineStart();hF.point(hJ,e);hD=0}}hF.point(hC=hH,e=hG);hE=hJ},lineEnd:function(){hF.lineEnd();hC=e=NaN},clean:function(){return 2-hD}}}function t(hG,hF,hE,hD){var hC,e,hH=Math.sin(hG-hE);return Math.abs(hH)>fX?Math.atan((Math.sin(hF)*(e=Math.cos(hD))*Math.sin(hE)-Math.sin(hD)*(hC=Math.cos(hF))*Math.sin(hG))/(hC*e*hH)):(hF+hD)/2}function cX(hG,hF,hE,hD){var e;if(hG==null){e=hE*fO/2;hD.point(-fO,e);hD.point(0,e);hD.point(fO,e);hD.point(fO,0);hD.point(fO,-e);hD.point(0,-e);hD.point(-fO,-e);hD.point(-fO,0);hD.point(-fO,e)}else{if(Math.abs(hG[0]-hF[0])>fX){var hC=(hG[0]<hF[0]?1:-1)*fO;e=hE*hC/2;hD.point(-hC,e);hD.point(0,e);hD.point(hC,e)}else{hD.point(hF[0],hF[1])}}}var ge=[-fO,0];function c0(e){return fr(ge,e)}function aG(hG){var hH=Math.cos(hG),hF=hH>0,hL=[hG,0],hI=Math.abs(hH)>fX,hJ=bQ(hG,6*H);return d0(hE,hK,hJ,hC);function hE(hN,hM){return Math.cos(hN)*Math.cos(hM)>hH}function hK(hR){var hQ,hP,hM,hO,hN;return{lineStart:function(){hO=hM=false;hN=1},point:function(hT,hS){var hX=[hT,hS],hW,hU=hE(hT,hS),hY=hF?hU?0:e(hT,hS):hU?e(hT+(hT<0?fO:-fO),hS):0;if(!hQ&&(hO=hM=hU)){hR.lineStart()}if(hU!==hM){hW=hD(hQ,hX);if(eu(hQ,hW)||eu(hX,hW)){hX[0]+=fX;hX[1]+=fX;hU=hE(hX[0],hX[1])}}if(hU!==hM){hN=0;if(hU){hR.lineStart();hW=hD(hX,hQ);hR.point(hW[0],hW[1])}else{hW=hD(hQ,hX);hR.point(hW[0],hW[1]);hR.lineEnd()}hQ=hW}else{if(hI&&hQ&&hF^hU){var hV;if(!(hY&hP)&&(hV=hD(hX,hQ,true))){hN=0;if(hF){hR.lineStart();hR.point(hV[0][0],hV[0][1]);hR.point(hV[1][0],hV[1][1]);hR.lineEnd()}else{hR.point(hV[1][0],hV[1][1]);hR.lineEnd();hR.lineStart();hR.point(hV[0][0],hV[0][1])}}}}if(hU&&(!hQ||!eu(hQ,hX))){hR.point(hX[0],hX[1])}hQ=hX,hM=hU,hP=hY},lineEnd:function(){if(hM){hR.lineEnd()}hQ=null},clean:function(){return hN|(hO&&hM)<<1}}}function hD(id,ic,hQ){var hO=ao(id),hM=ao(ic);var hV=[1,0,0],hS=cI(hO,hM),hY=at(hS,hS),ib=hS[0],h4=hY-ib*ib;if(!h4){return !hQ&&id}var h7=hH*hY/h4,h6=-hH*ib/h4,ie=cI(hV,hS),h5=fP(hV,h7),h3=fP(hS,h6);co(h5,h3);var h0=ie,hZ=at(h5,h0),hR=at(h0,h0),hX=hZ*hZ-hR*(at(h5,h5)-1);if(hX<0){return}var h1=Math.sqrt(hX),h2=fP(h0,(-hZ-h1)/hR);co(h2,h5);h2=hz(h2);if(!hQ){return h2}var hP=id[0],hN=ic[0],h9=id[1],h8=ic[1],hU;if(hN<hP){hU=hP,hP=hN,hN=hU}var hT=hN-hP,ig=Math.abs(hT-fO)<fX,ia=ig||hT<fX;if(!ig&&h8<h9){hU=h9,h9=h8,h8=hU}if(ia?ig?h9+h8>0^h2[1]<(Math.abs(h2[0]-hP)<fX?h9:h8):h9<=h2[1]&&h2[1]<=h8:hT>fO^(hP<=h2[0]&&h2[0]<=hN)){var hW=fP(h0,(-hZ+h1)/hR);co(hW,h5);return[h2,hz(hW)]}}function e(hN,hM){var hP=hF?hG:fO-hG,hO=0;if(hN<-hP){hO|=1}else{if(hN>hP){hO|=2}}if(hM<-hP){hO|=4}else{if(hM>hP){hO|=8}}return hO}function hC(hM){return fr(hL,hM)}}var hq=1000000000;function f(hC,hF,e,hD){return function(hO){var hK=hO,hU=O(),h1,hV,hS;var h5={point:h0,lineStart:hX,lineEnd:h2,polygonStart:function(){hO=hU;h1=[];hV=[]},polygonEnd:function(){hO=hK;if((h1=gQ.merge(h1)).length){hO.polygonStart();cd(h1,hG,h3,hT,hO);hO.polygonEnd()}else{if(hW([hC,hF])){hO.polygonStart(),hO.lineStart();hT(null,null,1,hO);hO.lineEnd(),hO.polygonEnd()}}h1=hV=hS=null}};function h3(h6){var h7=hE(h6,-1),h8=hW([h7===0||h7===3?hC:e,h7>1?hD:hF]);return h8}function hW(h6){var ie=0,h7=hV.length,ic=h6[1];for(var ia=0;ia<h7;++ia){for(var h9=1,ig=hV[ia],h8=ig.length,id=ig[0],ib;h9<h8;++h9){ib=ig[h9];if(id[1]<=ic){if(ib[1]>ic&&hP(id,ib,h6)>0){++ie}}else{if(ib[1]<=ic&&hP(id,ib,h6)<0){--ie}}id=ib}}return ie!==0}function hP(h7,h6,h8){return(h6[0]-h7[0])*(h8[1]-h7[1])-(h8[0]-h7[0])*(h6[1]-h7[1])}function hT(ib,ia,h9,h8){var h7=0,h6=0;if(ib==null||(h7=hE(ib,h9))!==(h6=hE(ia,h9))||hH(ib,ia)<0^h9>0){do{h8.point(h7===0||h7===3?hC:e,h7>1?hD:hF)}while((h7=(h7+h9+4)%4)!==h6)}else{h8.point(ia[0],ia[1])}}function hM(h6,h7){return hC<=h6&&h6<=e&&hF<=h7&&h7<=hD}function h0(h6,h7){if(hM(h6,h7)){hO.point(h6,h7)}}var hZ,hQ,hY,h4,hN,hL,hR;function hX(){h5.point=hJ;if(hV){hV.push(hS=[])}hR=true;hL=false;h4=hN=NaN}function h2(){if(h1){hJ(hZ,hQ);if(hY&&hL){hU.rejoin()}h1.push(hU.buffer())}h5.point=h0;if(hL){hO.lineEnd()}}function hJ(h7,ia){h7=Math.max(-hq,Math.min(hq,h7));ia=Math.max(-hq,Math.min(hq,ia));var h9=hM(h7,ia);if(hV){hS.push([h7,ia])}if(hR){hZ=h7,hQ=ia,hY=h9;hR=false;if(h9){hO.lineStart();hO.point(h7,ia)}}else{if(h9&&hL){hO.point(h7,ia)}else{var h8=[h4,hN],h6=[h7,ia];if(hI(h8,h6)){if(!hL){hO.lineStart();hO.point(h8[0],h8[1])}hO.point(h6[0],h6[1]);if(!h9){hO.lineEnd()}}else{if(h9){hO.lineStart();hO.point(h7,ia)}}}}h4=h7,hN=ia,hL=h9}return h5};function hE(hK,hJ){return Math.abs(hK[0]-hC)<fX?hJ>0?0:3:Math.abs(hK[0]-e)<fX?hJ>0?2:1:Math.abs(hK[1]-hF)<fX?hJ>0?1:0:hJ>0?3:2}function hG(hK,hJ){return hH(hK.point,hJ.point)}function hH(hM,hK){var hL=hE(hM,1),hJ=hE(hK,1);return hL!==hJ?hL-hJ:hL===0?hK[1]-hM[1]:hL===1?hM[0]-hK[0]:hL===2?hM[1]-hK[1]:hK[0]-hM[0]}function hI(hL,hJ){var hM=hJ[0]-hL[0],hK=hJ[1]-hL[1],hN=[0,1];if(Math.abs(hM)<fX&&Math.abs(hK)<fX){return hC<=hL[0]&&hL[0]<=e&&hF<=hL[1]&&hL[1]<=hD}if(al(hC-hL[0],hM,hN)&&al(hL[0]-e,-hM,hN)&&al(hF-hL[1],hK,hN)&&al(hL[1]-hD,-hK,hN)){if(hN[1]<1){hJ[0]=hL[0]+hN[1]*hM;hJ[1]=hL[1]+hN[1]*hK}if(hN[0]>0){hL[0]+=hN[0]*hM;hL[1]+=hN[0]*hK}return true}return false}}function al(hC,hE,hD){if(Math.abs(hE)<fX){return hC<=0}var e=hC/hE;if(hE>0){if(e>hD[1]){return false}if(e>hD[0]){hD[0]=e}}else{if(e<hD[0]){return false}if(e<hD[1]){hD[1]=e}}return true}function eL(hC,e){function hD(hE,hF){return hE=hC(hE,hF),e(hE[0],hE[1])}if(hC.invert&&e.invert){hD.invert=function(hE,hF){return hE=e.invert(hE,hF),hE&&hC.invert(hE[0],hE[1])}}return hD}function bT(hE){var hD=0,hC=fO/3,e=eX(hE),hF=e(hD,hC);hF.parallels=function(hG){if(!arguments.length){return[hD/fO*180,hC/fO*180]}return e(hD=hG[0]*fO/180,hC=hG[1]*fO/180)};return hF}function L(hC,e){var hF=Math.sin(hC),hH=(hF+Math.sin(e))/2,hG=1+hF*(2*hH-hF),hE=Math.sqrt(hG)/hH;function hD(hJ,hI){var hK=Math.sqrt(hG-2*hH*Math.sin(hI))/hH;return[hK*Math.sin(hJ*=hH),hE-hK*Math.cos(hJ)]}hD.invert=function(hI,hK){var hJ=hE-hK;return[Math.atan2(hI,hJ)/hH,b1((hG-(hI*hI+hJ*hJ)*hH*hH)/(2*hH))]};return hD}(gQ.geo.conicEqualArea=function(){return bT(L)}).raw=L;gQ.geo.albers=function(){return gQ.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};gQ.geo.albersUsa=function(){var hC=gQ.geo.albers();var hG=gQ.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var hD=gQ.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var hI,e={point:function(hK,hL){hI=[hK,hL]}},hF,hH,hE;function hJ(hL){var hK=hL[0],hM=hL[1];hI=null;(hF(hK,hM),hI)||(hH(hK,hM),hI)||hE(hK,hM);return hI}hJ.invert=function(hN){var hL=hC.scale(),hM=hC.translate(),hK=(hN[0]-hM[0])/hL,hO=(hN[1]-hM[1])/hL;return(hO>=0.12&&hO<0.234&&hK>=-0.425&&hK<-0.214?hG:hO>=0.166&&hO<0.234&&hK>=-0.214&&hK<-0.115?hD:hC).invert(hN)};hJ.stream=function(hM){var hL=hC.stream(hM),hN=hG.stream(hM),hK=hD.stream(hM);return{point:function(hO,hP){hL.point(hO,hP);hN.point(hO,hP);hK.point(hO,hP)},sphere:function(){hL.sphere();hN.sphere();hK.sphere()},lineStart:function(){hL.lineStart();hN.lineStart();hK.lineStart()},lineEnd:function(){hL.lineEnd();hN.lineEnd();hK.lineEnd()},polygonStart:function(){hL.polygonStart();hN.polygonStart();hK.polygonStart()},polygonEnd:function(){hL.polygonEnd();hN.polygonEnd();hK.polygonEnd()}}};hJ.precision=function(hK){if(!arguments.length){return hC.precision()}hC.precision(hK);hG.precision(hK);hD.precision(hK);return hJ};hJ.scale=function(hK){if(!arguments.length){return hC.scale()}hC.scale(hK);hG.scale(hK*0.35);hD.scale(hK);return hJ.translate(hC.translate())};hJ.translate=function(hM){if(!arguments.length){return hC.translate()}var hL=hC.scale(),hK=+hM[0],hN=+hM[1];hF=hC.translate(hM).clipExtent([[hK-0.455*hL,hN-0.238*hL],[hK+0.455*hL,hN+0.238*hL]]).stream(e).point;hH=hG.translate([hK-0.307*hL,hN+0.201*hL]).clipExtent([[hK-0.425*hL+fX,hN+0.12*hL+fX],[hK-0.214*hL-fX,hN+0.234*hL-fX]]).stream(e).point;hE=hD.translate([hK-0.205*hL,hN+0.212*hL]).clipExtent([[hK-0.214*hL+fX,hN+0.166*hL+fX],[hK-0.115*hL-fX,hN+0.234*hL-fX]]).stream(e).point;return hJ};return hJ.scale(1070)};var fs,y,dh={point:aB,lineStart:aB,lineEnd:aB,polygonStart:function(){y=0;dh.lineStart=cw},polygonEnd:function(){dh.lineStart=dh.lineEnd=dh.point=aB;fs+=Math.abs(y/2)}};function cw(){var hE,e,hC,hD;dh.point=function(hG,hH){dh.point=hF;hE=hC=hG,e=hD=hH};function hF(hG,hH){y+=hD*hG-hC*hH;hC=hG,hD=hH}dh.lineEnd=function(){hF(hE,e)}}var ep,d6,en,d5;var ar={point:cE,lineStart:aB,lineEnd:aB,polygonStart:aB,polygonEnd:aB};function cE(e,hC){if(e<ep){ep=e}if(e>en){en=e}if(hC<d6){d6=hC}if(hC>d5){d5=hC}}function b5(){var hD=gE(4.5),hC=[];var hI={point:e,lineStart:function(){hI.point=hH},lineEnd:hG,polygonStart:function(){hI.lineEnd=hE},polygonEnd:function(){hI.lineEnd=hG;hI.point=e},pointRadius:function(hJ){hD=gE(hJ);return hI},result:function(){if(hC.length){var hJ=hC.join("");hC=[];return hJ}}};function e(hJ,hK){hC.push("M",hJ,",",hK,hD)}function hH(hJ,hK){hC.push("M",hJ,",",hK);hI.point=hF}function hF(hJ,hK){hC.push("L",hJ,",",hK)}function hG(){hI.point=e}function hE(){hC.push("Z")}return hI}function gE(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var gC={point:cA,lineStart:fx,lineEnd:cz,polygonStart:function(){gC.lineStart=bL},polygonEnd:function(){gC.point=cA;gC.lineStart=fx;gC.lineEnd=cz}};function cA(e,hC){dt+=e;c6+=hC;++cS}function fx(){var e,hC;gC.point=function(hE,hF){gC.point=hD;cA(e=hE,hC=hF)};function hD(hE,hI){var hG=hE-e,hF=hI-hC,hH=Math.sqrt(hG*hG+hF*hF);ds+=hH*(e+hE)/2;c5+=hH*(hC+hI)/2;cP+=hH;cA(e=hE,hC=hI)}}function cz(){gC.point=cA}function bL(){var hE,e,hC,hD;gC.point=function(hG,hH){gC.point=hF;cA(hE=hC=hG,e=hD=hH)};function hF(hG,hK){var hI=hG-hC,hH=hK-hD,hJ=Math.sqrt(hI*hI+hH*hH);ds+=hJ*(hC+hG)/2;c5+=hJ*(hD+hK)/2;cP+=hJ;hJ=hD*hG-hC*hK;dr+=hJ*(hC+hG);c4+=hJ*(hD+hK);cO+=hJ*3;cA(hC=hG,hD=hK)}gC.lineEnd=function(){hF(hE,e)}}function cs(hC){var hF=4.5;var hI={point:e,lineStart:function(){hI.point=hH},lineEnd:hG,polygonStart:function(){hI.lineEnd=hD},polygonEnd:function(){hI.lineEnd=hG;hI.point=e},pointRadius:function(hJ){hF=hJ;return hI},result:aB};function e(hJ,hK){hC.moveTo(hJ,hK);hC.arc(hJ,hK,hF,0,2*fO)}function hH(hJ,hK){hC.moveTo(hJ,hK);hI.point=hE}function hE(hJ,hK){hC.lineTo(hJ,hK)}function hG(){hI.point=e}function hD(){hC.closePath()}return hI}function ft(hF){var hD=0.5,hE=Math.cos(30*H),hG=16;function hC(hN){var hS,hY,hX,hO,h1,hQ,hI,hJ,h0,hK,h2,hP,hT;var hL={point:hW,lineStart:hR,lineEnd:hZ,polygonStart:function(){hN.polygonStart();hL.lineStart=hM},polygonEnd:function(){hN.polygonEnd();hL.lineStart=hR}};function hW(h3,h4){h3=hF(h3,h4);hN.point(h3[0],h3[1])}function hR(){h0=NaN;hL.point=hH;hN.lineStart()}function hH(h4,h3){var h6=ao([h4,h3]),h5=hF(h4,h3);e(h0,hK,hJ,h2,hP,hT,h0=h5[0],hK=h5[1],hJ=h4,h2=h6[0],hP=h6[1],hT=h6[2],hG,hN);hN.point(h0,hK)}function hZ(){hL.point=hW;hN.lineEnd()}function hM(){hR();hL.point=hV;hL.lineEnd=hU}function hV(h4,h3){hH(hS=h4,hY=h3),hX=h0,hO=hK,h1=h2,hQ=hP,hI=hT;hL.point=hH}function hU(){e(h0,hK,hJ,h2,hP,hT,hX,hO,hS,h1,hQ,hI,hG,hN);hL.lineEnd=hZ;hZ()}return hL}function e(h2,hN,hJ,h9,hQ,hY,h1,hM,hI,h7,hP,hW,h6,hO){var hU=h1-h2,hT=hM-hN,h8=hU*hU+hT*hT;if(h8>4*hD&&h6--){var h5=h9+h7,h4=hQ+hP,h3=hY+hW,hX=Math.sqrt(h5*h5+h4*h4+h3*h3),h0=Math.asin(h3/=hX),hH=Math.abs(Math.abs(h3)-1)<fX?(hJ+hI)/2:Math.atan2(h4,h5),hV=hF(hH,h0),hZ=hV[0],hL=hV[1],hK=hZ-h2,hS=hL-hN,hR=hT*hK-hU*hS;if(hR*hR/h8>hD||Math.abs((hU*hK+hT*hS)/h8-0.5)>0.3||h9*h7+hQ*hP+hY*hW<hE){e(h2,hN,hJ,h9,hQ,hY,hZ,hL,hH,h5/=hX,h4/=hX,h3,h6,hO);hO.point(hZ,hL);e(hZ,hL,hH,h5,h4,h3,h1,hM,hI,h7,hP,hW,h6,hO)}}}hC.precision=function(hH){if(!arguments.length){return Math.sqrt(hD)}hG=(hD=hH*hH)>0&&16;return hC};return hC}gQ.geo.path=function(){var hH=4.5,hC,hE,hF,e,hD;function hI(hJ){if(hJ){if(typeof hH==="function"){e.pointRadius(+hH.apply(this,arguments))}if(!hD||!hD.valid){hD=hF(e)}gQ.geo.stream(hJ,hD)}return e.result()}hI.area=function(hJ){fs=0;gQ.geo.stream(hJ,hF(dh));return fs};hI.centroid=function(hJ){dt=c6=cS=ds=c5=cP=dr=c4=cO=0;gQ.geo.stream(hJ,hF(gC));return cO?[dr/cO,c4/cO]:cP?[ds/cP,c5/cP]:cS?[dt/cS,c6/cS]:[NaN,NaN]};hI.bounds=function(hJ){en=d5=-(ep=d6=Infinity);gQ.geo.stream(hJ,hF(ar));return[[ep,d6],[en,d5]]};hI.projection=function(hJ){if(!arguments.length){return hC}hF=(hC=hJ)?hJ.stream||gM(hJ):fV;return hG()};hI.context=function(hJ){if(!arguments.length){return hE}e=(hE=hJ)==null?new b5():new cs(hJ);if(typeof hH!=="function"){e.pointRadius(hH)}return hG()};hI.pointRadius=function(hJ){if(!arguments.length){return hH}hH=typeof hJ==="function"?hJ:(e.pointRadius(+hJ),+hJ);return hI};function hG(){hD=null;return hI}return hI.projection(gQ.geo.albersUsa()).context(null)};function gM(hC){var e=ft(function(hE,hD){return hC([hE*g4,hD*g4])});return function(hD){hD=e(hD);return{point:function(hF,hE){hD.point(hF*H,hE*H)},sphere:function(){hD.sphere()},lineStart:function(){hD.lineStart()},lineEnd:function(){hD.lineEnd()},polygonStart:function(){hD.polygonStart()},polygonEnd:function(){hD.polygonEnd()}}}}gQ.geo.projection=ff;gQ.geo.projectionMutator=eX;function ff(e){return eX(function(){return e})()}function eX(hP){var hE,hU,hI,hR=ft(function(hZ,h0){hZ=hE(hZ,h0);return[hZ[0]*hT+hG,hD-hZ[1]*hT]}),hT=150,hN=480,hL=250,hS=0,hM=0,hJ=0,hF=0,hQ=0,hG,hD,hY=k,hV=fV,e=null,hC=null,hH;function hX(hZ){hZ=hI(hZ[0]*H,hZ[1]*H);return[hZ[0]*hT+hG,hD-hZ[1]*hT]}function hO(hZ){hZ=hI.invert((hZ[0]-hG)/hT,(hD-hZ[1])/hT);return hZ&&[hZ[0]*g4,hZ[1]*g4]}hX.stream=function(hZ){if(hH){hH.valid=false}hH=U(hU,hY(hR(hV(hZ))));hH.valid=true;return hH};hX.clipAngle=function(hZ){if(!arguments.length){return e}hY=hZ==null?(e=hZ,k):aG((e=+hZ)*H);return hK()};hX.clipExtent=function(hZ){if(!arguments.length){return hC}hC=hZ;hV=hZ==null?fV:f(hZ[0][0],hZ[0][1],hZ[1][0],hZ[1][1]);return hK()};hX.scale=function(hZ){if(!arguments.length){return hT}hT=+hZ;return hW()};hX.translate=function(hZ){if(!arguments.length){return[hN,hL]}hN=+hZ[0];hL=+hZ[1];return hW()};hX.center=function(hZ){if(!arguments.length){return[hS*g4,hM*g4]}hS=hZ[0]%360*H;hM=hZ[1]%360*H;return hW()};hX.rotate=function(hZ){if(!arguments.length){return[hJ*g4,hF*g4,hQ*g4]}hJ=hZ[0]%360*H;hF=hZ[1]%360*H;hQ=hZ.length>2?hZ[2]%360*H:0;return hW()};gQ.rebind(hX,hR,"precision");function hW(){hI=eL(hU=dn(hJ,hF,hQ),hE);var hZ=hE(hS,hM);hG=hN-hZ[0]*hT;hD=hL+hZ[1]*hT;return hK()}function hK(){if(hH){hH.valid=false;hH=null}return hX}return function(){hE=hP.apply(this,arguments);hX.invert=hE.invert&&hO;return hW()}}function U(e,hC){return{point:function(hD,hE){hE=e(hD*H,hE*H),hD=hE[0];hC.point(hD>fO?hD-2*fO:hD<-fO?hD+2*fO:hD,hE[1])},sphere:function(){hC.sphere()},lineStart:function(){hC.lineStart()},lineEnd:function(){hC.lineEnd()},polygonStart:function(){hC.polygonStart()},polygonEnd:function(){hC.polygonEnd()}}}function bm(hC,e){return[hC,e]}(gQ.geo.equirectangular=function(){return ff(bm)}).raw=bm.invert=bm;gQ.geo.rotation=function(hC){hC=dn(hC[0]%360*H,hC[1]*H,hC.length>2?hC[2]*H:0);function e(hD){hD=hC(hD[0]*H,hD[1]*H);return hD[0]*=g4,hD[1]*=g4,hD}e.invert=function(hD){hD=hC.invert(hD[0]*H,hD[1]*H);return hD[0]*=g4,hD[1]*=g4,hD};return e};function dn(hD,hC,e){return hD?hC||e?eL(eD(hD),bG(hC,e)):eD(hD):hC||e?bG(hC,e):bm}function gv(e){return function(hD,hC){return hD+=e,[hD>fO?hD-2*fO:hD<-fO?hD+2*fO:hD,hC]}}function eD(hC){var e=gv(hC);e.invert=gv(-hC);return e}function bG(hG,hC){var hF=Math.cos(hG),hH=Math.sin(hG),e=Math.cos(hC),hD=Math.sin(hC);function hE(hK,hJ){var hM=Math.cos(hJ),hI=Math.cos(hK)*hM,hO=Math.sin(hK)*hM,hN=Math.sin(hJ),hL=hN*hF+hI*hH;return[Math.atan2(hO*e-hL*hD,hI*hF-hN*hH),b1(hL*e+hO*hD)]}hE.invert=function(hK,hJ){var hM=Math.cos(hJ),hI=Math.cos(hK)*hM,hO=Math.sin(hK)*hM,hN=Math.sin(hJ),hL=hN*e-hO*hD;return[Math.atan2(hO*e+hN*hD,hI*hF+hL*hH),b1(hL*hF-hI*hH)]};return hE}gQ.geo.circle=function(){var hC=[0,0],hF,e=6,hD;function hE(){var hG=typeof hC==="function"?hC.apply(this,arguments):hC,hI=dn(-hG[0]*H,-hG[1]*H,0).invert,hH=[];hD(null,null,1,{point:function(hJ,hK){hH.push(hJ=hI(hJ,hK));hJ[0]*=g4,hJ[1]*=g4}});return{type:"Polygon",coordinates:[hH]}}hE.origin=function(hG){if(!arguments.length){return hC}hC=hG;return hE};hE.angle=function(hG){if(!arguments.length){return hF}hD=bQ((hF=+hG)*H,e*H);return hE};hE.precision=function(hG){if(!arguments.length){return e}hD=bQ(hF*H,(e=+hG)*H);return hE};return hE.angle(90)};function bQ(e,hC){var hE=Math.cos(e),hD=Math.sin(e);return function(hL,hK,hJ,hI){if(hL!=null){hL=hk(hE,hL);hK=hk(hE,hK);if(hJ>0?hL<hK:hL>hK){hL+=hJ*2*fO}}else{hL=e+hJ*2*fO;hK=e}var hF;for(var hH=hJ*hC,hG=hL;hJ>0?hG>hK:hG<hK;hG-=hH){hI.point((hF=hz([hE,-hD*Math.cos(hG),-hD*Math.sin(hG)]))[0],hF[1])}}}function hk(hD,e){var hC=ao(e);hC[0]-=hD;eZ(hC);var hE=aa(-hC[1]);return((-hC[2]<0?-hE:hE)+2*Math.PI-fX)%(2*Math.PI)}gQ.geo.distance=function(hI,hH){var hJ=(hH[0]-hI[0])*H,hL=hI[1]*H,hK=hH[1]*H,hF=Math.sin(hJ),hC=Math.cos(hJ),hG=Math.sin(hL),hD=Math.cos(hL),hE=Math.sin(hK),e=Math.cos(hK),hM;return Math.atan2(Math.sqrt((hM=e*hF)*hM+(hM=hD*hE-hG*e*hC)*hM),hG*hE+hD*e*hC)};gQ.geo.graticule=function(){var hP,hR,hS,hT,hE,hF,hG,hI,hN=10,hM=hN,hJ=90,hH=360,hL,hK,hD,hC,hO=2.5;function hQ(){return{type:"MultiLineString",coordinates:e()}}function e(){return gQ.range(Math.ceil(hT/hJ)*hJ,hS,hJ).map(hD).concat(gQ.range(Math.ceil(hI/hH)*hH,hG,hH).map(hC)).concat(gQ.range(Math.ceil(hR/hN)*hN,hP,hN).filter(function(hU){return Math.abs(hU%hJ)>fX}).map(hL)).concat(gQ.range(Math.ceil(hF/hM)*hM,hE,hM).filter(function(hU){return Math.abs(hU%hH)>fX}).map(hK))}hQ.lines=function(){return e().map(function(hU){return{type:"LineString",coordinates:hU}})};hQ.outline=function(){return{type:"Polygon",coordinates:[hD(hT).concat(hC(hG).slice(1),hD(hS).reverse().slice(1),hC(hI).reverse().slice(1))]}};hQ.extent=function(hU){if(!arguments.length){return hQ.minorExtent()}return hQ.majorExtent(hU).minorExtent(hU)};hQ.majorExtent=function(hU){if(!arguments.length){return[[hT,hI],[hS,hG]]}hT=+hU[0][0],hS=+hU[1][0];hI=+hU[0][1],hG=+hU[1][1];if(hT>hS){hU=hT,hT=hS,hS=hU}if(hI>hG){hU=hI,hI=hG,hG=hU}return hQ.precision(hO)};hQ.minorExtent=function(hU){if(!arguments.length){return[[hR,hF],[hP,hE]]}hR=+hU[0][0],hP=+hU[1][0];hF=+hU[0][1],hE=+hU[1][1];if(hR>hP){hU=hR,hR=hP,hP=hU}if(hF>hE){hU=hF,hF=hE,hE=hU}return hQ.precision(hO)};hQ.step=function(hU){if(!arguments.length){return hQ.minorStep()}return hQ.majorStep(hU).minorStep(hU)};hQ.majorStep=function(hU){if(!arguments.length){return[hJ,hH]}hJ=+hU[0],hH=+hU[1];return hQ};hQ.minorStep=function(hU){if(!arguments.length){return[hN,hM]}hN=+hU[0],hM=+hU[1];return hQ};hQ.precision=function(hU){if(!arguments.length){return hO}hO=+hU;hL=aF(hF,hE,90);hK=aD(hR,hP,hO);hD=aF(hI,hG,90);hC=aD(hT,hS,hO);return hQ};return hQ.majorExtent([[-180,-90+fX],[180,90-fX]]).minorExtent([[-180,-80-fX],[180,80+fX]])};function aF(hD,hC,e){var hE=gQ.range(hD,hC-fX,e).concat(hC);return function(hF){return hE.map(function(hG){return[hF,hG]})}}function aD(hE,hD,hC){var e=gQ.range(hE,hD-fX,hC).concat(hD);return function(hF){return e.map(function(hG){return[hG,hF]})}}function g8(e){return e.source}function hi(e){return e.target}gQ.geo.greatArc=function(){var hD=g8,hC,hE=hi,hF;function e(){return{type:"LineString",coordinates:[hC||hD.apply(this,arguments),hF||hE.apply(this,arguments)]}}e.distance=function(){return gQ.geo.distance(hC||hD.apply(this,arguments),hF||hE.apply(this,arguments))};e.source=function(hG){if(!arguments.length){return hD}hD=hG,hC=typeof hG==="function"?null:hG;return e};e.target=function(hG){if(!arguments.length){return hE}hE=hG,hF=typeof hG==="function"?null:hG;return e};e.precision=function(){return arguments.length?e:0};return e};gQ.geo.interpolate=function(e,hC){return g(e[0]*H,e[1]*H,hC[0]*H,hC[1]*H)};function g(hE,hP,hD,hN){var hH=Math.cos(hP),hO=Math.sin(hP),hF=Math.cos(hN),hM=Math.sin(hN),hJ=hH*Math.cos(hE),hC=hH*Math.sin(hE),hI=hF*Math.cos(hD),e=hF*Math.sin(hD),hL=2*Math.asin(Math.sqrt(ay(hN-hP)+hH*hF*ay(hD-hE))),hG=1/Math.sin(hL);var hK=hL?function(hS){var hV=Math.sin(hS*=hL)*hG,hR=Math.sin(hL-hS)*hG,hQ=hR*hJ+hV*hI,hU=hR*hC+hV*e,hT=hR*hO+hV*hM;return[Math.atan2(hU,hQ)*g4,Math.atan2(hT,Math.sqrt(hQ*hQ+hU*hU))*g4]}:function(){return[hE*g4,hP*g4]};hK.distance=hL;return hK}gQ.geo.length=function(e){dD=0;gQ.geo.stream(e,fB);return dD};var dD;var fB={sphere:aB,point:aB,lineStart:hc,lineEnd:aB,polygonStart:aB,polygonEnd:aB};function hc(){var hC,hD,e;fB.point=function(hG,hF){hC=hG*H,hD=Math.sin(hF*=H),e=Math.cos(hF);fB.point=hE};fB.lineEnd=function(){fB.point=fB.lineEnd=aB};function hE(hG,hF){var hJ=Math.sin(hF*=H),hK=Math.cos(hF),hH=Math.abs((hG*=H)-hC),hI=Math.cos(hH);dD+=Math.atan2(Math.sqrt((hH=hK*Math.sin(hH))*hH+(hH=e*hJ-hD*hK*hI)*hH),hD*hJ+e*hK*hI);hC=hG,hD=hJ,e=hK}}function ed(hD,hC){function e(hF,hE){var hI=Math.cos(hF),hH=Math.cos(hE),hG=hD(hI*hH);return[hG*hH*Math.sin(hF),hG*Math.sin(hE)]}e.invert=function(hE,hJ){var hH=Math.sqrt(hE*hE+hJ*hJ),hI=hC(hH),hF=Math.sin(hI),hG=Math.cos(hI);return[Math.atan2(hE*hF,hH*hG),Math.asin(hH&&hJ*hF/hH)]};return e}var bi=ed(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(gQ.geo.azimuthalEqualArea=function(){return ff(bi)}).raw=bi;var bw=ed(function(e){var hC=Math.acos(e);return hC&&hC/Math.sin(hC)},fV);(gQ.geo.azimuthalEquidistant=function(){return ff(bw)}).raw=bw;function fo(hD,hC){var e=Math.cos(hD),hF=function(hI){return Math.tan(fO/4+hI/2)},hH=hD===hC?Math.sin(hD):Math.log(e/Math.cos(hC))/Math.log(hF(hC)/hF(hD)),hG=e*Math.pow(hF(hD),hH)/hH;if(!hH){return aO}function hE(hJ,hI){var hK=Math.abs(Math.abs(hI)-fO/2)<fX?0:hG/Math.pow(hF(hI),hH);return[hK*Math.sin(hH*hJ),hG-hK*Math.cos(hH*hJ)]}hE.invert=function(hI,hL){var hK=hG-hL,hJ=bW(hH)*Math.sqrt(hI*hI+hK*hK);return[Math.atan2(hI,hK)/hH,2*Math.atan(Math.pow(hG/hJ,1/hH))-fO/2]};return hE}(gQ.geo.conicConformal=function(){return bT(fo)}).raw=fo;function g2(hD,hC){var e=Math.cos(hD),hG=hD===hC?Math.sin(hD):(e-Math.cos(hC))/(hC-hD),hF=e/hG+hD;if(Math.abs(hG)<fX){return bm}function hE(hI,hH){var hJ=hF-hH;return[hJ*Math.sin(hG*hI),hF-hJ*Math.cos(hG*hI)]}hE.invert=function(hH,hJ){var hI=hF-hJ;return[Math.atan2(hH,hI)/hG,hF-bW(hG)*Math.sqrt(hH*hH+hI*hI)]};return hE}(gQ.geo.conicEquidistant=function(){return bT(g2)}).raw=g2;var ek=ed(function(e){return 1/e},Math.atan);(gQ.geo.gnomonic=function(){return ff(ek)}).raw=ek;function aO(hC,e){return[hC,Math.log(Math.tan(fO/4+e/2))]}aO.invert=function(e,hC){return[e,2*Math.atan(Math.exp(hC))-fO/2]};function cR(hG){var e=ff(hG),hF=e.scale,hE=e.translate,hC=e.clipExtent,hD;e.scale=function(){var hH=hF.apply(e,arguments);return hH===e?hD?e.clipExtent(null):e:hH};e.translate=function(){var hH=hE.apply(e,arguments);return hH===e?hD?e.clipExtent(null):e:hH};e.clipExtent=function(hJ){var hI=hC.apply(e,arguments);if(hI===e){if(hD=hJ==null){var hH=fO*hF(),hK=hE();hC([[hK[0]-hH,hK[1]-hH],[hK[0]+hH,hK[1]+hH]])}}else{if(hD){hI=null}}return hI};return e.clipExtent(null)}(gQ.geo.mercator=function(){return cR(aO)}).raw=aO;var fD=ed(function(){return 1},Math.asin);(gQ.geo.orthographic=function(){return ff(fD)}).raw=fD;var bZ=ed(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(gQ.geo.stereographic=function(){return ff(bZ)}).raw=bZ;function af(hC,e){var hD=Math.cos(e)*Math.sin(hC);return[Math.log((1+hD)/(1-hD))/2,Math.atan2(Math.tan(e),Math.cos(hC))]}af.invert=function(e,hC){return[Math.atan2(dF(e),Math.cos(hC)),b1(Math.sin(hC)/br(e))]};(gQ.geo.transverseMercator=function(){return cR(af)}).raw=af;gQ.geom={};gQ.svg={};function eQ(hC){var e=gq,hI=go,hH=ae,hE=hj,hG=hE.key,hF=0.7;function hD(hM){var hO=[],hR=[],hN=-1,hJ=hM.length,hQ,hL=Q(e),hK=Q(hI);function hP(){hO.push("M",hE(hC(hR),hF))}while(++hN<hJ){if(hH.call(this,hQ=hM[hN],hN)){hR.push([+hL.call(this,hQ,hN),+hK.call(this,hQ,hN)])}else{if(hR.length){hP();hR=[]}}}if(hR.length){hP()}return hO.length?hO.join(""):null}hD.x=function(hJ){if(!arguments.length){return e}e=hJ;return hD};hD.y=function(hJ){if(!arguments.length){return hI}hI=hJ;return hD};hD.defined=function(hJ){if(!arguments.length){return hH}hH=hJ;return hD};hD.interpolate=function(hJ){if(!arguments.length){return hG}if(typeof hJ==="function"){hG=hE=hJ}else{hG=(hE=b0.get(hJ)||hj).key}return hD};hD.tension=function(hJ){if(!arguments.length){return hF}hF=hJ;return hD};return hD}gQ.svg.line=function(){return eQ(fV)};function gq(e){return e[0]}function go(e){return e[1]}var b0=gQ.map({linear:hj,"linear-closed":X,step:cV,"step-before":bc,"step-after":g0,basis:eU,"basis-open":a9,"basis-closed":cy,bundle:cB,cardinal:dC,"cardinal-open":bP,"cardinal-closed":s,monotone:c2});b0.forEach(function(e,hC){hC.key=e;hC.closed=/-closed$/.test(e)});function hj(e){return e.join("L")}function X(e){return hj(e)+"Z"}function cV(hC){var e=0,hF=hC.length,hE=hC[0],hD=[hE[0],",",hE[1]];while(++e<hF){hD.push("H",(hE[0]+(hE=hC[e])[0])/2,"V",hE[1])}if(hF>1){hD.push("H",hE[0])}return hD.join("")}function bc(hC){var e=0,hF=hC.length,hE=hC[0],hD=[hE[0],",",hE[1]];while(++e<hF){hD.push("V",(hE=hC[e])[1],"H",hE[0])}return hD.join("")}function g0(hC){var e=0,hF=hC.length,hE=hC[0],hD=[hE[0],",",hE[1]];while(++e<hF){hD.push("H",(hE=hC[e])[0],"V",hE[1])}return hD.join("")}function bP(hC,e){return hC.length<4?hj(hC):hC[1]+cJ(hC.slice(1,hC.length-1),bJ(hC,e))}function s(hC,e){return hC.length<3?hj(hC):hC[0]+cJ((hC.push(hC[0]),hC),bJ([hC[hC.length-2]].concat(hC,[hC[1]]),e))}function dC(hC,e){return hC.length<3?hj(hC):hC[0]+cJ(hC,bJ(hC,e))}function cJ(hH,hG){if(hG.length<1||hH.length!=hG.length&&hH.length!=hG.length+2){return hj(hH)}var hI=hH.length!=hG.length,hL="",hJ=hH[0],e=hH[1],hF=hG[0],hK=hF,hD=1;if(hI){hL+="Q"+(e[0]-hF[0]*2/3)+","+(e[1]-hF[1]*2/3)+","+e[0]+","+e[1];hJ=hH[1];hD=2}if(hG.length>1){hK=hG[1];e=hH[hD];hD++;hL+="C"+(hJ[0]+hF[0])+","+(hJ[1]+hF[1])+","+(e[0]-hK[0])+","+(e[1]-hK[1])+","+e[0]+","+e[1];for(var hC=2;hC<hG.length;hC++,hD++){e=hH[hD];hK=hG[hC];hL+="S"+(e[0]-hK[0])+","+(e[1]-hK[1])+","+e[0]+","+e[1]}}if(hI){var hE=hH[hD];hL+="Q"+(e[0]+hK[0]*2/3)+","+(e[1]+hK[1]*2/3)+","+hE[0]+","+hE[1]}return hL}function bJ(hH,hF){var hD=[],hE=(1-hF)/2,hJ,hI=hH[0],hG=hH[1],hC=1,e=hH.length;while(++hC<e){hJ=hI;hI=hG;hG=hH[hC];hD.push([hE*(hG[0]-hJ[0]),hE*(hG[1]-hJ[1])])}return hD}function eU(hI){if(hI.length<3){return hj(hI)}var hD=1,hC=hI.length,hE=hI[0],e=hE[0],hG=hE[1],hH=[e,e,e,(hE=hI[1])[0]],hF=[hG,hG,hG,hE[1]],hJ=[e,",",hG,"L",fY(gR,hH),",",fY(gR,hF)];hI.push(hI[hC-1]);while(++hD<=hC){hE=hI[hD];hH.shift();hH.push(hE[0]);hF.shift();hF.push(hE[1]);bC(hJ,hH,hF)}hI.pop();hJ.push("L",hE);return hJ.join("")}function a9(hE){if(hE.length<4){return hj(hE)}var hG=[],hD=-1,hH=hE.length,hF,hC=[0],e=[0];while(++hD<3){hF=hE[hD];hC.push(hF[0]);e.push(hF[1])}hG.push(fY(gR,hC)+","+fY(gR,e));--hD;while(++hD<hH){hF=hE[hD];hC.shift();hC.push(hF[0]);e.shift();e.push(hF[1]);bC(hG,hC,e)}return hG.join("")}function cy(hF){var hH,hE=-1,hI=hF.length,e=hI+4,hG,hD=[],hC=[];while(++hE<4){hG=hF[hE%hI];hD.push(hG[0]);hC.push(hG[1])}hH=[fY(gR,hD),",",fY(gR,hC)];--hE;while(++hE<e){hG=hF[hE%hI];hD.shift();hD.push(hG[0]);hC.shift();hC.push(hG[1]);bC(hH,hD,hC)}return hH.join("")}function cB(hH,hG){var hD=hH.length-1;if(hD){var hC=hH[0][0],hF=hH[0][1],hK=hH[hD][0]-hC,hJ=hH[hD][1]-hF,hE=-1,e,hI;while(++hE<=hD){e=hH[hE];hI=hE/hD;e[0]=hG*e[0]+(1-hG)*(hC+hI*hK);e[1]=hG*e[1]+(1-hG)*(hF+hI*hJ)}}return eU(hH)}function fY(hC,e){return hC[0]*e[0]+hC[1]*e[1]+hC[2]*e[2]+hC[3]*e[3]}var gT=[0,2/3,1/3,0],gS=[0,1/3,2/3,0],gR=[0,1/6,2/3,1/6];function bC(hC,e,hD){hC.push("C",fY(gT,e),",",fY(gT,hD),",",fY(gS,e),",",fY(gS,hD),",",fY(gR,e),",",fY(gR,hD))}function hu(hC,e){return(e[1]-hC[1])/(e[0]-hC[0])}function dS(hE){var hD=0,hC=hE.length-1,e=[],hH=hE[0],hG=hE[1],hF=e[0]=hu(hH,hG);while(++hD<hC){e[hD]=(hF+(hF=hu(hH=hG,hG=hE[hD+1])))/2}e[hD]=hF;return e}function ap(hI){var hF=[],hE,hH,hG,hJ,e=dS(hI),hD=-1,hC=hI.length-1;while(++hD<hC){hE=hu(hI[hD],hI[hD+1]);if(Math.abs(hE)<0.000001){e[hD]=e[hD+1]=0}else{hH=e[hD]/hE;hG=e[hD+1]/hE;hJ=hH*hH+hG*hG;if(hJ>9){hJ=hE*3/Math.sqrt(hJ);e[hD]=hJ*hH;e[hD+1]=hJ*hG}}}hD=-1;while(++hD<=hC){hJ=(hI[Math.min(hC,hD+1)][0]-hI[Math.max(0,hD-1)][0])/(6*(1+e[hD]*e[hD]));hF.push([hJ||0,e[hD]*hJ||0])}return hF}function c2(e){return e.length<3?hj(e):e[0]+cJ(e,ap(e))}gQ.geom.hull=function(hC){var e=gq,hE=go;if(arguments.length){return hD(hC)}function hD(hZ){if(hZ.length<3){return[]}var hI=Q(e),hH=Q(hE),hP=hZ.length,hK,hM=hP-1,hS=[],hL=[],hX,hT,hQ,hU=0,hW,hG,hV,hF,hO,hN,hY,hR;if(hI===gq&&hE===go){hK=hZ}else{for(hT=0,hK=[];hT<hP;++hT){hK.push([+hI.call(this,hX=hZ[hT],hT),+hH.call(this,hX,hT)])}}for(hT=1;hT<hP;++hT){if(hK[hT][1]<hK[hU][1]||hK[hT][1]==hK[hU][1]&&hK[hT][0]<hK[hU][0]){hU=hT}}for(hT=0;hT<hP;++hT){if(hT===hU){continue}hG=hK[hT][1]-hK[hU][1];hW=hK[hT][0]-hK[hU][0];hS.push({angle:Math.atan2(hG,hW),index:hT})}hS.sort(function(h1,h0){return h1.angle-h0.angle});hY=hS[0].angle;hN=hS[0].index;hO=0;for(hT=1;hT<hM;++hT){hQ=hS[hT].index;if(hY==hS[hT].angle){hW=hK[hN][0]-hK[hU][0];hG=hK[hN][1]-hK[hU][1];hV=hK[hQ][0]-hK[hU][0];hF=hK[hQ][1]-hK[hU][1];if(hW*hW+hG*hG>=hV*hV+hF*hF){hS[hT].index=-1;continue}else{hS[hO].index=-1}}hY=hS[hT].angle;hO=hT;hN=hQ}hL.push(hU);for(hT=0,hQ=0;hT<2;++hQ){if(hS[hQ].index>-1){hL.push(hS[hQ].index);hT++}}hR=hL.length;for(;hQ<hM;++hQ){if(hS[hQ].index<0){continue}while(!dp(hL[hR-2],hL[hR-1],hS[hQ].index,hK)){--hR}hL[hR++]=hS[hQ].index}var hJ=[];for(hT=hR-1;hT>=0;--hT){hJ.push(hZ[hL[hT]])}return hJ}hD.x=function(hF){return arguments.length?(e=hF,hD):e};hD.y=function(hF){return arguments.length?(hE=hF,hD):hE};return hD};function dp(hE,hD,hC,hL){var hM,hK,hJ,hI,hH,hG,hF;hM=hL[hE];hK=hM[0];hJ=hM[1];hM=hL[hD];hI=hM[0];hH=hM[1];hM=hL[hC];hG=hM[0];hF=hM[1];return(hF-hJ)*(hI-hK)-(hH-hJ)*(hG-hK)>0}gQ.geom.polygon=function(e){hw(e,d8);return e};var d8=gQ.geom.polygon.prototype=[];d8.area=function(){var hD=-1,hF=this.length,hC,e=this[hF-1],hE=0;while(++hD<hF){hC=e;e=this[hD];hE+=hC[1]*e[0]-hC[0]*e[1]}return hE*0.5};d8.centroid=function(hE){var hF=-1,hI=this.length,hC=0,hH=0,hD,e=this[hI-1],hG;if(!arguments.length){hE=-1/(6*this.area())}while(++hF<hI){hD=e;e=this[hF];hG=hD[0]*e[1]-e[0]*hD[1];hC+=(hD[0]+e[0])*hG;hH+=(hD[1]+e[1])*hG}return[hC*hE,hH*hE]};d8.clip=function(hI){var hK,hF=gp(hI),hE=-1,e=this.length-gp(this),hD,hC,hL=this[e-1],hJ,hH,hG;while(++hE<e){hK=hI.slice();hI.length=0;hJ=this[hE];hH=hK[(hC=hK.length-hF)-1];hD=-1;while(++hD<hC){hG=hK[hD];if(B(hG,hL,hJ)){if(!B(hH,hL,hJ)){hI.push(fW(hH,hG,hL,hJ))}hI.push(hG)}else{if(B(hH,hL,hJ)){hI.push(fW(hH,hG,hL,hJ))}}hH=hG}if(hF){hI.push(hI[0])}hL=hJ}return hI};function B(hD,hC,e){return(e[0]-hC[0])*(hD[1]-hC[1])<(e[1]-hC[1])*(hD[0]-hC[0])}function fW(hH,hF,hL,hI){var hD=hH[0],e=hL[0],hE=hF[0]-hD,hM=hI[0]-e,hK=hH[1],hG=hL[1],hJ=hF[1]-hK,hN=hI[1]-hG,hC=(hM*(hK-hG)-hN*(hD-e))/(hN*hE-hM*hJ);return[hD+hC*hE,hK+hC*hJ]}function gp(hD){var hC=hD[0],e=hD[hD.length-1];return !(hC[0]-e[0]||hC[1]-e[1])}gQ.geom.delaunay=function(hC){var e=hC.map(function(){return[]}),hD=[];bj(hC,function(hE){e[hE.region.l.index].push(hC[hE.region.r.index])});e.forEach(function(hJ,hI){var hG=hC[hI],hF=hG[0],hK=hG[1];hJ.forEach(function(hL){hL.angle=Math.atan2(hL[0]-hF,hL[1]-hK)});hJ.sort(function(hM,hL){return hM.angle-hL.angle});for(var hH=0,hE=hJ.length-1;hH<hE;hH++){hD.push([hG,hJ[hH],hJ[hH+1]])}});return hD};gQ.geom.voronoi=function(hC){var e=gq,hF=go,hD=null;if(arguments.length){return hE(hC)}function hE(hK){var hO,hN=hK.map(function(){return[]}),hJ=Q(e),hI=Q(hF),hM,hL,hH=hK.length,hG=1000000;if(hJ===gq&&hI===go){hO=hK}else{for(hO=new Array(hH),hL=0;hL<hH;++hL){hO[hL]=[+hJ.call(this,hM=hK[hL],hL),+hI.call(this,hM,hL)]}}bj(hO,function(hR){var hX,hW,hQ,hP,hU,hS;if(hR.a===1&&hR.b>=0){hX=hR.ep.r;hW=hR.ep.l}else{hX=hR.ep.l;hW=hR.ep.r}if(hR.a===1){hU=hX?hX.y:-hG;hQ=hR.c-hR.b*hU;hS=hW?hW.y:hG;hP=hR.c-hR.b*hS}else{hQ=hX?hX.x:-hG;hU=hR.c-hR.a*hQ;hP=hW?hW.x:hG;hS=hR.c-hR.a*hP}var hV=[hQ,hU],hT=[hP,hS];hN[hR.region.l.index].push(hV,hT);hN[hR.region.r.index].push(hV,hT)});hN=hN.map(function(hS,hR){var hQ=hO[hR][0],hU=hO[hR][1],hT=hS.map(function(hV){return Math.atan2(hV[0]-hQ,hV[1]-hU)}),hP=gQ.range(hS.length).sort(function(hW,hV){return hT[hW]-hT[hV]});return hP.filter(function(hW,hV){return !hV||hT[hW]-hT[hP[hV-1]]>fX}).map(function(hV){return hS[hV]})});hN.forEach(function(hZ,hT){var hS=hZ.length;if(!hS){return hZ.push([-hG,-hG],[-hG,hG],[hG,hG],[hG,-hG])}if(hS>2){return}var h4=hO[hT],h2=hZ[0],h1=hZ[1],hR=h4[0],h0=h4[1],hQ=h2[0],hY=h2[1],hP=h1[0],hW=h1[1],h5=Math.abs(hP-hQ),h3=hW-hY;if(Math.abs(h3)<fX){var hV=h0<hY?-hG:hG;hZ.push([-hG,hV],[hG,hV])}else{if(h5<fX){var hX=hR<hQ?-hG:hG;hZ.push([hX,-hG],[hX,hG])}else{var hV=(hP-hQ)*(hY-h0)<(hQ-hR)*(hW-hY)?hG:-hG,hU=Math.abs(h3)-h5;if(Math.abs(hU)<fX){hZ.push([h3<0?hV:-hV,hV])}else{if(hU>0){hV*=-1}hZ.push([-hG,hV],[hG,hV])}}}});if(hD){for(hL=0;hL<hH;++hL){hD.clip(hN[hL])}}for(hL=0;hL<hH;++hL){hN[hL].point=hK[hL]}return hN}hE.x=function(hG){return arguments.length?(e=hG,hE):e};hE.y=function(hG){return arguments.length?(hF=hG,hE):hF};hE.clipExtent=function(hI){if(!arguments.length){return hD&&[hD[0],hD[2]]}if(hI==null){hD=null}else{var hH=+hI[0][0],hK=+hI[0][1],hG=+hI[1][0],hJ=+hI[1][1];hD=gQ.geom.polygon([[hH,hK],[hH,hJ],[hG,hJ],[hG,hK]])}return hE};hE.size=function(hG){if(!arguments.length){return hD&&hD[2]}return hE.clipExtent(hG&&[[0,0],hG])};hE.links=function(hJ){var hM,hN=hJ.map(function(){return[]}),hO=[],hI=Q(e),hH=Q(hF),hL,hK,hG=hJ.length;if(hI===gq&&hH===go){hM=hJ}else{for(hM=new Array(hG),hK=0;hK<hG;++hK){hM[hK]=[+hI.call(this,hL=hJ[hK],hK),+hH.call(this,hL,hK)]}}bj(hM,function(hR){var hP=hR.region.l.index,hQ=hR.region.r.index;if(hN[hP][hQ]){return}hN[hP][hQ]=hN[hQ][hP]=true;hO.push({source:hJ[hP],target:hJ[hQ]})});return hO};hE.triangles=function(hK){if(e===gq&&hF===go){return gQ.geom.delaunay(hK)}var hI=new Array(hM),hJ=Q(e),hH=Q(hF),hL,hG=-1,hM=hK.length;while(++hG<hM){(hI[hG]=[+hJ.call(this,hL=hK[hG],hG),+hH.call(this,hL,hG)]).data=hL}return gQ.geom.delaunay(hI).map(function(hN){return hN.map(function(hO){return hO.data})})};return hE};var bS={l:"r",r:"l"};function bj(hO,hE){var hU={list:hO.map(function(e,hW){return{index:hW,x:e[0],y:e[1]}}).sort(function(hW,e){return hW.y<e.y?-1:hW.y>e.y?1:hW.x<e.x?-1:hW.x>e.x?1:0}),bottomSite:null};var hD={list:[],leftEnd:null,rightEnd:null,init:function(){hD.leftEnd=hD.createHalfEdge(null,"l");hD.rightEnd=hD.createHalfEdge(null,"l");hD.leftEnd.r=hD.rightEnd;hD.rightEnd.l=hD.leftEnd;hD.list.unshift(hD.leftEnd,hD.rightEnd)},createHalfEdge:function(hW,e){return{edge:hW,side:e,vertex:null,l:null,r:null}},insert:function(hW,e){e.l=hW;e.r=hW.r;hW.r.l=e;hW.r=e},leftBound:function(hW){var e=hD.leftEnd;do{e=e.r}while(e!=hD.rightEnd&&hT.rightOf(e,hW));e=e.l;return e},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?hU.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?hU.bottomSite:e.edge.region[bS[e.side]]}};var hT={bisect:function(hZ,hX){var hY={region:{l:hZ,r:hX},ep:{l:null,r:null}};var hW=hX.x-hZ.x,e=hX.y-hZ.y,h1=hW>0?hW:-hW,h0=e>0?e:-e;hY.c=hZ.x*hW+hZ.y*e+(hW*hW+e*e)*0.5;if(h1>h0){hY.a=1;hY.b=e/hW;hY.c/=hW}else{hY.b=1;hY.a=hW/e;hY.c/=e}return hY},intersect:function(hZ,hY){var h4=hZ.edge,h3=hY.edge;if(!h4||!h3||h4.region.r==h3.region.r){return null}var h2=h4.a*h3.b-h4.b*h3.a;if(Math.abs(h2)<1e-10){return null}var hX=(h4.c*h3.b-h3.c*h4.b)/h2,h7=(h3.c*h4.a-h4.c*h3.a)/h2,h6=h4.region.r,h1=h3.region.r,hW,h0;if(h6.y<h1.y||h6.y==h1.y&&h6.x<h1.x){hW=hZ;h0=h4}else{hW=hY;h0=h3}var h5=hX>=h0.region.r.x;if(h5&&hW.side==="l"||!h5&&hW.side==="r"){return null}return{x:hX,y:h7}},rightOf:function(h1,hW){var h5=h1.edge,hZ=h5.region.r,h8=hW.x>hZ.x;if(h8&&h1.side==="l"){return 1}if(!h8&&h1.side==="r"){return 0}if(h5.a===1){var h7=hW.y-hZ.y,hX=hW.x-hZ.x,h2=0,h6=0;if(!h8&&h5.b<0||h8&&h5.b>=0){h6=h2=h7>=h5.b*hX}else{h6=hW.x+hW.y*h5.b>h5.c;if(h5.b<0){h6=!h6}if(!h6){h2=1}}if(!h2){var h9=hZ.x-h5.region.l.x;h6=h5.b*(hX*hX-h7*h7)<h9*h7*(1+2*hX/h9+h5.b*h5.b);if(h5.b<0){h6=!h6}}}else{var hY=h5.c-h5.a*hW.x,h4=hW.y-hY,h3=hW.x-hZ.x,h0=hY-hZ.y;h6=h4*h4>h3*h3+h0*h0}return h1.side==="l"?h6:!h6},endPoint:function(hX,hW,e){hX.ep[hW]=e;if(!hX.ep[bS[hW]]){return}hE(hX)},distance:function(hY,hX){var hW=hY.x-hX.x,e=hY.y-hX.y;return Math.sqrt(hW*hW+e*e)}};var hC={list:[],insert:function(h0,hW,h1){h0.vertex=hW;h0.ystar=hW.y+h1;for(var hX=0,hZ=hC.list,e=hZ.length;hX<e;hX++){var hY=hZ[hX];if(h0.ystar>hY.ystar||h0.ystar==hY.ystar&&hW.x>hY.vertex.x){continue}else{break}}hZ.splice(hX,0,h0)},del:function(hY){for(var hX=0,hW=hC.list,e=hW.length;hX<e&&hW[hX]!=hY;++hX){}hW.splice(hX,1)},empty:function(){return hC.list.length===0},nextEvent:function(hY){for(var hX=0,hW=hC.list,e=hW.length;hX<e;++hX){if(hW[hX]==hY){return hW[hX+1]}}return null},min:function(){var e=hC.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return hC.list.shift()}};hD.init();hU.bottomSite=hU.list.shift();var hV=hU.list.shift(),hH;var hM,hJ,hF,hR,hG;var hK,hL,hS,hN,hI;var hQ,hP;while(true){if(!hC.empty()){hH=hC.min()}if(hV&&(hC.empty()||hV.y<hH.y||hV.y==hH.y&&hV.x<hH.x)){hM=hD.leftBound(hV);hJ=hD.right(hM);hK=hD.rightRegion(hM);hQ=hT.bisect(hK,hV);hG=hD.createHalfEdge(hQ,"l");hD.insert(hM,hG);hN=hT.intersect(hM,hG);if(hN){hC.del(hM);hC.insert(hM,hN,hT.distance(hN,hV))}hM=hG;hG=hD.createHalfEdge(hQ,"r");hD.insert(hM,hG);hN=hT.intersect(hG,hJ);if(hN){hC.insert(hG,hN,hT.distance(hN,hV))}hV=hU.list.shift()}else{if(!hC.empty()){hM=hC.extractMin();hF=hD.left(hM);hJ=hD.right(hM);hR=hD.right(hJ);hK=hD.leftRegion(hM);hL=hD.rightRegion(hJ);hI=hM.vertex;hT.endPoint(hM.edge,hM.side,hI);hT.endPoint(hJ.edge,hJ.side,hI);hD.del(hM);hC.del(hJ);hD.del(hJ);hP="l";if(hK.y>hL.y){hS=hK;hK=hL;hL=hS;hP="r"}hQ=hT.bisect(hK,hL);hG=hD.createHalfEdge(hQ,hP);hD.insert(hF,hG);hT.endPoint(hQ,bS[hP],hI);hN=hT.intersect(hF,hG);if(hN){hC.del(hF);hC.insert(hF,hN,hT.distance(hN,hK))}hN=hT.intersect(hG,hR);if(hN){hC.insert(hG,hN,hT.distance(hN,hK))}}else{break}}}for(hM=hD.right(hD.leftEnd);hM!=hD.rightEnd;hM=hD.right(hM)){hE(hM.edge)}}gQ.geom.quadtree=function(hI,hC,hG,e,hF){var hH=gq,hE=go,hJ;if(hJ=arguments.length){hH=fH;hE=fG;if(hJ===3){hF=hG;e=hC;hG=hC=0}return hD(hI)}function hD(h2){var hZ,hO=Q(hH),hM=Q(hE),hQ,hW,hX,hU,hK,hT,hP,h1;if(hC!=null){hK=hC,hT=hG,hP=e,h1=hF}else{hP=h1=-(hK=hT=Infinity);hQ=[],hW=[];hU=h2.length;if(hJ){for(hX=0;hX<hU;++hX){hZ=h2[hX];if(hZ.x<hK){hK=hZ.x}if(hZ.y<hT){hT=hZ.y}if(hZ.x>hP){hP=hZ.x}if(hZ.y>h1){h1=hZ.y}hQ.push(hZ.x);hW.push(hZ.y)}}else{for(hX=0;hX<hU;++hX){var hY=+hO(hZ=h2[hX],hX),hN=+hM(hZ,hX);if(hY<hK){hK=hY}if(hN<hT){hT=hN}if(hY>hP){hP=hY}if(hN>h1){h1=hN}hQ.push(hY);hW.push(hN)}}}var hS=hP-hK,hR=h1-hT;if(hS>hR){h1=hT+hS}else{hP=hK+hR}function hL(h5,h9,id,ia,h4,ic,h3,ib){if(isNaN(id)||isNaN(ia)){return}if(h5.leaf){var h8=h5.x,h7=h5.y;if(h8!=null){if(Math.abs(h8-id)+Math.abs(h7-ia)<0.01){h0(h5,h9,id,ia,h4,ic,h3,ib)}else{var h6=h5.point;h5.x=h5.y=h5.point=null;h0(h5,h6,h8,h7,h4,ic,h3,ib);h0(h5,h9,id,ia,h4,ic,h3,ib)}}else{h5.x=id,h5.y=ia,h5.point=h9}}else{h0(h5,h9,id,ia,h4,ic,h3,ib)}}function h0(h6,h8,ie,ia,h5,id,h4,ib){var ic=(h5+h4)*0.5,h9=(id+ib)*0.5,ig=ie>=ic,h3=ia>=h9,h7=(h3<<1)+ig;h6.leaf=false;h6=h6.nodes[h7]||(h6.nodes[h7]=fm());if(ig){h5=ic}else{h4=ic}if(h3){id=h9}else{ib=h9}hL(h6,h8,ie,ia,h5,id,h4,ib)}var hV=fm();hV.add=function(h3){hL(hV,h3,+hO(h3,++hX),+hM(h3,hX),hK,hT,hP,h1)};hV.visit=function(h3){cx(h3,hV,hK,hT,hP,h1)};hX=-1;if(hC==null){while(++hX<hU){hL(hV,h2[hX],hQ[hX],hW[hX],hK,hT,hP,h1)}--hX}else{h2.forEach(hV.add)}hQ=hW=h2=hZ=null;return hV}hD.x=function(hK){return arguments.length?(hH=hK,hD):hH};hD.y=function(hK){return arguments.length?(hE=hK,hD):hE};hD.extent=function(hK){if(!arguments.length){return hC==null?null:[[hC,hG],[e,hF]]}if(hK==null){hC=hG=e=hF=null}else{hC=+hK[0][0],hG=+hK[0][1],e=+hK[1][0],hF=+hK[1][1]}return hD};hD.size=function(hK){if(!arguments.length){return hC==null?null:[e-hC,hF-hG]}if(hK==null){hC=hG=e=hF=null}else{hC=hG=0,e=+hK[0],hF=+hK[1]}return hD};return hD};function fH(e){return e.x}function fG(e){return e.y}function fm(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cx(hF,hE,hC,hJ,e,hH){if(!hF(hE,hC,hJ,e,hH)){var hI=(hC+e)*0.5,hG=(hJ+hH)*0.5,hD=hE.nodes;if(hD[0]){cx(hF,hD[0],hC,hJ,hI,hG)}if(hD[1]){cx(hF,hD[1],hI,hJ,e,hG)}if(hD[2]){cx(hF,hD[2],hC,hG,hI,hH)}if(hD[3]){cx(hF,hD[3],hI,hG,e,hH)}}}gQ.interpolateRgb=aJ;function aJ(hC,e){hC=gQ.rgb(hC);e=gQ.rgb(e);var hE=hC.r,hD=hC.g,hH=hC.b,hG=e.r-hE,hF=e.g-hD,hI=e.b-hH;return function(hJ){return"#"+ci(Math.round(hE+hG*hJ))+ci(Math.round(hD+hF*hJ))+ci(Math.round(hH+hI*hJ))}}gQ.interpolateObject=bz;function bz(hC,e){var hE={},hF={},hD;for(hD in hC){if(hD in e){hE[hD]=fh(hC[hD],e[hD])}else{hF[hD]=hC[hD]}}for(hD in e){if(!(hD in hC)){hF[hD]=e[hD]}}return function(hG){for(hD in hE){hF[hD]=hE[hD](hG)}return hF}}gQ.interpolateNumber=bt;function bt(hC,e){e-=hC=+hC;return function(hD){return hC+e*hD}}gQ.interpolateString=bM;function bM(hI,hH){var hE,hG,hF,hK=0,hJ=0,hL=[],e=[],hD,hC;hI=hI+"",hH=hH+"";fw.lastIndex=0;for(hG=0;hE=fw.exec(hH);++hG){if(hE.index){hL.push(hH.substring(hK,hJ=hE.index))}e.push({i:hL.length,x:hE[0]});hL.push(null);hK=fw.lastIndex}if(hK<hH.length){hL.push(hH.substring(hK))}for(hG=0,hD=e.length;(hE=fw.exec(hI))&&hG<hD;++hG){hC=e[hG];if(hC.x==hE[0]){if(hC.i){if(hL[hC.i+1]==null){hL[hC.i-1]+=hC.x;hL.splice(hC.i,1);for(hF=hG+1;hF<hD;++hF){e[hF].i--}}else{hL[hC.i-1]+=hC.x+hL[hC.i+1];hL.splice(hC.i,2);for(hF=hG+1;hF<hD;++hF){e[hF].i-=2}}}else{if(hL[hC.i+1]==null){hL[hC.i]=hC.x}else{hL[hC.i]=hC.x+hL[hC.i+1];hL.splice(hC.i+1,1);for(hF=hG+1;hF<hD;++hF){e[hF].i--}}}e.splice(hG,1);hD--;hG--}else{hC.x=bt(parseFloat(hE[0]),parseFloat(hC.x))}}while(hG<hD){hC=e.pop();if(hL[hC.i+1]==null){hL[hC.i]=hC.x}else{hL[hC.i]=hC.x+hL[hC.i+1];hL.splice(hC.i+1,1)}hD--}if(hL.length===1){return hL[0]==null?(hC=e[0].x,function(hM){return hC(hM)+""}):function(){return hH}}return function(hM){for(hG=0;hG<hD;++hG){hL[(hC=e[hG]).i]=hC.x(hM)}return hL.join("")}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;gQ.interpolate=fh;function fh(hC,e){var hD=gQ.interpolators.length,hE;while(--hD>=0&&!(hE=gQ.interpolators[hD](hC,e))){}return hE}gQ.interpolators=[function(hC,e){var hD=typeof e;return(hD==="string"?ah.has(e)||/^(#|rgb\(|hsl\()/.test(e)?aJ:bM:e instanceof E?aJ:hD==="object"?Array.isArray(e)?er:bz:bt)(hC,e)}];gQ.interpolateArray=er;function er(hF,hD){var hC=[],hI=[],hE=hF.length,e=hD.length,hH=Math.min(hF.length,hD.length),hG;for(hG=0;hG<hH;++hG){hC.push(fh(hF[hG],hD[hG]))}for(;hG<hE;++hG){hI[hG]=hF[hG]}for(;hG<e;++hG){hI[hG]=hD[hG]}return function(hJ){for(hG=0;hG<hH;++hG){hI[hG]=hC[hG](hJ)}return hI}}var gO=function(){return fV};var Y=gQ.map({linear:gO,poly:aN,quad:function(){return bK},cubic:function(){return G},sin:function(){return fN},exp:function(){return e8},circle:function(){return dP},elastic:V,back:gw,bounce:function(){return b6}});var j=gQ.map({"in":fV,out:A,"in-out":aV,"out-in":function(e){return aV(A(e))}});gQ.ease=function(hC){var hE=hC.indexOf("-"),hD=hE>=0?hC.substring(0,hE):hC,e=hE>=0?hC.substring(hE+1):"in";hD=Y.get(hD)||gO;e=j.get(e)||fV;return fe(e(hD.apply(null,Array.prototype.slice.call(arguments,1))))};function fe(e){return function(hC){return hC<=0?0:hC>=1?1:e(hC)}}function A(e){return function(hC){return 1-e(1-hC)}}function aV(e){return function(hC){return 0.5*(hC<0.5?e(2*hC):2-e(2-2*hC))}}function bK(e){return e*e}function G(e){return e*e*e}function aq(hC){if(hC<=0){return 0}if(hC>=1){return 1}var hD=hC*hC,e=hD*hC;return 4*(hC<0.5?e:3*(hC-hD)+e-0.75)}function aN(hC){return function(e){return Math.pow(e,hC)}}function fN(e){return 1-Math.cos(e*fO/2)}function e8(e){return Math.pow(2,10*(e-1))}function dP(e){return 1-Math.sqrt(1-e*e)}function V(e,hD){var hC;if(arguments.length<2){hD=0.45}if(arguments.length){hC=hD/(2*fO)*Math.asin(1/e)}else{e=1,hC=hD/4}return function(hE){return 1+e*Math.pow(2,10*-hE)*Math.sin((hE-hC)*2*fO/hD)}}function gw(e){if(!e){e=1.70158}return function(hC){return hC*hC*((e+1)*hC-e)}}function b6(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}gQ.interpolateHcl=gm;function gm(hD,e){hD=gQ.hcl(hD);e=gQ.hcl(e);var hC=hD.h,hF=hD.c,hH=hD.l,hE=e.h-hC,hG=e.c-hF,hI=e.l-hH;if(isNaN(hG)){hG=0,hF=isNaN(hF)?e.c:hF}if(isNaN(hE)){hE=0,hC=isNaN(hC)?e.h:hC}else{if(hE>180){hE-=360}else{if(hE<-180){hE+=360}}}return function(hJ){return bq(hC+hE*hJ,hF+hG*hJ,hH+hI*hJ)+""}}gQ.interpolateHsl=aW;function aW(hE,e){hE=gQ.hsl(hE);e=gQ.hsl(e);var hD=hE.h,hC=hE.s,hH=hE.l,hG=e.h-hD,hF=e.s-hC,hI=e.l-hH;if(isNaN(hF)){hF=0,hC=isNaN(hC)?e.s:hC}if(isNaN(hG)){hG=0,hD=isNaN(hD)?e.h:hD}else{if(hG>180){hG-=360}else{if(hG<-180){hG+=360}}}return function(hJ){return a7(hD+hG*hJ,hC+hF*hJ,hH+hI*hJ)+""}}gQ.interpolateLab=gZ;function gZ(hC,e){hC=gQ.lab(hC);e=gQ.lab(e);var hF=hC.l,hE=hC.a,hD=hC.b,hI=e.l-hF,hH=e.a-hE,hG=e.b-hD;return function(hJ){return aw(hF+hI*hJ,hE+hH*hJ,hD+hG*hJ)+""}}gQ.interpolateRound=fc;function fc(hC,e){e-=hC;return function(hD){return Math.round(hC+e*hD)}}gQ.transform=function(e){var hC=bA.createElementNS(gQ.ns.prefix.svg,"g");return(gQ.transform=function(hD){if(hD!=null){hC.setAttribute("transform",hD);var hE=hC.transform.baseVal.consolidate()}return new o(hE?hE.matrix:fL)})(e)};function o(e){var hE=[e.a,e.b],hC=[e.c,e.d],hG=e4(hE),hD=eA(hE,hC),hF=e4(bF(hC,hE,-hD))||0;if(hE[0]*hC[1]<hC[0]*hE[1]){hE[0]*=-1;hE[1]*=-1;hG*=-1;hD*=-1}this.rotate=(hG?Math.atan2(hE[1],hE[0]):Math.atan2(-hC[0],hC[1]))*g4;this.translate=[e.e,e.f];this.scale=[hG,hF];this.skew=hF?Math.atan2(hD,hF)*g4:0}o.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eA(hC,e){return hC[0]*e[0]+hC[1]*e[1]}function e4(e){var hC=Math.sqrt(eA(e,e));if(hC){e[0]/=hC;e[1]/=hC}return hC}function bF(hC,e,hD){hC[0]+=hD*e[0];hC[1]+=hD*e[1];return hC}var fL={a:1,b:0,c:0,d:1,e:0,f:0};gQ.interpolateTransform=dZ;function dZ(hO,hN){var hP=[],hC=[],hG,hF=gQ.transform(hO),hE=gQ.transform(hN),hK=hF.translate,hJ=hE.translate,hD=hF.rotate,e=hE.rotate,hI=hF.skew,hH=hE.skew,hM=hF.scale,hL=hE.scale;if(hK[0]!=hJ[0]||hK[1]!=hJ[1]){hP.push("translate(",null,",",null,")");hC.push({i:1,x:bt(hK[0],hJ[0])},{i:3,x:bt(hK[1],hJ[1])})}else{if(hJ[0]||hJ[1]){hP.push("translate("+hJ+")")}else{hP.push("")}}if(hD!=e){if(hD-e>180){e+=360}else{if(e-hD>180){hD+=360}}hC.push({i:hP.push(hP.pop()+"rotate(",null,")")-2,x:bt(hD,e)})}else{if(e){hP.push(hP.pop()+"rotate("+e+")")}}if(hI!=hH){hC.push({i:hP.push(hP.pop()+"skewX(",null,")")-2,x:bt(hI,hH)})}else{if(hH){hP.push(hP.pop()+"skewX("+hH+")")}}if(hM[0]!=hL[0]||hM[1]!=hL[1]){hG=hP.push(hP.pop()+"scale(",null,",",null,")");hC.push({i:hG-4,x:bt(hM[0],hL[0])},{i:hG-2,x:bt(hM[1],hL[1])})}else{if(hL[0]!=1||hL[1]!=1){hP.push(hP.pop()+"scale("+hL+")")}}hG=hC.length;return function(hR){var hQ=-1,hS;while(++hQ<hG){hP[(hS=hC[hQ]).i]=hS.x(hR)}return hP.join("")}}function gX(hC,e){e=e-(hC=+hC)?1/(e-hC):0;return function(hD){return(hD-hC)*e}}function au(hC,e){e=e-(hC=+hC)?1/(e-hC):0;return function(hD){return Math.max(0,Math.min(1,(hD-hC)*e))}}gQ.layout={};gQ.layout.bundle=function(){return function(e){var hD=[],hC=-1,hE=e.length;while(++hC<hE){hD.push(eo(e[hC]))}return hD}};function eo(hE){var hG=hE.source,e=hE.target,hF=fp(hG,e),hD=[hG];while(hG!==hF){hG=hG.parent;hD.push(hG)}var hC=hD.length;while(e!==hF){hD.splice(hC,0,e);e=e.parent}return hD}function e3(hD){var hC=[],e=hD.parent;while(e!=null){hC.push(hD);hD=e;e=e.parent}hC.push(hD);return hC}function fp(hE,hC){if(hE===hC){return hE}var hD=e3(hE),e=e3(hC),hF=hD.pop(),hG=e.pop(),hH=null;while(hF===hG){hH=hF;hF=hD.pop();hG=e.pop()}return hH}gQ.layout.chord=function(){var hG={},hH,hE,hL,hD,hK=0,e,hC,hF;function hJ(){var hQ={},hT=[],h1=gQ.range(hD),hX=[],hR,hZ,hP,hU,hS;hH=[];hE=[];hR=0,hU=-1;while(++hU<hD){hZ=0,hS=-1;while(++hS<hD){hZ+=hL[hU][hS]}hT.push(hZ);hX.push(gQ.range(hD));hR+=hZ}if(e){h1.sort(function(h3,h2){return e(hT[h3],hT[h2])})}if(hC){hX.forEach(function(h3,h2){h3.sort(function(h5,h4){return hC(hL[h2][h5],hL[h2][h4])})})}hR=(2*fO-hK*hD)/hR;hZ=0,hU=-1;while(++hU<hD){hP=hZ,hS=-1;while(++hS<hD){var hY=h1[hU],hW=hX[hY][hS],h0=hL[hY][hW],hO=hZ,hN=hZ+=h0*hR;hQ[hY+"-"+hW]={index:hY,subindex:hW,startAngle:hO,endAngle:hN,value:h0}}hE[hY]={index:hY,startAngle:hP,endAngle:hZ,value:(hZ-hP)/hR};hZ+=hK}hU=-1;while(++hU<hD){hS=hU-1;while(++hS<hD){var hM=hQ[hU+"-"+hS],hV=hQ[hS+"-"+hU];if(hM.value||hV.value){hH.push(hM.value<hV.value?{source:hV,target:hM}:{source:hM,target:hV})}}}if(hF){hI()}}function hI(){hH.sort(function(hN,hM){return hF((hN.source.value+hN.target.value)/2,(hM.source.value+hM.target.value)/2)})}hG.matrix=function(hM){if(!arguments.length){return hL}hD=(hL=hM)&&hL.length;hH=hE=null;return hG};hG.padding=function(hM){if(!arguments.length){return hK}hK=hM;hH=hE=null;return hG};hG.sortGroups=function(hM){if(!arguments.length){return e}e=hM;hH=hE=null;return hG};hG.sortSubgroups=function(hM){if(!arguments.length){return hC}hC=hM;hH=null;return hG};hG.sortChords=function(hM){if(!arguments.length){return hF}hF=hM;if(hH){hI()}return hG};hG.chords=function(){if(!hH){hJ()}return hH};hG.groups=function(){if(!hE){hJ()}return hE};return hG};gQ.layout.force=function(){var hC={},hP=gQ.dispatch("start","tick","end"),hL=[1,1],hR,hF,hI=0.9,hS=fv,hE=cf,hO=-30,hG=0.1,hJ=0.8,hN=[],hD=[],hH,e,hK;function hQ(hT){return function(hW,h1,h0,hZ){if(hW.point!==hT){var hY=hW.cx-hT.x,hV=hW.cy-hT.y,hU=1/Math.sqrt(hY*hY+hV*hV);if((hZ-h1)*hU<hJ){var hX=hW.charge*hU*hU;hT.px-=hY*hX;hT.py-=hV*hX;return true}if(hW.point&&isFinite(hU)){var hX=hW.pointCharge*hU*hU;hT.px-=hY*hX;hT.py-=hV*hX}}return !hW.charge}}hC.tick=function(){if((hF*=0.99)<0.005){hP.end({type:"end",alpha:hF=0});return true}var hV=hN.length,hW=hD.length,hT,hZ,hU,h3,h2,hX,hY,h1,h0;for(hZ=0;hZ<hW;++hZ){hU=hD[hZ];h3=hU.source;h2=hU.target;h1=h2.x-h3.x;h0=h2.y-h3.y;if(hX=h1*h1+h0*h0){hX=hF*e[hZ]*((hX=Math.sqrt(hX))-hH[hZ])/hX;h1*=hX;h0*=hX;h2.x-=h1*(hY=h3.weight/(h2.weight+h3.weight));h2.y-=h0*hY;h3.x+=h1*(hY=1-hY);h3.y+=h0*hY}}if(hY=hF*hG){h1=hL[0]/2;h0=hL[1]/2;hZ=-1;if(hY){while(++hZ<hV){hU=hN[hZ];hU.x+=(h1-hU.x)*hY;hU.y+=(h0-hU.y)*hY}}}if(hO){f9(hT=gQ.geom.quadtree(hN),hF,hK);hZ=-1;while(++hZ<hV){if(!(hU=hN[hZ]).fixed){hT.visit(hQ(hU))}}}hZ=-1;while(++hZ<hV){hU=hN[hZ];if(hU.fixed){hU.x=hU.px;hU.y=hU.py}else{hU.x-=(hU.px-(hU.px=hU.x))*hI;hU.y-=(hU.py-(hU.py=hU.y))*hI}}hP.tick({type:"tick",alpha:hF})};hC.nodes=function(hT){if(!arguments.length){return hN}hN=hT;return hC};hC.links=function(hT){if(!arguments.length){return hD}hD=hT;return hC};hC.size=function(hT){if(!arguments.length){return hL}hL=hT;return hC};hC.linkDistance=function(hT){if(!arguments.length){return hS}hS=typeof hT==="function"?hT:+hT;return hC};hC.distance=hC.linkDistance;hC.linkStrength=function(hT){if(!arguments.length){return hE}hE=typeof hT==="function"?hT:+hT;return hC};hC.friction=function(hT){if(!arguments.length){return hI}hI=+hT;return hC};hC.charge=function(hT){if(!arguments.length){return hO}hO=typeof hT==="function"?hT:+hT;return hC};hC.gravity=function(hT){if(!arguments.length){return hG}hG=+hT;return hC};hC.theta=function(hT){if(!arguments.length){return hJ}hJ=+hT;return hC};hC.alpha=function(hT){if(!arguments.length){return hF}hT=+hT;if(hF){if(hT>0){hF=hT}else{hF=0}}else{if(hT>0){hP.start({type:"start",alpha:hF=hT});gQ.timer(hC.tick)}}return hC};hC.start=function(){var hX,hW,hU=hN.length,hV=hD.length,h0=hL[0],hZ=hL[1],h2,hT;for(hX=0;hX<hU;++hX){(hT=hN[hX]).index=hX;hT.weight=0}for(hX=0;hX<hV;++hX){hT=hD[hX];if(typeof hT.source=="number"){hT.source=hN[hT.source]}if(typeof hT.target=="number"){hT.target=hN[hT.target]}++hT.source.weight;++hT.target.weight}for(hX=0;hX<hU;++hX){hT=hN[hX];if(isNaN(hT.x)){hT.x=hY("x",h0)}if(isNaN(hT.y)){hT.y=hY("y",hZ)}if(isNaN(hT.px)){hT.px=hT.x}if(isNaN(hT.py)){hT.py=hT.y}}hH=[];if(typeof hS==="function"){for(hX=0;hX<hV;++hX){hH[hX]=+hS.call(this,hD[hX],hX)}}else{for(hX=0;hX<hV;++hX){hH[hX]=hS}}e=[];if(typeof hE==="function"){for(hX=0;hX<hV;++hX){e[hX]=+hE.call(this,hD[hX],hX)}}else{for(hX=0;hX<hV;++hX){e[hX]=hE}}hK=[];if(typeof hO==="function"){for(hX=0;hX<hU;++hX){hK[hX]=+hO.call(this,hN[hX],hX)}}else{for(hX=0;hX<hU;++hX){hK[hX]=hO}}function hY(h8,h7){var h6=h1(hX),h5=-1,h4=h6.length,h3;while(++h5<h4){if(!isNaN(h3=h6[h5][h8])){return h3}}return Math.random()*h7}function h1(){if(!h2){h2=[];for(hW=0;hW<hU;++hW){h2[hW]=[]}for(hW=0;hW<hV;++hW){var h3=hD[hW];h2[h3.source.index].push(h3.target);h2[h3.target.index].push(h3.source)}}return h2[hX]}return hC.resume()};hC.resume=function(){return hC.alpha(0.1)};hC.stop=function(){return hC.alpha(0)};hC.drag=function(){if(!hR){hR=gQ.behavior.drag().origin(fV).on("dragstart.force",r).on("drag.force",hM).on("dragend.force",dW)}if(!arguments.length){return hR}this.on("mouseover.force",cj).on("mouseout.force",d2).call(hR)};function hM(hT){hT.px=gQ.event.x,hT.py=gQ.event.y;hC.resume()}return gQ.rebind(hC,hP,"on")};function r(e){e.fixed|=2}function dW(e){e.fixed&=~6}function cj(e){e.fixed|=4;e.px=e.x,e.py=e.y}function d2(e){e.fixed&=~4}function f9(hK,hF,hJ){var hG=0,hD=0;hK.charge=0;if(!hK.leaf){var e=hK.nodes,hC=e.length,hH=-1,hI;while(++hH<hC){hI=e[hH];if(hI==null){continue}f9(hI,hF,hJ);hK.charge+=hI.charge;hG+=hI.charge*hI.cx;hD+=hI.charge*hI.cy}}if(hK.point){if(!hK.leaf){hK.point.x+=Math.random()-0.5;hK.point.y+=Math.random()-0.5}var hE=hF*hJ[hK.point.index];hK.charge+=hK.pointCharge=hE;hG+=hE*hK.point.x;hD+=hE*hK.point.y}hK.cx=hG/hK.charge;hK.cy=hD/hK.charge}var fv=20,cf=1;gQ.layout.hierarchy=function(){var hD=dz,hC=aZ,hF=hb;function hE(hJ,hL,hH){var hO=hC.call(e,hJ,hL);hJ.depth=hL;hH.push(hJ);if(hO&&(hI=hO.length)){var hM=-1,hI,hP=hJ.children=[],hQ=0,hK=hL+1,hN;while(++hM<hI){hN=hE(hO[hM],hK,hH);hN.parent=hJ;hP.push(hN);hQ+=hN.value}if(hD){hP.sort(hD)}if(hF){hJ.value=hQ}}else{if(hF){hJ.value=+hF.call(e,hJ,hL)||0}}return hJ}function hG(hL,hM){var hK=hL.children,hH=0;if(hK&&(hN=hK.length)){var hJ=-1,hN,hI=hM+1;while(++hJ<hN){hH+=hG(hK[hJ],hI)}}else{if(hF){hH=+hF.call(e,hL,hM)||0}}if(hF){hL.value=hH}return hH}function e(hI){var hH=[];hE(hI,0,hH);return hH}e.sort=function(hH){if(!arguments.length){return hD}hD=hH;return e};e.children=function(hH){if(!arguments.length){return hC}hC=hH;return e};e.value=function(hH){if(!arguments.length){return hF}hF=hH;return e};e.revalue=function(hH){hG(hH,0);return hH};return e};function f2(hC,e){gQ.rebind(hC,e,"sort","children","value");hC.nodes=hC;hC.links=f5;return hC}function aZ(e){return e.children}function hb(e){return e.value}function dz(hC,e){return e.value-hC.value}function f5(e){return gQ.merge(e.map(function(hC){return(hC.children||[]).map(function(hD){return{source:hC,target:hD}})}))}gQ.layout.partition=function(){var hD=gQ.layout.hierarchy(),hE=[1,1];function e(hI,hM,hO,hN){var hG=hI.children;hI.x=hM;hI.y=hI.depth*hN;hI.dx=hO;hI.dy=hN;if(hG&&(hH=hG.length)){var hJ=-1,hH,hL,hK;hO=hI.value?hO/hI.value:0;while(++hJ<hH){e(hL=hG[hJ],hM,hK=hL.value*hO,hN);hM+=hK}}}function hF(hI){var hH=hI.children,hJ=0;if(hH&&(hK=hH.length)){var hG=-1,hK;while(++hG<hK){hJ=Math.max(hJ,hF(hH[hG]))}}return 1+hJ}function hC(hI,hH){var hG=hD.call(this,hI,hH);e(hG[0],0,hE[0],hE[1]/hF(hG[0]));return hG}hC.size=function(hG){if(!arguments.length){return hE}hE=hG;return hC};return f2(hC,hD)};gQ.layout.pie=function(){var hF=Number,hE=T,hD=0,hC=2*fO;function e(hL){var hI=hL.map(function(hN,hM){return +hF.call(e,hN,hM)});var hG=+(typeof hD==="function"?hD.apply(this,arguments):hD);var hH=((typeof hC==="function"?hC.apply(this,arguments):hC)-hG)/gQ.sum(hI);var hJ=gQ.range(hL.length);if(hE!=null){hJ.sort(hE===T?function(hN,hM){return hI[hM]-hI[hN]}:function(hN,hM){return hE(hL[hN],hL[hM])})}var hK=[];hJ.forEach(function(hM){var hN;hK[hM]={data:hL[hM],value:hN=hI[hM],startAngle:hG,endAngle:hG+=hN*hH}});return hK}e.value=function(hG){if(!arguments.length){return hF}hF=hG;return e};e.sort=function(hG){if(!arguments.length){return hE}hE=hG;return e};e.startAngle=function(hG){if(!arguments.length){return hD}hD=hG;return e};e.endAngle=function(hG){if(!arguments.length){return hC}hC=hG;return e};return e};var T={};gQ.layout.stack=function(){var hE=fV,hD=bE,hG=fj,hF=fk,hC=ai,hH=ag;function e(hP,hR){var hQ=hP.map(function(hU,hT){return hE.call(e,hU,hT)});var hS=hQ.map(function(hT){return hT.map(function(hU,hV){return[hC.call(e,hU,hV),hH.call(e,hU,hV)]})});var hM=hD.call(e,hS,hR);hQ=gQ.permute(hQ,hM);hS=gQ.permute(hS,hM);var hL=hG.call(e,hS,hR);var hJ=hQ.length,hK=hQ[0].length,hO,hN,hI;for(hN=0;hN<hK;++hN){hF.call(e,hQ[0][hN],hI=hL[hN],hS[0][hN][1]);for(hO=1;hO<hJ;++hO){hF.call(e,hQ[hO][hN],hI+=hS[hO-1][hN][1],hS[hO][hN][1])}}return hP}e.values=function(hI){if(!arguments.length){return hE}hE=hI;return e};e.order=function(hI){if(!arguments.length){return hD}hD=typeof hI==="function"?hI:aX.get(hI)||bE;return e};e.offset=function(hI){if(!arguments.length){return hG}hG=typeof hI==="function"?hI:ad.get(hI)||fj;return e};e.x=function(hI){if(!arguments.length){return hC}hC=hI;return e};e.y=function(hI){if(!arguments.length){return hH}hH=hI;return e};e.out=function(hI){if(!arguments.length){return hF}hF=hI;return e};return e};function ai(e){return e.x}function ag(e){return e.y}function fk(hC,e,hD){hC.y0=e;hC.y=hD}var aX=gQ.map({"inside-out":function(hF){var hD=hF.length,hG,hE,hK=hF.map(bI),hH=hF.map(db),hI=gQ.range(hD).sort(function(hN,hM){return hK[hN]-hK[hM]}),hJ=0,e=0,hL=[],hC=[];for(hG=0;hG<hD;++hG){hE=hI[hG];if(hJ<e){hJ+=hH[hE];hL.push(hE)}else{e+=hH[hE];hC.push(hE)}}return hC.reverse().concat(hL)},reverse:function(e){return gQ.range(e.length).reverse()},"default":bE});var ad=gQ.map({silhouette:function(hF){var hC=hF.length,hD=hF[0].length,hH=[],hI=0,hG,hE,e,hJ=[];for(hE=0;hE<hD;++hE){for(hG=0,e=0;hG<hC;hG++){e+=hF[hG][hE][1]}if(e>hI){hI=e}hH.push(e)}for(hE=0;hE<hD;++hE){hJ[hE]=(hI-hH[hE])/2}return hJ},wiggle:function(hH){var hC=hH.length,hK=hH[0],hD=hK.length,hI,hG,hF,hN,hM,hJ,hO,e,hE,hL=[];hL[0]=e=hE=0;for(hG=1;hG<hD;++hG){for(hI=0,hN=0;hI<hC;++hI){hN+=hH[hI][hG][1]}for(hI=0,hM=0,hO=hK[hG][0]-hK[hG-1][0];hI<hC;++hI){for(hF=0,hJ=(hH[hI][hG][1]-hH[hI][hG-1][1])/(2*hO);hF<hI;++hF){hJ+=(hH[hF][hG][1]-hH[hF][hG-1][1])/hO}hM+=hJ*hH[hI][hG][1]}hL[hG]=e-=hN?hM/hN*hO:0;if(e<hE){hE=e}}for(hG=0;hG<hD;++hG){hL[hG]-=hE}return hL},expand:function(hG){var hI=hG.length,e=hG[0].length,hC=1/hI,hE,hD,hH,hF=[];for(hD=0;hD<e;++hD){for(hE=0,hH=0;hE<hI;hE++){hH+=hG[hE][hD][1]}if(hH){for(hE=0;hE<hI;hE++){hG[hE][hD][1]/=hH}}else{for(hE=0;hE<hI;hE++){hG[hE][hD][1]=hC}}}for(hD=0;hD<e;++hD){hF[hD]=0}return hF},zero:fj});function bE(e){return gQ.range(e.length)}function fj(hE){var hC=-1,e=hE[0].length,hD=[];while(++hC<e){hD[hC]=0}return hD}function bI(hG){var hE=1,hD=0,hC=hG[0][1],e,hF=hG.length;for(;hE<hF;++hE){if((e=hG[hE][1])>hC){hD=hE;hC=e}}return hD}function db(e){return e.reduce(fi,0)}function fi(e,hC){return e+hC[1]}gQ.layout.histogram=function(){var hF=true,hC=Number,e=ba,hD=gY;function hE(hJ,hK){var hP=[],hN=hJ.map(hC,this),hL=e.call(this,hN,hK),hO=hD.call(this,hL,hN,hK),hQ,hK=-1,hG=hN.length,hH=hO.length-1,hI=hF?1:1/hG,hM;while(++hK<hH){hQ=hP[hK]=[];hQ.dx=hO[hK+1]-(hQ.x=hO[hK]);hQ.y=0}if(hH>0){hK=-1;while(++hK<hG){hM=hN[hK];if(hM>=hL[0]&&hM<=hL[1]){hQ=hP[gQ.bisect(hO,hM,1,hH)-1];hQ.y+=hI;hQ.push(hJ[hK])}}}return hP}hE.value=function(hG){if(!arguments.length){return hC}hC=hG;return hE};hE.range=function(hG){if(!arguments.length){return e}e=Q(hG);return hE};hE.bins=function(hG){if(!arguments.length){return hD}hD=typeof hG==="number"?function(hH){return h(hH,hG)}:Q(hG);return hE};hE.frequency=function(hG){if(!arguments.length){return hF}hF=!!hG;return hE};return hE};function gY(hC,e){return h(hC,Math.ceil(Math.log(e.length)/Math.LN2+1))}function h(hE,hG){var hD=-1,hC=+hE[0],e=(hE[1]-hC)/hG,hF=[];while(++hD<=hG){hF[hD]=e*hD+hC}return hF}function ba(e){return[gQ.min(e),gQ.max(e)]}gQ.layout.tree=function(){var hD=gQ.layout.hierarchy().sort(null).value(null),hF=df,hE=[1,1],hC=false;function e(hN,hL){var hH=hD.call(this,hN,hL),hP=hH[0];function hM(hX,hT){var hV=hX.children,h0=hX._tree;if(hV&&(hW=hV.length)){var hW,h2=hV[0],h1,hZ=h2,hU,hY=-1;while(++hY<hW){hU=hV[hY];hM(hU,h1);hZ=hG(hU,h1,hZ);h1=hU}di(hX);var h3=0.5*(h2._tree.prelim+hU._tree.prelim);if(hT){h0.prelim=hT._tree.prelim+hF(hX,hT);h0.mod=h0.prelim-h3}else{h0.prelim=h3}}else{if(hT){h0.prelim=hT._tree.prelim+hF(hX,hT)}}}function hO(hW,hT){hW.x=hW._tree.prelim+hT;var hV=hW.children;if(hV&&(hX=hV.length)){var hU=-1,hX;hT+=hW._tree.mod;while(++hU<hX){hO(hV[hU],hT)}}}function hG(hX,hT,h0){if(hT){var hW=hX,hV=hX,hZ=hT,hY=hX.parent.children[0],h2=hW._tree.mod,h1=hV._tree.mod,h4=hZ._tree.mod,h3=hY._tree.mod,hU;while(hZ=av(hZ),hW=hn(hW),hZ&&hW){hY=hn(hY);hV=av(hV);hV._tree.ancestor=hX;hU=hZ._tree.prelim+h4-hW._tree.prelim-h2+hF(hZ,hW);if(hU>0){hr(fC(hZ,hX,h0),hX,hU);h2+=hU;h1+=hU}h4+=hZ._tree.mod;h2+=hW._tree.mod;h3+=hY._tree.mod;h1+=hV._tree.mod}if(hZ&&!av(hV)){hV._tree.thread=hZ;hV._tree.mod+=h4-h1}if(hW&&!hn(hY)){hY._tree.thread=hW;hY._tree.mod+=h2-h3;h0=hX}}return h0}g5(hP,function(hU,hT){hU._tree={ancestor:hU,prelim:0,mod:0,change:0,shift:0,number:hT?hT._tree.number+1:0}});hM(hP);hO(hP,-hP._tree.prelim);var hK=dM(hP,bu),hS=dM(hP,cL),hR=dM(hP,C),hJ=hK.x-hF(hK,hS)/2,hI=hS.x+hF(hS,hK)/2,hQ=hR.depth||1;g5(hP,hC?function(hT){hT.x*=hE[0];hT.y=hT.depth*hE[1];delete hT._tree}:function(hT){hT.x=(hT.x-hJ)/(hI-hJ)*hE[0];hT.y=hT.depth/hQ*hE[1];delete hT._tree});return hH}e.separation=function(hG){if(!arguments.length){return hF}hF=hG;return e};e.size=function(hG){if(!arguments.length){return hC?null:hE}hC=(hE=hG)==null;return e};e.nodeSize=function(hG){if(!arguments.length){return hC?hE:null}hC=(hE=hG)!=null;return e};return f2(e,hD)};function df(hC,e){return hC.parent==e.parent?1:2}function hn(hC){var e=hC.children;return e&&e.length?e[0]:hC._tree.thread}function av(hC){var e=hC.children,hD;return e&&(hD=e.length)?e[hD-1]:hC._tree.thread}function dM(hD,hE){var hC=hD.children;if(hC&&(hF=hC.length)){var hG,hF,e=-1;while(++e<hF){if(hE(hG=dM(hC[e],hE),hD)>0){hD=hG}}}return hD}function cL(hC,e){return hC.x-e.x}function bu(hC,e){return e.x-hC.x}function C(hC,e){return hC.depth-e.depth}function g5(hC,hD){function e(hI,hH){var hG=hI.children;if(hG&&(hJ=hG.length)){var hK,hF=null,hE=-1,hJ;while(++hE<hJ){hK=hG[hE];e(hK,hF);hF=hK}}hD(hI,hH)}e(hC,null)}function di(hE){var e=0,hG=0,hD=hE.children,hC=hD.length,hF;while(--hC>=0){hF=hD[hC]._tree;hF.prelim+=e;hF.mod+=e;e+=hF.shift+(hG+=hF.change)}}function hr(hC,hD,e){hC=hC._tree;hD=hD._tree;var hE=e/(hD.number-hC.number);hC.change+=hE;hD.change-=hE;hD.shift+=e;hD.prelim+=e;hD.mod+=e}function fC(e,hD,hC){return e._tree.ancestor.parent==hD.parent?e._tree.ancestor:hC}gQ.layout.pack=function(){var hC=gQ.layout.hierarchy().sort(ef),hF=0,hE=[1,1],e;function hD(hN,hJ){var hI=hC.call(this,hN,hJ),hH=hI[0],hG=hE[0],hK=hE[1],hL=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};hH.x=hH.y=0;g5(hH,function(hO){hO.r=+hL(hO.value)});g5(hH,S);if(hF){var hM=hF*(e?1:Math.max(2*hH.r/hG,2*hH.r/hK))/2;g5(hH,function(hO){hO.r+=hM});g5(hH,S);g5(hH,function(hO){hO.r-=hM})}e2(hH,hG/2,hK/2,e?1:1/Math.max(2*hH.r/hG,2*hH.r/hK));return hI}hD.size=function(hG){if(!arguments.length){return hE}hE=hG;return hD};hD.radius=function(hG){if(!arguments.length){return e}e=hG==null||typeof hG==="function"?hG:+hG;return hD};hD.padding=function(hG){if(!arguments.length){return hF}hF=+hG;return hD};return f2(hD,hC)};function ef(hC,e){return hC.value-e.value}function bD(hC,e){var hD=hC._pack_next;hC._pack_next=e;e._pack_prev=hC;e._pack_next=hD;hD._pack_prev=e}function a5(hC,e){hC._pack_next=e;e._pack_prev=hC}function d4(hD,e){var hE=e.x-hD.x,hC=e.y-hD.y,hF=hD.r+e.r;return 0.999*hF*hF>hE*hE+hC*hC}function S(hM){if(!(hL=hM.children)||!(hK=hL.length)){return}var hL,hQ=Infinity,hU=-Infinity,e=Infinity,hF=-Infinity,hT,hS,hR,hP,hO,hN,hK;function hD(hV){hQ=Math.min(hV.x-hV.r,hQ);hU=Math.max(hV.x+hV.r,hU);e=Math.min(hV.y-hV.r,e);hF=Math.max(hV.y+hV.r,hF)}hL.forEach(aM);hT=hL[0];hT.x=-hT.r;hT.y=0;hD(hT);if(hK>1){hS=hL[1];hS.x=hS.r;hS.y=0;hD(hS);if(hK>2){hR=hL[2];a4(hT,hS,hR);hD(hR);bD(hT,hR);hT._pack_prev=hR;bD(hR,hS);hS=hT._pack_next;for(hP=3;hP<hK;hP++){a4(hT,hS,hR=hL[hP]);var hC=0,hG=1,hE=1;for(hO=hS._pack_next;hO!==hS;hO=hO._pack_next,hG++){if(d4(hO,hR)){hC=1;break}}if(hC==1){for(hN=hT._pack_prev;hN!==hO._pack_prev;hN=hN._pack_prev,hE++){if(d4(hN,hR)){break}}}if(hC){if(hG<hE||hG==hE&&hS.r<hT.r){a5(hT,hS=hO)}else{a5(hT=hN,hS)}hP--}else{bD(hT,hR);hS=hR;hD(hR)}}}}var hI=(hQ+hU)/2,hH=(e+hF)/2,hJ=0;for(hP=0;hP<hK;hP++){hR=hL[hP];hR.x-=hI;hR.y-=hH;hJ=Math.max(hJ,hR.r+Math.sqrt(hR.x*hR.x+hR.y*hR.y))}hM.r=hJ;hL.forEach(es)}function aM(e){e._pack_next=e._pack_prev=e}function es(e){delete e._pack_next;delete e._pack_prev}function e2(hF,e,hH,hC){var hE=hF.children;hF.x=e+=hC*hF.x;hF.y=hH+=hC*hF.y;hF.r*=hC;if(hE){var hD=-1,hG=hE.length;while(++hD<hG){e2(hE[hD],e,hH,hC)}}}function a4(hF,hD,e){var hH=hF.r+e.r,hK=hD.x-hF.x,hI=hD.y-hF.y;if(hH&&(hK||hI)){var hJ=hD.r+e.r,hG=hK*hK+hI*hI;hJ*=hJ;hH*=hH;var hE=0.5+(hH-hJ)/(2*hG),hC=Math.sqrt(Math.max(0,2*hJ*(hH+hG)-(hH-=hG)*hH-hJ*hJ))/(2*hG);e.x=hF.x+hE*hK+hC*hI;e.y=hF.y+hE*hI-hC*hK}else{e.x=hF.x+hH;e.y=hF.y}}gQ.layout.cluster=function(){var hD=gQ.layout.hierarchy().sort(null).value(null),hF=df,hE=[1,1],hC=false;function e(hL,hK){var hG=hD.call(this,hL,hK),hM=hG[0],hN,hO=0;g5(hM,function(hR){var hQ=hR.children;if(hQ&&hQ.length){hR.x=bl(hQ);hR.y=bk(hQ)}else{hR.x=hN?hO+=hF(hR,hN):0;hR.y=0;hN=hR}});var hJ=eh(hM),hP=dm(hM),hI=hJ.x-hF(hJ,hP)/2,hH=hP.x+hF(hP,hJ)/2;g5(hM,hC?function(hQ){hQ.x=(hQ.x-hM.x)*hE[0];hQ.y=(hM.y-hQ.y)*hE[1]}:function(hQ){hQ.x=(hQ.x-hI)/(hH-hI)*hE[0];hQ.y=(1-(hM.y?hQ.y/hM.y:1))*hE[1]});return hG}e.separation=function(hG){if(!arguments.length){return hF}hF=hG;return e};e.size=function(hG){if(!arguments.length){return hC?null:hE}hC=(hE=hG)==null;return e};e.nodeSize=function(hG){if(!arguments.length){return hC?hE:null}hC=(hE=hG)!=null;return e};return f2(e,hD)};function bk(e){return 1+gQ.max(e,function(hC){return hC.y})}function bl(e){return e.reduce(function(hC,hD){return hC+hD.x},0)/e.length}function eh(hC){var e=hC.children;return e&&e.length?eh(e[0]):hC}function dm(hC){var e=hC.children,hD;return e&&(hD=e.length)?dm(e[hD-1]):hC}gQ.layout.treemap=function(){var hJ=gQ.layout.hierarchy(),hN=Math.round,hP=[1,1],hK=null,e=eO,hL=false,hH,hG="squarify",hI=0.5*(1+Math.sqrt(5));function hC(hS,hQ){var hR=-1,hV=hS.length,hU,hT;while(++hR<hV){hT=(hU=hS[hR]).value*(hQ<0?0:hQ);hU.area=isNaN(hT)||hT<=0?0:hT}}function hE(hU){var hR=hU.children;if(hR&&hR.length){var hX=e(hU),hZ=[],hW=hR.slice(),hQ,hV=Infinity,hT,hY=hG==="slice"?hX.dx:hG==="dice"?hX.dy:hG==="slice-dice"?hU.depth&1?hX.dy:hX.dx:Math.min(hX.dx,hX.dy),hS;hC(hW,hX.dx*hX.dy/hU.value);hZ.area=0;while((hS=hW.length)>0){hZ.push(hQ=hW[hS-1]);hZ.area+=hQ.area;if(hG!=="squarify"||(hT=hD(hZ,hY))<=hV){hW.pop();hV=hT}else{hZ.area-=hZ.pop().area;hF(hZ,hY,hX,false);hY=Math.min(hX.dx,hX.dy);hZ.length=hZ.area=0;hV=Infinity}}if(hZ.length){hF(hZ,hY,hX,true);hZ.length=hZ.area=0}hR.forEach(hE)}}function hO(hT){var hQ=hT.children;if(hQ&&hQ.length){var hS=e(hT),hR=hQ.slice(),hV,hU=[];hC(hR,hS.dx*hS.dy/hT.value);hU.area=0;while(hV=hR.pop()){hU.push(hV);hU.area+=hV.area;if(hV.z!=null){hF(hU,hV.z?hS.dx:hS.dy,hS,!hR.length);hU.length=hU.area=0}}hQ.forEach(hO)}}function hD(hV,hR){var hT=hV.area,hU,hX=0,hQ=Infinity,hS=-1,hW=hV.length;while(++hS<hW){if(!(hU=hV[hS].area)){continue}if(hU<hQ){hQ=hU}if(hU>hX){hX=hU}}hT*=hT;hR*=hR;return hT?Math.max(hR*hX*hI/hT,hT/(hR*hQ*hI)):Infinity}function hF(hZ,hY,hU,hX){var hS=-1,hR=hZ.length,hV=hU.x,hT=hU.y,hW=hY?hN(hZ.area/hY):0,hQ;if(hY==hU.dx){if(hX||hW>hU.dy){hW=hU.dy}while(++hS<hR){hQ=hZ[hS];hQ.x=hV;hQ.y=hT;hQ.dy=hW;hV+=hQ.dx=Math.min(hU.x+hU.dx-hV,hW?hN(hQ.area/hW):0)}hQ.z=true;hQ.dx+=hU.x+hU.dx-hV;hU.y+=hW;hU.dy-=hW}else{if(hX||hW>hU.dx){hW=hU.dx}while(++hS<hR){hQ=hZ[hS];hQ.x=hV;hQ.y=hT;hQ.dx=hW;hT+=hQ.dy=Math.min(hU.y+hU.dy-hT,hW?hN(hQ.area/hW):0)}hQ.z=false;hQ.dy+=hU.y+hU.dy-hT;hU.x+=hW;hU.dx-=hW}}function hM(hS){var hR=hH||hJ(hS),hQ=hR[0];hQ.x=0;hQ.y=0;hQ.dx=hP[0];hQ.dy=hP[1];if(hH){hJ.revalue(hQ)}hC([hQ],hQ.dx*hQ.dy/hQ.value);(hH?hO:hE)(hQ);if(hL){hH=hR}return hR}hM.size=function(hQ){if(!arguments.length){return hP}hP=hQ;return hM};hM.padding=function(hQ){if(!arguments.length){return hK}function hT(hU){var hV=hQ.call(hM,hU,hU.depth);return hV==null?eO(hU):aT(hU,typeof hV==="number"?[hV,hV,hV,hV]:hV)}function hS(hU){return aT(hU,hQ)}var hR;e=(hK=hQ)==null?eO:(hR=typeof hQ)==="function"?hT:hR==="number"?(hQ=[hQ,hQ,hQ,hQ],hS):hS;return hM};hM.round=function(hQ){if(!arguments.length){return hN!=Number}hN=hQ?Math.round:Number;return hM};hM.sticky=function(hQ){if(!arguments.length){return hL}hL=hQ;hH=null;return hM};hM.ratio=function(hQ){if(!arguments.length){return hI}hI=hQ;return hM};hM.mode=function(hQ){if(!arguments.length){return hG}hG=hQ+"";return hM};return f2(hM,hJ)};function eO(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aT(hE,hF){var e=hE.x+hF[3],hG=hE.y+hF[0],hD=hE.dx-hF[1]-hF[3],hC=hE.dy-hF[0]-hF[2];if(hD<0){e+=hD/2;hD=0}if(hC<0){hG+=hC/2;hC=0}return{x:e,y:hG,dx:hD,dy:hC}}gQ.random={normal:function(hC,e){var hD=arguments.length;if(hD<2){e=1}if(hD<1){hC=0}return function(){var hE,hG,hF;do{hE=Math.random()*2-1;hG=Math.random()*2-1;hF=hE*hE+hG*hG}while(!hF||hF>1);return hC+e*hE*Math.sqrt(-2*Math.log(hF)/hF)}},logNormal:function(){var e=gQ.random.normal.apply(gQ,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var hD=0,hC=0;hC<e;hC++){hD+=Math.random()}return hD/e}}};gQ.scale={};function d9(hC){var hD=hC[0],e=hC[hC.length-1];return hD<e?[hD,e]:[e,hD]}function aS(e){return e.rangeExtent?e.rangeExtent():d9(e.range())}function aA(hF,e,hG,hD){var hC=hG(hF[0],hF[1]),hE=hD(e[0],e[1]);return function(hH){return hE(hC(hH))}}function fT(hH,hF){var hG=0,hE=hH.length-1,hD=hH[hG],hC=hH[hE],e;if(hC<hD){e=hG,hG=hE,hE=e;e=hD,hD=hC,hC=e}hH[hG]=hF.floor(hD);hH[hE]=hF.ceil(hC);return hH}function aY(e){return e?{floor:function(hC){return Math.floor(hC/e)*e},ceil:function(hC){return Math.ceil(hC/e)*e}}:eg}var eg={floor:fV,ceil:fV};function K(hH,hC,hI,hF){var hE=[],hG=[],hD=0,e=Math.min(hH.length,hC.length)-1;if(hH[e]<hH[0]){hH=hH.slice().reverse();hC=hC.slice().reverse()}while(++hD<=e){hE.push(hI(hH[hD-1],hH[hD]));hG.push(hF(hC[hD-1],hC[hD]))}return function(hJ){var hK=gQ.bisect(hH,hJ,1,e)-1;return hG[hK](hE[hK](hJ))}}gQ.scale.linear=function(){return d1([0,1],[0,1],fh,false)};function d1(hG,hE,hF,hI){var hD,hC;function e(){var hJ=Math.min(hG.length,hE.length)>2?K:aA,hK=hI?au:gX;hD=hJ(hG,hE,hK,hF);hC=hJ(hE,hG,hK,fh);return hH}function hH(hJ){return hD(hJ)}hH.invert=function(hJ){return hC(hJ)};hH.domain=function(hJ){if(!arguments.length){return hG}hG=hJ.map(Number);return e()};hH.range=function(hJ){if(!arguments.length){return hE}hE=hJ;return e()};hH.rangeRound=function(hJ){return hH.range(hJ).interpolate(fc)};hH.clamp=function(hJ){if(!arguments.length){return hI}hI=hJ;return e()};hH.interpolate=function(hJ){if(!arguments.length){return hF}hF=hJ;return e()};hH.ticks=function(hJ){return eE(hG,hJ)};hH.tickFormat=function(hJ,hK){return eP(hG,hJ,hK)};hH.nice=function(hJ){aI(hG,hJ);return e()};hH.copy=function(){return d1(hG,hE,hF,hI)};return e()}function fM(hC,e){return gQ.rebind(hC,e,"range","rangeRound","interpolate","clamp")}function aI(hC,e){return fT(hC,aY(e?q(hC,e)[2]:gt(hC)))}function gt(hD){var hC=d9(hD),e=hC[1]-hC[0];return Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1)}function q(hG,e){var hD=d9(hG),hC=hD[1]-hD[0],hF=Math.pow(10,Math.floor(Math.log(hC/e)/Math.LN10)),hE=e/hC*hF;if(hE<=0.15){hF*=10}else{if(hE<=0.35){hF*=5}else{if(hE<=0.75){hF*=2}}}hD[0]=Math.ceil(hD[0]/hF)*hF;hD[1]=Math.floor(hD[1]/hF)*hF+hF*0.5;hD[2]=hF;return hD}function eE(hC,e){return gQ.range.apply(gQ,q(hC,e))}function eP(hD,e,hE){var hC=-Math.floor(Math.log(q(hD,e)[2])/Math.LN10+0.01);return gQ.format(hE?hE.replace(cl,function(hO,hN,hM,hL,hK,hJ,hI,hH,hG,hF){return[hN,hM,hL,hK,hJ,hI,hH,hG||"."+(hC-(hF==="%")*2),hF].join("")}):",."+hC+"f")}gQ.scale.log=function(){return gc(gQ.scale.linear().domain([0,1]),10,true,[1,10])};function gc(hC,hG,e,hF){function hD(hI){return(e?Math.log(hI<0?0:hI):-Math.log(hI>0?0:-hI))/Math.log(hG)}function hE(hI){return e?Math.pow(hG,hI):-Math.pow(hG,-hI)}function hH(hI){return hC(hD(hI))}hH.invert=function(hI){return hE(hC.invert(hI))};hH.domain=function(hI){if(!arguments.length){return hF}e=hI[0]>=0;hC.domain((hF=hI.map(Number)).map(hD));return hH};hH.base=function(hI){if(!arguments.length){return hG}hG=+hI;hC.domain(hF.map(hD));return hH};hH.nice=function(){var hI=fT(hF.map(hD),e?Math:gh);hC.domain(hI);hF=hI.map(hE);return hH};hH.ticks=function(){var hN=d9(hF),hO=[],hL=hN[0],hJ=hN[1],hM=Math.floor(hD(hL)),hK=Math.ceil(hD(hJ)),hP=hG%1?2:hG;if(isFinite(hK-hM)){if(e){for(;hM<hK;hM++){for(var hI=1;hI<hP;hI++){hO.push(hE(hM)*hI)}}hO.push(hE(hM))}else{hO.push(hE(hM));for(;hM++<hK;){for(var hI=hP-1;hI>0;hI--){hO.push(hE(hM)*hI)}}}for(hM=0;hO[hM]<hL;hM++){}for(hK=hO.length;hO[hK-1]>hJ;hK--){}hO=hO.slice(hM,hK)}return hO};hH.tickFormat=function(hM,hL){if(!arguments.length){return da}if(arguments.length<2){hL=da}else{if(typeof hL!=="function"){hL=gQ.format(hL)}}var hI=Math.max(0.1,hM/hH.ticks().length),hJ=e?(hK=1e-12,Math.ceil):(hK=-1e-12,Math.floor),hK;return function(hN){return hN/hE(hJ(hD(hN)+hK))<=hI?hL(hN):""}};hH.copy=function(){return gc(hC.copy(),hG,e,hF)};return fM(hH,hC)}var da=gQ.format(".0e"),gh={floor:function(e){return -Math.ceil(-e)},ceil:function(e){return -Math.floor(-e)}};gQ.scale.pow=function(){return f1(gQ.scale.linear(),1,[0,1])};function f1(e,hE,hD){var hC=fy(hE),hF=fy(1/hE);function hG(hH){return e(hC(hH))}hG.invert=function(hH){return hF(e.invert(hH))};hG.domain=function(hH){if(!arguments.length){return hD}e.domain((hD=hH.map(Number)).map(hC));return hG};hG.ticks=function(hH){return eE(hD,hH)};hG.tickFormat=function(hH,hI){return eP(hD,hH,hI)};hG.nice=function(hH){return hG.domain(aI(hD,hH))};hG.exponent=function(hH){if(!arguments.length){return hE}hC=fy(hE=hH);hF=fy(1/hE);e.domain(hD.map(hC));return hG};hG.copy=function(){return f1(e.copy(),hE,hD)};return fM(hG,e)}function fy(hC){return function(e){return e<0?-Math.pow(-e,hC):Math.pow(e,hC)}}gQ.scale.sqrt=function(){return gQ.scale.pow().exponent(0.5)};gQ.scale.ordinal=function(){return ce([],{t:"range",a:[[]]})};function ce(hG,hD){var hF,hC,hE;function hH(hI){return hC[((hF.get(hI)||hF.set(hI,hG.push(hI)))-1)%hC.length]}function e(hJ,hI){return gQ.range(hG.length).map(function(hK){return hJ+hI*hK})}hH.domain=function(hI){if(!arguments.length){return hG}hG=[];hF=new aC();var hK=-1,hL=hI.length,hJ;while(++hK<hL){if(!hF.has(hJ=hI[hK])){hF.set(hJ,hG.push(hJ))}}return hH[hD.t].apply(hH,hD.a)};hH.range=function(hI){if(!arguments.length){return hC}hC=hI;hE=0;hD={t:"range",a:arguments};return hH};hH.rangePoints=function(hI,hL){if(arguments.length<2){hL=0}var hM=hI[0],hJ=hI[1],hK=(hJ-hM)/(Math.max(1,hG.length-1)+hL);hC=e(hG.length<2?(hM+hJ)/2:hM+hK*hL/2,hK);hE=0;hD={t:"rangePoints",a:arguments};return hH};hH.rangeBands=function(hJ,hN,hI){if(arguments.length<2){hN=0}if(arguments.length<3){hI=hN}var hK=hJ[1]<hJ[0],hO=hJ[hK-0],hL=hJ[1-hK],hM=(hL-hO)/(hG.length-hN+2*hI);hC=e(hO+hM*hI,hM);if(hK){hC.reverse()}hE=hM*(1-hN);hD={t:"rangeBands",a:arguments};return hH};hH.rangeRoundBands=function(hJ,hO,hI){if(arguments.length<2){hO=0}if(arguments.length<3){hI=hO}var hL=hJ[1]<hJ[0],hP=hJ[hL-0],hM=hJ[1-hL],hN=Math.floor((hM-hP)/(hG.length-hO+2*hI)),hK=hM-hP-(hG.length-hO)*hN;hC=e(hP+Math.round(hK/2),hN);if(hL){hC.reverse()}hE=Math.round(hN*(1-hO));hD={t:"rangeRoundBands",a:arguments};return hH};hH.rangeBand=function(){return hE};hH.rangeExtent=function(){return d9(hD.a[0])};hH.copy=function(){return ce(hG,hD)};return hH.domain(hG)}gQ.scale.category10=function(){return gQ.scale.ordinal().range(cn)};gQ.scale.category20=function(){return gQ.scale.ordinal().range(b4)};gQ.scale.category20b=function(){return gQ.scale.ordinal().range(gI)};gQ.scale.category20c=function(){return gQ.scale.ordinal().range(gG)};var cn=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dc);var b4=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dc);var gI=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dc);var gG=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dc);gQ.scale.quantile=function(){return z([],[])};function z(hD,hC){var hE;function e(){var hG=0,hH=hC.length;hE=[];while(++hG<hH){hE[hG-1]=gQ.quantile(hD,hG/hH)}return hF}function hF(hG){if(!isNaN(hG=+hG)){return hC[gQ.bisect(hE,hG)]}}hF.domain=function(hG){if(!arguments.length){return hD}hD=hG.filter(function(hH){return !isNaN(hH)}).sort(gQ.ascending);return e()};hF.range=function(hG){if(!arguments.length){return hC}hC=hG;return e()};hF.quantiles=function(){return hE};hF.invertExtent=function(hG){hG=hC.indexOf(hG);return hG<0?[NaN,NaN]:[hG>0?hE[hG-1]:hD[0],hG<hE.length?hE[hG]:hD[hD.length-1]]};hF.copy=function(){return z(hD,hC)};return e()}gQ.scale.quantize=function(){return dl(0,1,[0,1])};function dl(hF,hD,hC){var hG,hE;function hH(hI){return hC[Math.max(0,Math.min(hE,Math.floor(hG*(hI-hF))))]}function e(){hG=hC.length/(hD-hF);hE=hC.length-1;return hH}hH.domain=function(hI){if(!arguments.length){return[hF,hD]}hF=+hI[0];hD=+hI[hI.length-1];return e()};hH.range=function(hI){if(!arguments.length){return hC}hC=hI;return e()};hH.invertExtent=function(hI){hI=hC.indexOf(hI);hI=hI<0?NaN:hI/hG+hF;return[hI,hI+1/hG]};hH.copy=function(){return dl(hF,hD,hC)};return e()}gQ.scale.threshold=function(){return fI([0.5],[0,1])};function fI(hC,e){function hD(hE){if(hE<=hE){return e[gQ.bisect(hC,hE)]}}hD.domain=function(hE){if(!arguments.length){return hC}hC=hE;return hD};hD.range=function(hE){if(!arguments.length){return e}e=hE;return hD};hD.invertExtent=function(hE){hE=e.indexOf(hE);return[hC[hE-1],hC[hE]]};hD.copy=function(){return fI(hC,e)};return hD}gQ.scale.identity=function(){return ev([0,1])};function ev(hC){function e(hD){return +hD}e.invert=e;e.domain=e.range=function(hD){if(!arguments.length){return hC}hC=hD.map(e);return e};e.ticks=function(hD){return eE(hC,hD)};e.tickFormat=function(hD,hE){return eP(hC,hD,hE)};e.copy=function(){return ev(hC)};return e}gQ.svg.arc=function(){var hF=bo,hE=cC,hD=fQ,e=aj;function hC(){var hJ=hF.apply(this,arguments),hI=hE.apply(this,arguments),hH=hD.apply(this,arguments)+g7,hG=e.apply(this,arguments)+g7,hP=(hG<hH&&(hP=hH,hH=hG,hG=hP),hG-hH),hM=hP<fO?"0":"1",hL=Math.cos(hH),hO=Math.sin(hH),hK=Math.cos(hG),hN=Math.sin(hG);return hP>=hd?hJ?"M0,"+hI+"A"+hI+","+hI+" 0 1,1 0,"+-hI+"A"+hI+","+hI+" 0 1,1 0,"+hI+"M0,"+hJ+"A"+hJ+","+hJ+" 0 1,0 0,"+-hJ+"A"+hJ+","+hJ+" 0 1,0 0,"+hJ+"Z":"M0,"+hI+"A"+hI+","+hI+" 0 1,1 0,"+-hI+"A"+hI+","+hI+" 0 1,1 0,"+hI+"Z":hJ?"M"+hI*hL+","+hI*hO+"A"+hI+","+hI+" 0 "+hM+",1 "+hI*hK+","+hI*hN+"L"+hJ*hK+","+hJ*hN+"A"+hJ+","+hJ+" 0 "+hM+",0 "+hJ*hL+","+hJ*hO+"Z":"M"+hI*hL+","+hI*hO+"A"+hI+","+hI+" 0 "+hM+",1 "+hI*hK+","+hI*hN+"L0,0Z"}hC.innerRadius=function(hG){if(!arguments.length){return hF}hF=Q(hG);return hC};hC.outerRadius=function(hG){if(!arguments.length){return hE}hE=Q(hG);return hC};hC.startAngle=function(hG){if(!arguments.length){return hD}hD=Q(hG);return hC};hC.endAngle=function(hG){if(!arguments.length){return e}e=Q(hG);return hC};hC.centroid=function(){var hH=(hF.apply(this,arguments)+hE.apply(this,arguments))/2,hG=(hD.apply(this,arguments)+e.apply(this,arguments))/2+g7;return[Math.cos(hG)*hH,Math.sin(hG)*hH]};return hC};var g7=-fO/2,hd=2*fO-0.000001;function bo(e){return e.innerRadius}function cC(e){return e.outerRadius}function fQ(e){return e.startAngle}function aj(e){return e.endAngle}gQ.svg.line.radial=function(){var e=eQ(N);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function N(hE){var e,hD=-1,hG=hE.length,hF,hC;while(++hD<hG){e=hE[hD];hF=e[0];hC=e[1]+g7;e[0]=hF*Math.cos(hC);e[1]=hF*Math.sin(hC)}return hE}function hx(hF){var hD=gq,hC=gq,hL=0,hJ=go,hE=ae,hG=hj,hM=hG.key,hI=hG,hH="L",hK=0.7;function e(hR){var hT=[],hN=[],h0=[],hS=-1,hO=hR.length,hV,hQ=Q(hD),hZ=Q(hL),hP=hD===hC?function(){return hX}:Q(hC),hY=hL===hJ?function(){return hW}:Q(hJ),hX,hW;function hU(){hT.push("M",hG(hF(h0),hK),hH,hI(hF(hN.reverse()),hK),"Z")}while(++hS<hO){if(hE.call(this,hV=hR[hS],hS)){hN.push([hX=+hQ.call(this,hV,hS),hW=+hZ.call(this,hV,hS)]);h0.push([+hP.call(this,hV,hS),+hY.call(this,hV,hS)])}else{if(hN.length){hU();hN=[];h0=[]}}}if(hN.length){hU()}return hT.length?hT.join(""):null}e.x=function(hN){if(!arguments.length){return hC}hD=hC=hN;return e};e.x0=function(hN){if(!arguments.length){return hD}hD=hN;return e};e.x1=function(hN){if(!arguments.length){return hC}hC=hN;return e};e.y=function(hN){if(!arguments.length){return hJ}hL=hJ=hN;return e};e.y0=function(hN){if(!arguments.length){return hL}hL=hN;return e};e.y1=function(hN){if(!arguments.length){return hJ}hJ=hN;return e};e.defined=function(hN){if(!arguments.length){return hE}hE=hN;return e};e.interpolate=function(hN){if(!arguments.length){return hM}if(typeof hN==="function"){hM=hG=hN}else{hM=(hG=b0.get(hN)||hj).key}hI=hG.reverse||hG;hH=hG.closed?"M":"L";return e};e.tension=function(hN){if(!arguments.length){return hK}hK=hN;return e};return e}bc.reverse=g0;g0.reverse=bc;gQ.svg.area=function(){return hx(fV)};gQ.svg.area.radial=function(){var e=hx(N);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};gQ.svg.chord=function(){var e=g8,hI=hi,hH=F,hJ=fQ,hF=aj;function hG(hO,hM){var hN=hK(this,e,hO,hM),hL=hK(this,hI,hO,hM);return"M"+hN.p0+hC(hN.r,hN.p1,hN.a1-hN.a0)+(hD(hN,hL)?hE(hN.r,hN.p1,hN.r,hN.p0):hE(hN.r,hN.p1,hL.r,hL.p0)+hC(hL.r,hL.p1,hL.a1-hL.a0)+hE(hL.r,hL.p1,hN.r,hN.p0))+"Z"}function hK(hO,hR,hS,hP){var hN=hR.call(hO,hS,hP),hQ=hH.call(hO,hN,hP),hM=hJ.call(hO,hN,hP)+g7,hL=hF.call(hO,hN,hP)+g7;return{r:hQ,a0:hM,a1:hL,p0:[hQ*Math.cos(hM),hQ*Math.sin(hM)],p1:[hQ*Math.cos(hL),hQ*Math.sin(hL)]}}function hD(hM,hL){return hM.a0==hL.a0&&hM.a1==hL.a1}function hC(hM,hN,hL){return"A"+hM+","+hM+" 0 "+ +(hL>fO)+",1 "+hN}function hE(hM,hO,hL,hN){return"Q 0,0 "+hN}hG.radius=function(hL){if(!arguments.length){return hH}hH=Q(hL);return hG};hG.source=function(hL){if(!arguments.length){return e}e=Q(hL);return hG};hG.target=function(hL){if(!arguments.length){return hI}hI=Q(hL);return hG};hG.startAngle=function(hL){if(!arguments.length){return hJ}hJ=Q(hL);return hG};hG.endAngle=function(hL){if(!arguments.length){return hF}hF=Q(hL);return hG};return hG};function F(e){return e.radius}gQ.svg.diagonal=function(){var hD=g8,hE=hi,e=m;function hC(hJ,hG){var hK=hD.call(this,hJ,hG),hH=hE.call(this,hJ,hG),hF=(hK.y+hH.y)/2,hI=[hK,{x:hK.x,y:hF},{x:hH.x,y:hF},hH];hI=hI.map(e);return"M"+hI[0]+"C"+hI[1]+" "+hI[2]+" "+hI[3]}hC.source=function(hF){if(!arguments.length){return hD}hD=Q(hF);return hC};hC.target=function(hF){if(!arguments.length){return hE}hE=Q(hF);return hC};hC.projection=function(hF){if(!arguments.length){return e}e=hF;return hC};return hC};function m(e){return[e.x,e.y]}gQ.svg.diagonal.radial=function(){var hD=gQ.svg.diagonal(),e=m,hC=hD.projection;hD.projection=function(hE){return arguments.length?hC(n(e=hE)):e};return hD};function n(e){return function(){var hE=e.apply(this,arguments),hD=hE[0],hC=hE[1]+g7;return[hD*Math.cos(hC),hD*Math.sin(hC)]}}gQ.svg.symbol=function(){var hC=aP,e=eK;function hD(hF,hE){return(hf.get(hC.call(this,hF,hE))||b2)(e.call(this,hF,hE))}hD.type=function(hE){if(!arguments.length){return hC}hC=Q(hE);return hD};hD.size=function(hE){if(!arguments.length){return e}e=Q(hE);return hD};return hD};function eK(){return 64}function aP(){return"circle"}function b2(e){var hC=Math.sqrt(e/fO);return"M0,"+hC+"A"+hC+","+hC+" 0 1,1 0,"+-hC+"A"+hC+","+hC+" 0 1,1 0,"+hC+"Z"}var hf=gQ.map({circle:b2,cross:function(e){var hC=Math.sqrt(e/5)/2;return"M"+-3*hC+","+-hC+"H"+-hC+"V"+-3*hC+"H"+hC+"V"+-hC+"H"+3*hC+"V"+hC+"H"+hC+"V"+3*hC+"H"+-hC+"V"+hC+"H"+-3*hC+"Z"},diamond:function(e){var hC=Math.sqrt(e/(2*b8)),hD=hC*b8;return"M0,"+-hC+"L"+hD+",0 0,"+hC+" "+-hD+",0Z"},square:function(e){var hC=Math.sqrt(e)/2;return"M"+-hC+","+-hC+"L"+hC+","+-hC+" "+hC+","+hC+" "+-hC+","+hC+"Z"},"triangle-down":function(e){var hD=Math.sqrt(e/bU),hC=hD*bU/2;return"M0,"+hC+"L"+hD+","+-hC+" "+-hD+","+-hC+"Z"},"triangle-up":function(e){var hD=Math.sqrt(e/bU),hC=hD*bU/2;return"M0,"+-hC+"L"+hD+","+hC+" "+-hD+","+hC+"Z"}});gQ.svg.symbolTypes=hf.keys();var bU=Math.sqrt(3),b8=Math.tan(30*H);function gl(e,hC){hw(e,ea);e.id=hC;return e}var ea=[],gH=0,am,dO;ea.call=dH.call;ea.empty=dH.empty;ea.node=dH.node;ea.size=dH.size;gQ.transition=function(e){return arguments.length?am?e.transition():e:gn.transition()};gQ.transition.prototype=ea;ea.select=function(hH){var e=this.id,hE=[],hL,hC,hF;hH=w(hH);for(var hI=-1,hG=this.length;++hI<hG;){hE.push(hL=[]);for(var hK=this[hI],hJ=-1,hD=hK.length;++hJ<hD;){if((hF=hK[hJ])&&(hC=hH.call(hF,hF.__data__,hJ,hI))){if("__data__" in hF){hC.__data__=hF.__data__}fg(hC,hJ,e,hF.__transition__[e]);hL.push(hC)}else{hL.push(null)}}}return gl(hE,e)};ea.selectAll=function(hJ){var hC=this.id,hG=[],hP,e,hI,hD,hN;hJ=cM(hJ);for(var hL=-1,hH=this.length;++hL<hH;){for(var hO=this[hL],hM=-1,hF=hO.length;++hM<hF;){if(hI=hO[hM]){hN=hI.__transition__[hC];e=hJ.call(hI,hI.__data__,hM,hL);hG.push(hP=[]);for(var hK=-1,hE=e.length;++hK<hE;){if(hD=e[hK]){fg(hD,hK,hC,hN)}hP.push(hD)}}}}return gl(hG,hC)};ea.filter=function(e){var hD=[],hJ,hI,hE;if(typeof e!=="function"){e=a0(e)}for(var hG=0,hF=this.length;hG<hF;hG++){hD.push(hJ=[]);for(var hI=this[hG],hH=0,hC=hI.length;hH<hC;hH++){if((hE=hI[hH])&&e.call(hE,hE.__data__,hH)){hJ.push(hE)}}}return gl(hD,this.id)};ea.tween=function(e,hC){var hD=this.id;if(arguments.length<2){return this.node().__transition__[hD].tween.get(e)}return cu(this,hC==null?function(hE){hE.__transition__[hD].tween.remove(e)}:function(hE){hE.__transition__[hD].tween.set(e,hC)})};function he(e,hC,hE,hD){var hF=e.id;return cu(e,typeof hE==="function"?function(hI,hH,hG){hI.__transition__[hF].tween.set(hC,hD(hE.call(hI,hI.__data__,hH,hG)))}:(hE=hD(hE),function(hG){hG.__transition__[hF].tween.set(hC,hE)}))}ea.attr=function(e,hG){if(arguments.length<2){for(hG in e){this.attr(hG,e[hG])}return this}var hE=e=="transform"?dZ:fh,hD=gQ.ns.qualify(e);function hC(){this.removeAttribute(hD)}function hI(){this.removeAttributeNS(hD.space,hD.local)}function hF(hJ){return hJ==null?hC:(hJ+="",function(){var hK=this.getAttribute(hD),hL;return hK!==hJ&&(hL=hE(hK,hJ),function(hM){this.setAttribute(hD,hL(hM))})})}function hH(hJ){return hJ==null?hI:(hJ+="",function(){var hK=this.getAttributeNS(hD.space,hD.local),hL;return hK!==hJ&&(hL=hE(hK,hJ),function(hM){this.setAttributeNS(hD.space,hD.local,hL(hM))})})}return he(this,"attr."+e,hG,hD.local?hH:hF)};ea.attrTween=function(e,hD){var hC=gQ.ns.qualify(e);function hE(hI,hG){var hH=hD.call(this,hI,hG,this.getAttribute(hC));return hH&&function(hJ){this.setAttribute(hC,hH(hJ))}}function hF(hI,hG){var hH=hD.call(this,hI,hG,this.getAttributeNS(hC.space,hC.local));return hH&&function(hJ){this.setAttributeNS(hC.space,hC.local,hH(hJ))}}return this.tween("attr."+e,hC.local?hF:hE)};ea.style=function(hD,hF,hE){var hG=arguments.length;if(hG<3){if(typeof hD!=="string"){if(hG<2){hF=""}for(hE in hD){this.style(hE,hD[hE],hF)}return this}hE=""}function hC(){this.style.removeProperty(hD)}function e(hH){return hH==null?hC:(hH+="",function(){var hI=fd.getComputedStyle(this,null).getPropertyValue(hD),hJ;return hI!==hH&&(hJ=fh(hI,hH),function(hK){this.style.setProperty(hD,hJ(hK),hE)})})}return he(this,"style."+hD,hF,e)};ea.styleTween=function(e,hD,hC){if(arguments.length<3){hC=""}function hE(hH,hF){var hG=hD.call(this,hH,hF,fd.getComputedStyle(this,null).getPropertyValue(e));return hG&&function(hI){this.style.setProperty(e,hG(hI),hC)}}return this.tween("style."+e,hE)};ea.text=function(e){return he(this,"text",e,hB)};function hB(e){if(e==null){e=""}return function(){this.textContent=e}}ea.remove=function(){return this.each("end.transition",function(){var e;if(!this.__transition__&&(e=this.parentNode)){e.removeChild(this)}})};ea.ease=function(e){var hC=this.id;if(arguments.length<1){return this.node().__transition__[hC].ease}if(typeof e!=="function"){e=gQ.ease.apply(gQ,arguments)}return cu(this,function(hD){hD.__transition__[hC].ease=e})};ea.delay=function(e){var hC=this.id;return cu(this,typeof e==="function"?function(hF,hE,hD){hF.__transition__[hC].delay=e.call(hF,hF.__data__,hE,hD)|0}:(e|=0,function(hD){hD.__transition__[hC].delay=e}))};ea.duration=function(e){var hC=this.id;return cu(this,typeof e==="function"?function(hF,hE,hD){hF.__transition__[hC].duration=Math.max(1,e.call(hF,hF.__data__,hE,hD)|0)}:(e=Math.max(1,e|0),function(hD){hD.__transition__[hC].duration=e}))};ea.each=function(hC,hD){var hF=this.id;if(arguments.length<2){var e=dO,hE=am;am=hF;cu(this,function(hI,hH,hG){dO=hI.__transition__[hF];hC.call(hI,hI.__data__,hH,hG)});dO=e;am=hE}else{cu(this,function(hG){var hH=hG.__transition__[hF];(hH.event||(hH.event=gQ.dispatch("start","end"))).on(hC,hD)})}return this};ea.transition=function(){var hL=this.id,hK=++gH,hC=[],hJ,hI,hE,hH;for(var hF=0,hD=this.length;hF<hD;hF++){hC.push(hJ=[]);for(var hI=this[hF],hG=0,e=hI.length;hG<e;hG++){if(hE=hI[hG]){hH=Object.create(hE.__transition__[hL]);hH.delay+=hH.duration;fg(hE,hG,hK,hH)}hJ.push(hE)}}return gl(hC,hK)};function fg(hE,hD,hH,e){var hC=hE.__transition__||(hE.__transition__={active:0,count:0}),hG=hC[hH];if(!hG){var hF=e.time;hG=hC[hH]={tween:new aC(),time:hF,ease:e.ease,delay:e.delay,duration:e.duration};++hC.count;gQ.timer(function(hQ){var hN=hE.__data__,hJ=hG.ease,hL=hG.delay,hK=hG.duration,hP=[];if(hL<=hQ){return hI(hQ)}ha(hI,hL,hF);function hI(hR){if(hC.active>hH){return hO()}hC.active=hH;hG.event&&hG.event.start.call(hE,hN,hD);hG.tween.forEach(function(hS,hT){if(hT=hT.call(hE,hN,hD)){hP.push(hT)}});if(hM(hR)){return 1}ha(hM,0,hF)}function hM(hR){if(hC.active!==hH){return hO()}var hS=(hR-hL)/hK,hT=hJ(hS),hU=hP.length;while(hU>0){hP[--hU].call(hE,hT)}if(hS>=1){hO();hG.event&&hG.event.end.call(hE,hN,hD);return 1}}function hO(){if(--hC.count){delete hC[hH]}else{delete hE.__transition__}return 1}},0,hF)}}gQ.svg.axis=function(){var hE=gQ.scale.linear(),hH=hm,hF=6,e=6,hC=6,hL=3,hK=[10],hG=null,hJ,hI=0;function hD(hM){hM.each(function(){var h8=gQ.select(this);var ia=hG==null?hE.ticks?hE.ticks.apply(hE,hK):hE.domain():hG,h1=hJ==null?hE.tickFormat?hE.tickFormat.apply(hE,hK):String:hJ;var hR=cF(hE,ia,hI),hQ=h8.selectAll(".tick.minor").data(hR,String),h3=hQ.enter().insert("line",".tick").attr("class","tick minor").style("opacity",0.000001),h2=gQ.transition(hQ.exit()).style("opacity",0.000001).remove(),hO=gQ.transition(hQ).style("opacity",1);var h6=h8.selectAll(".tick.major").data(ia,String),hY=h6.enter().insert("g",".domain").attr("class","tick major").style("opacity",0.000001),h0=gQ.transition(h6.exit()).style("opacity",0.000001).remove(),hT=gQ.transition(h6).style("opacity",1),hN;var hX=aS(hE),hZ=h8.selectAll(".domain").data([0]),ib=(hZ.enter().append("path").attr("class","domain"),gQ.transition(hZ));var h4=hE.copy(),h5=this.__chart__||h4;this.__chart__=h4;hY.append("line");hY.append("text");var hP=hY.select("line"),h9=hT.select("line"),hW=h6.select("text").text(h1),hS=hY.select("text"),h7=hT.select("text");switch(hH){case"bottom":hN=e1;h3.attr("y2",e);hO.attr("x2",0).attr("y2",e);hP.attr("y2",hF);hS.attr("y",Math.max(hF,0)+hL);h9.attr("x2",0).attr("y2",hF);h7.attr("x",0).attr("y",Math.max(hF,0)+hL);hW.attr("dy",".71em").style("text-anchor","middle");ib.attr("d","M"+hX[0]+","+hC+"V0H"+hX[1]+"V"+hC);break;case"top":hN=e1;h3.attr("y2",-e);hO.attr("x2",0).attr("y2",-e);hP.attr("y2",-hF);hS.attr("y",-(Math.max(hF,0)+hL));h9.attr("x2",0).attr("y2",-hF);h7.attr("x",0).attr("y",-(Math.max(hF,0)+hL));hW.attr("dy","0em").style("text-anchor","middle");ib.attr("d","M"+hX[0]+","+-hC+"V0H"+hX[1]+"V"+-hC);break;case"left":hN=e0;h3.attr("x2",-e);hO.attr("x2",-e).attr("y2",0);hP.attr("x2",-hF);hS.attr("x",-(Math.max(hF,0)+hL));h9.attr("x2",-hF).attr("y2",0);h7.attr("x",-(Math.max(hF,0)+hL)).attr("y",0);hW.attr("dy",".32em").style("text-anchor","end");ib.attr("d","M"+-hC+","+hX[0]+"H0V"+hX[1]+"H"+-hC);break;case"right":hN=e0;h3.attr("x2",e);hO.attr("x2",e).attr("y2",0);hP.attr("x2",hF);hS.attr("x",Math.max(hF,0)+hL);h9.attr("x2",hF).attr("y2",0);h7.attr("x",Math.max(hF,0)+hL).attr("y",0);hW.attr("dy",".32em").style("text-anchor","start");ib.attr("d","M"+hC+","+hX[0]+"H0V"+hX[1]+"H"+hC);break}if(hE.rangeBand){var hV=h4.rangeBand()/2,hU=function(ic){return h4(ic)+hV};hY.call(hN,hU);hT.call(hN,hU)}else{hY.call(hN,h5);hT.call(hN,h4);h0.call(hN,h4);h3.call(hN,h5);hO.call(hN,h4);h2.call(hN,h4)}})}hD.scale=function(hM){if(!arguments.length){return hE}hE=hM;return hD};hD.orient=function(hM){if(!arguments.length){return hH}hH=hM in eF?hM+"":hm;return hD};hD.ticks=function(){if(!arguments.length){return hK}hK=arguments;return hD};hD.tickValues=function(hM){if(!arguments.length){return hG}hG=hM;return hD};hD.tickFormat=function(hM){if(!arguments.length){return hJ}hJ=hM;return hD};hD.tickSize=function(hM,hO){if(!arguments.length){return hF}var hN=arguments.length-1;hF=+hM;e=hN>1?+hO:hF;hC=hN>0?+arguments[hN]:hF;return hD};hD.tickPadding=function(hM){if(!arguments.length){return hL}hL=+hM;return hD};hD.tickSubdivide=function(hM){if(!arguments.length){return hI}hI=+hM;return hD};return hD};var hm="bottom",eF={top:1,right:1,bottom:1,left:1};function e1(hC,e){hC.attr("transform",function(hD){return"translate("+e(hD)+",0)"})}function e0(e,hC){e.attr("transform",function(hD){return"translate(0,"+hC(hD)+")"})}function cF(hD,hH,hC){hI=[];if(hC&&hH.length>1){var hK=d9(hD.domain()),hI,hF=-1,e=hH.length,hG=(hH[1]-hH[0])/++hC,hE,hJ;while(++hF<e){for(hE=hC;--hE>0;){if((hJ=+hH[hF]-hE*hG)>=hK[0]){hI.push(hJ)}}}for(--hF,hE=0;++hE<hC&&(hJ=+hH[hF]+hE*hG)<hK[1];){hI.push(hJ)}}return hI}gQ.svg.brush=function(){var e=gN(hG,"brushstart","brush","brushend"),hI=null,hH=null,hJ=an[0],hM=[[0,0],[0,0]],hF=[true,true],hC;function hG(hN){hN.each(function(){var hQ=gQ.select(this),hP=hQ.selectAll(".background").data([0]),hO=hQ.selectAll(".extent").data([0]),hS=hQ.selectAll(".resize").data(hJ,String),hR;hQ.style("pointer-events","all").on("mousedown.brush",hK).on("touchstart.brush",hK);hP.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");hO.enter().append("rect").attr("class","extent").style("cursor","move");hS.enter().append("g").attr("class",function(hT){return"resize "+hT}).style("cursor",function(hT){return ey[hT]}).append("rect").attr("x",function(hT){return/[ew]$/.test(hT)?-3:null}).attr("y",function(hT){return/^[ns]/.test(hT)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");hS.style("display",hG.empty()?"none":null);hS.exit().remove();if(hI){hR=aS(hI);hP.attr("x",hR[0]).attr("width",hR[1]-hR[0]);hE(hQ)}if(hH){hR=aS(hH);hP.attr("y",hR[0]).attr("height",hR[1]-hR[0]);hD(hQ)}hL(hQ)})}function hL(hN){hN.selectAll(".resize").attr("transform",function(hO){return"translate("+hM[+/e$/.test(hO)][0]+","+hM[+/^s/.test(hO)][1]+")"})}function hE(hN){hN.select(".extent").attr("x",hM[0][0]);hN.selectAll(".extent,.n>rect,.s>rect").attr("width",hM[1][0]-hM[0][0])}function hD(hN){hN.select(".extent").attr("y",hM[0][1]);hN.selectAll(".extent,.e>rect,.w>rect").attr("height",hM[1][1]-hM[0][1])}function hK(){var h7=this,hO=gQ.select(gQ.event.target),hV=e.of(h7,arguments),h2=gQ.select(h7),h4=hO.datum(),h0=!/^(n|s)$/.test(h4)&&hI,hY=!/^(e|w)$/.test(h4)&&hH,hZ=hO.classed("extent"),hQ=by(),h5,h6=hW(),hP;var hT=gQ.select(fd).on("keydown.brush",hX).on("keyup.brush",hS);if(gQ.event.changedTouches){hT.on("touchmove.brush",hU).on("touchend.brush",hN)}else{hT.on("mousemove.brush",hU).on("mouseup.brush",hN)}if(hZ){h6[0]=hM[0][0]-h6[0];h6[1]=hM[0][1]-h6[1]}else{if(h4){var h3=+/w$/.test(h4),h1=+/^n/.test(h4);hP=[hM[1-h3][0]-h6[0],hM[1-h1][1]-h6[1]];h6[0]=hM[h3][0];h6[1]=hM[h1][1]}else{if(gQ.event.altKey){h5=h6.slice()}}}h2.style("pointer-events","none").selectAll(".resize").style("display",null);gQ.select("body").style("cursor",hO.style("cursor"));hV({type:"brushstart"});hU();function hW(){var h8=gQ.event.changedTouches;return h8?gQ.touches(h7,h8)[0]:gQ.mouse(h7)}function hX(){if(gQ.event.keyCode==32){if(!hZ){h5=null;h6[0]-=hM[1][0];h6[1]-=hM[1][1];hZ=2}u()}}function hS(){if(gQ.event.keyCode==32&&hZ==2){h6[0]+=hM[1][0];h6[1]+=hM[1][1];hZ=0;u()}}function hU(){var h8=hW(),h9=false;if(hP){h8[0]+=hP[0];h8[1]+=hP[1]}if(!hZ){if(gQ.event.altKey){if(!h5){h5=[(hM[0][0]+hM[1][0])/2,(hM[0][1]+hM[1][1])/2]}h6[0]=hM[+(h8[0]<h5[0])][0];h6[1]=hM[+(h8[1]<h5[1])][1]}else{h5=null}}if(h0&&hR(h8,hI,0)){hE(h2);h9=true}if(hY&&hR(h8,hH,1)){hD(h2);h9=true}if(h9){hL(h2);hV({type:"brush",mode:hZ?"move":"resize"})}}function hR(ih,ia,ic){var id=aS(ia),h9=id[0],h8=id[1],ie=h6[ic],ii=hM[1][ic]-hM[0][ic],ib,ig;if(hZ){h9-=ie;h8-=ii+ie}ib=hF[ic]?Math.max(h9,Math.min(h8,ih[ic])):ih[ic];if(hZ){ig=(ib+=ie)+ii}else{if(h5){ie=Math.max(h9,Math.min(h8,2*h5[ic]-ib))}if(ie<ib){ig=ib;ib=ie}else{ig=ie}}if(hM[0][ic]!==ib||hM[1][ic]!==ig){hC=null;hM[0][ic]=ib;hM[1][ic]=ig;return true}}function hN(){hU();h2.style("pointer-events","all").selectAll(".resize").style("display",hG.empty()?"none":null);gQ.select("body").style("cursor",null);hT.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);hQ();hV({type:"brushend"})}}hG.x=function(hN){if(!arguments.length){return hI}hI=hN;hJ=an[!hI<<1|!hH];return hG};hG.y=function(hN){if(!arguments.length){return hH}hH=hN;hJ=an[!hI<<1|!hH];return hG};hG.clamp=function(hN){if(!arguments.length){return hI&&hH?hF:hI||hH?hF[+!hI]:null}if(hI&&hH){hF=[!!hN[0],!!hN[1]]}else{if(hI||hH){hF[+!hI]=!!hN}}return hG};hG.extent=function(hS){var hP,hN,hR,hQ,hO;if(!arguments.length){hS=hC||hM;if(hI){hP=hS[0][0],hN=hS[1][0];if(!hC){hP=hM[0][0],hN=hM[1][0];if(hI.invert){hP=hI.invert(hP),hN=hI.invert(hN)}if(hN<hP){hO=hP,hP=hN,hN=hO}}}if(hH){hR=hS[0][1],hQ=hS[1][1];if(!hC){hR=hM[0][1],hQ=hM[1][1];if(hH.invert){hR=hH.invert(hR),hQ=hH.invert(hQ)}if(hQ<hR){hO=hR,hR=hQ,hQ=hO}}}return hI&&hH?[[hP,hR],[hN,hQ]]:hI?[hP,hN]:hH&&[hR,hQ]}hC=[[0,0],[0,0]];if(hI){hP=hS[0],hN=hS[1];if(hH){hP=hP[0],hN=hN[0]}hC[0][0]=hP,hC[1][0]=hN;if(hI.invert){hP=hI(hP),hN=hI(hN)}if(hN<hP){hO=hP,hP=hN,hN=hO}hM[0][0]=hP|0,hM[1][0]=hN|0}if(hH){hR=hS[0],hQ=hS[1];if(hI){hR=hR[1],hQ=hQ[1]}hC[0][1]=hR,hC[1][1]=hQ;if(hH.invert){hR=hH(hR),hQ=hH(hQ)}if(hQ<hR){hO=hR,hR=hQ,hQ=hO}hM[0][1]=hR|0,hM[1][1]=hQ|0}return hG};hG.clear=function(){hC=null;hM[0][0]=hM[0][1]=hM[1][0]=hM[1][1]=0;return hG};hG.empty=function(){return hI&&hM[0][0]===hM[1][0]||hH&&hM[0][1]===hM[1][1]};return gQ.rebind(hG,e,"on")};var ey={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var an=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];gQ.time={};var fl=Date,p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function gz(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}gz.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fF.setUTCDate.apply(this._,arguments)},setDay:function(){fF.setUTCDay.apply(this._,arguments)},setFullYear:function(){fF.setUTCFullYear.apply(this._,arguments)},setHours:function(){fF.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fF.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fF.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fF.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fF.setUTCSeconds.apply(this._,arguments)},setTime:function(){fF.setTime.apply(this._,arguments)}};var fF=Date.prototype;var P="%a %b %e %X %Y",ex="%m/%d/%Y",cW="%H:%M:%S";var b7=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],cD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cb=["January","February","March","April","May","June","July","August","September","October","November","December"],aE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function cK(hG,e,hC){function hJ(hK){var hM=hG(hK),hL=hE(hM,1);return hK-hM<hL-hK?hM:hL}function hI(hK){e(hK=hG(new fl(hK-1)),1);return hK}function hE(hL,hK){e(hL=new fl(+hL),hK);return hL}function hF(hM,hL,hK){var hN=hI(hM),hO=[];if(hK>1){while(hN<hL){if(!(hC(hN)%hK)){hO.push(new Date(+hN))}e(hN,1)}}else{while(hN<hL){hO.push(new Date(+hN)),e(hN,1)}}return hO}function hD(hN,hM,hL){try{fl=gz;var hK=new gz();hK._=hN;return hF(hK,hM,hL)}finally{fl=Date}}hG.floor=hG;hG.round=hJ;hG.ceil=hI;hG.offset=hE;hG.range=hF;var hH=hG.utc=dB(hG);hH.floor=hH;hH.round=dB(hJ);hH.ceil=dB(hI);hH.offset=dB(hE);hH.range=hD;return hG}function dB(e){return function(hD,hC){try{fl=gz;var hE=new gz();hE._=hD;return e(hE,hC)._}finally{fl=Date}}}gQ.time.year=cK(function(e){e=gQ.time.day(e);e.setMonth(0,1);return e},function(e,hC){e.setFullYear(e.getFullYear()+hC)},function(e){return e.getFullYear()});gQ.time.years=gQ.time.year.range;gQ.time.years.utc=gQ.time.year.utc.range;gQ.time.day=cK(function(hC){var e=new fl(2000,0);e.setFullYear(hC.getFullYear(),hC.getMonth(),hC.getDate());return e},function(e,hC){e.setDate(e.getDate()+hC)},function(e){return e.getDate()-1});gQ.time.days=gQ.time.day.range;gQ.time.days.utc=gQ.time.day.utc.range;gQ.time.dayOfYear=function(e){var hC=gQ.time.year(e);return Math.floor((e-hC-(e.getTimezoneOffset()-hC.getTimezoneOffset())*60000)/86400000)};p.forEach(function(hC,hD){hC=hC.toLowerCase();hD=7-hD;var e=gQ.time[hC]=cK(function(hE){(hE=gQ.time.day(hE)).setDate(hE.getDate()-(hE.getDay()+hD)%7);return hE},function(hE,hF){hE.setDate(hE.getDate()+Math.floor(hF)*7)},function(hF){var hE=gQ.time.year(hF).getDay();return Math.floor((gQ.time.dayOfYear(hF)+(hE+hD)%7)/7)-(hE!==hD)});gQ.time[hC+"s"]=e.range;gQ.time[hC+"s"].utc=e.utc.range;gQ.time[hC+"OfYear"]=function(hF){var hE=gQ.time.year(hF).getDay();return Math.floor((gQ.time.dayOfYear(hF)+(hE+hD)%7)/7)}});gQ.time.week=gQ.time.sunday;gQ.time.weeks=gQ.time.sunday.range;gQ.time.weeks.utc=gQ.time.sunday.utc.range;gQ.time.weekOfYear=gQ.time.sundayOfYear;gQ.time.format=function(e){var hD=e.length;function hC(hG){var hF=[],hH=-1,hE=0,hK,hJ,hI;while(++hH<hD){if(e.charCodeAt(hH)===37){hF.push(e.substring(hE,hH));if((hJ=aH[hK=e.charAt(++hH)])!=null){hK=e.charAt(++hH)}if(hI=f7[hK]){hK=hI(hG,hJ==null?hK==="e"?" ":"0":hJ)}hF.push(hK);hE=hH+1}}hF.push(e.substring(hE,hH));return hF.join("")}hC.parse=function(hF){var hH={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},hG=dN(hH,e,hF,0);if(hG!=hF.length){return null}if("p" in hH){hH.H=hH.H%12+hH.p*12}var hE=new fl();if("j" in hH){hE.setFullYear(hH.y,0,hH.j)}else{if("w" in hH&&("W" in hH||"U" in hH)){hE.setFullYear(hH.y,0,1);hE.setFullYear(hH.y,0,"W" in hH?(hH.w+6)%7+hH.W*7-(hE.getDay()+5)%7:hH.w+hH.U*7-(hE.getDay()+6)%7)}else{hE.setFullYear(hH.y,hH.m,hH.d)}}hE.setHours(hH.H,hH.M,hH.S,hH.L);return hE};hC.toString=function(){return e};return hC};function dN(hE,hJ,hH,hF){var hI,e,hG=0,hC=hJ.length,hD=hH.length;while(hG<hC){if(hF>=hD){return -1}hI=hJ.charCodeAt(hG++);if(hI===37){e=hg[hJ.charAt(hG++)];if(!e||(hF=e(hE,hH,hF))<0){return -1}}else{if(hI!=hH.charCodeAt(hF++)){return -1}}}return hF}function cv(e){return new RegExp("^(?:"+e.map(gQ.requote).join("|")+")","i")}function gr(hD){var hC=new aC(),e=-1,hE=hD.length;while(++e<hE){hC.set(hD[e].toLowerCase(),e)}return hC}function de(hF,hG,hD){var e=hF<0?"-":"",hC=(e?-hF:hF)+"",hE=hC.length;return e+(hE<hD?new Array(hD-hE+1).join(hG)+hC:hC)}var g3=cv(b7),a2=gr(b7),fn=cv(cD),dT=gr(cD),gF=cv(cb),fa=gr(cb),eB=cv(aE),eI=gr(aE),eN=/^%/;var aH={"-":"",_:" ","0":"0"};var f7={a:function(e){return cD[e.getDay()]},A:function(e){return b7[e.getDay()]},b:function(e){return aE[e.getMonth()]},B:function(e){return cb[e.getMonth()]},c:gQ.time.format(P),d:function(hC,e){return de(hC.getDate(),e,2)},e:function(hC,e){return de(hC.getDate(),e,2)},H:function(hC,e){return de(hC.getHours(),e,2)},I:function(hC,e){return de(hC.getHours()%12||12,e,2)},j:function(hC,e){return de(1+gQ.time.dayOfYear(hC),e,3)},L:function(hC,e){return de(hC.getMilliseconds(),e,3)},m:function(hC,e){return de(hC.getMonth()+1,e,2)},M:function(hC,e){return de(hC.getMinutes(),e,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(hC,e){return de(hC.getSeconds(),e,2)},U:function(hC,e){return de(gQ.time.sundayOfYear(hC),e,2)},w:function(e){return e.getDay()},W:function(hC,e){return de(gQ.time.mondayOfYear(hC),e,2)},x:gQ.time.format(ex),X:gQ.time.format(cW),y:function(hC,e){return de(hC.getFullYear()%100,e,2)},Y:function(hC,e){return de(hC.getFullYear()%10000,e,4)},Z:fA,"%":function(){return"%"}};var hg={a:gy,A:cq,b:aU,B:eC,c:eb,d:bO,e:bO,H:aK,I:aK,j:D,L:gs,m:gf,M:cH,p:g1,S:dG,U:bg,w:dA,W:dq,x:hy,X:gb,y:M,Y:bn,"%":e7};function gy(hC,e,hD){fn.lastIndex=0;var hE=fn.exec(e.substring(hD));return hE?(hC.w=dT.get(hE[0].toLowerCase()),hD+hE[0].length):-1}function cq(hC,e,hD){g3.lastIndex=0;var hE=g3.exec(e.substring(hD));return hE?(hC.w=a2.get(hE[0].toLowerCase()),hD+hE[0].length):-1}function dA(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+1));return hE?(hC.w=+hE[0],hD+hE[0].length):-1}function bg(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD));return hE?(hC.U=+hE[0],hD+hE[0].length):-1}function dq(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD));return hE?(hC.W=+hE[0],hD+hE[0].length):-1}function aU(hC,e,hD){eB.lastIndex=0;var hE=eB.exec(e.substring(hD));return hE?(hC.m=eI.get(hE[0].toLowerCase()),hD+hE[0].length):-1}function eC(hC,e,hD){gF.lastIndex=0;var hE=gF.exec(e.substring(hD));return hE?(hC.m=fa.get(hE[0].toLowerCase()),hD+hE[0].length):-1}function eb(hC,e,hD){return dN(hC,f7.c.toString(),e,hD)}function hy(hC,e,hD){return dN(hC,f7.x.toString(),e,hD)}function gb(hC,e,hD){return dN(hC,f7.X.toString(),e,hD)}function bn(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+4));return hE?(hC.y=+hE[0],hD+hE[0].length):-1}function M(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.y=cN(+hE[0]),hD+hE[0].length):-1}function cN(e){return e+(e>68?1900:2000)}function gf(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.m=hE[0]-1,hD+hE[0].length):-1}function bO(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.d=+hE[0],hD+hE[0].length):-1}function D(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+3));return hE?(hC.j=+hE[0],hD+hE[0].length):-1}function aK(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.H=+hE[0],hD+hE[0].length):-1}function cH(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.M=+hE[0],hD+hE[0].length):-1}function dG(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+2));return hE?(hC.S=+hE[0],hD+hE[0].length):-1}function gs(hC,e,hD){fJ.lastIndex=0;var hE=fJ.exec(e.substring(hD,hD+3));return hE?(hC.L=+hE[0],hD+hE[0].length):-1}var fJ=/^\s*\d+/;function g1(hC,e,hD){var hE=d.get(e.substring(hD,hD+=2).toLowerCase());return hE==null?-1:(hC.p=hE,hD)}var d=gQ.map({am:0,pm:1});function fA(hF){var hE=hF.getTimezoneOffset(),hD=hE>0?"-":"+",hC=~~(Math.abs(hE)/60),e=Math.abs(hE)%60;return hD+de(hC,"0",2)+de(e,"0",2)}function e7(hC,e,hD){eN.lastIndex=0;var hE=eN.exec(e.substring(hD,hD+1));return hE?hD+hE[0].length:-1}gQ.time.format.utc=function(hC){var e=gQ.time.format(hC);function hD(hE){try{fl=gz;var hF=new fl();hF._=hE;return e(hF)}finally{fl=Date}}hD.parse=function(hF){try{fl=gz;var hE=e.parse(hF);return hE&&hE._}finally{fl=Date}};hD.toString=e.toString;return hD};var dy=gQ.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");gQ.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dd:dy;function dd(e){return e.toISOString()}dd.parse=function(hC){var e=new Date(hC);return isNaN(e)?null:e};dd.toString=dy.toString;gQ.time.second=cK(function(e){return new fl(Math.floor(e/1000)*1000)},function(e,hC){e.setTime(e.getTime()+Math.floor(hC)*1000)},function(e){return e.getSeconds()});gQ.time.seconds=gQ.time.second.range;gQ.time.seconds.utc=gQ.time.second.utc.range;gQ.time.minute=cK(function(e){return new fl(Math.floor(e/60000)*60000)},function(e,hC){e.setTime(e.getTime()+Math.floor(hC)*60000)},function(e){return e.getMinutes()});gQ.time.minutes=gQ.time.minute.range;gQ.time.minutes.utc=gQ.time.minute.utc.range;gQ.time.hour=cK(function(e){var hC=e.getTimezoneOffset()/60;return new fl((Math.floor(e/3600000-hC)+hC)*3600000)},function(e,hC){e.setTime(e.getTime()+Math.floor(hC)*3600000)},function(e){return e.getHours()});gQ.time.hours=gQ.time.hour.range;gQ.time.hours.utc=gQ.time.hour.utc.range;gQ.time.month=cK(function(e){e=gQ.time.day(e);e.setDate(1);return e},function(e,hC){e.setMonth(e.getMonth()+hC)},function(e){return e.getMonth()});gQ.time.months=gQ.time.month.range;gQ.time.months.utc=gQ.time.month.utc.range;function bd(e,hC,hD){function hE(hF){return e(hF)}hE.invert=function(hF){return fE(e.invert(hF))};hE.domain=function(hF){if(!arguments.length){return e.domain().map(fE)}e.domain(hF);return hE};hE.nice=function(hF){return hE.domain(fT(hE.domain(),hF))};hE.ticks=function(hF,hG){var hJ=d9(hE.domain());if(typeof hF!=="function"){var hI=hJ[1]-hJ[0],hK=hI/hF,hH=gQ.bisect(eR,hK);if(hH==eR.length){return hC.year(hJ,hF)}if(!hH){return e.ticks(hF).map(fE)}if(hK/eR[hH-1]<eR[hH]/hK){--hH}hF=hC[hH];hG=hF[1];hF=hF[0].range}return hF(hJ[0],new Date(+hJ[1]+1),hG)};hE.tickFormat=function(){return hD};hE.copy=function(){return bd(e.copy(),hC,hD)};return fM(hE,e)}function fE(e){return new Date(e)}function cG(e){return function(hC){var hD=e.length-1,hE=e[hD];while(!hE[1](hC)){hE=e[--hD]}return hE[0](hC)}}function dJ(hC){var e=new Date(hC,0,1);e.setFullYear(hC);return e}function gD(hD){var hE=hD.getFullYear(),hC=dJ(hE),e=dJ(hE+1);return hE+(hD-hC)/(e-hC)}var eR=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cp=[[gQ.time.second,1],[gQ.time.second,5],[gQ.time.second,15],[gQ.time.second,30],[gQ.time.minute,1],[gQ.time.minute,5],[gQ.time.minute,15],[gQ.time.minute,30],[gQ.time.hour,1],[gQ.time.hour,3],[gQ.time.hour,6],[gQ.time.hour,12],[gQ.time.day,1],[gQ.time.day,2],[gQ.time.week,1],[gQ.time.month,1],[gQ.time.month,3],[gQ.time.year,1]];var fb=[[gQ.time.format("%Y"),ae],[gQ.time.format("%B"),function(e){return e.getMonth()}],[gQ.time.format("%b %d"),function(e){return e.getDate()!=1}],[gQ.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[gQ.time.format("%I %p"),function(e){return e.getHours()}],[gQ.time.format("%I:%M"),function(e){return e.getMinutes()}],[gQ.time.format(":%S"),function(e){return e.getSeconds()}],[gQ.time.format(".%L"),function(e){return e.getMilliseconds()}]];var cm=gQ.scale.linear(),R=cG(fb);cp.year=function(hC,e){return cm.domain(hC.map(gD)).ticks(e).map(dJ)};gQ.time.scale=function(){return bd(gQ.scale.linear(),cp,R)};var hl=cp.map(function(e){return[e[0].utc,e[1]]});var b3=[[gQ.time.format.utc("%Y"),ae],[gQ.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[gQ.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[gQ.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[gQ.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[gQ.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[gQ.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[gQ.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]];var eH=cG(b3);function cQ(hC){var e=new Date(Date.UTC(hC,0,1));e.setUTCFullYear(hC);return e}function fS(hD){var hE=hD.getUTCFullYear(),hC=cQ(hE),e=cQ(hE+1);return hE+(hD-hC)/(e-hC)}hl.year=function(hC,e){return cm.domain(hC.map(fS)).ticks(e).map(cQ)};gQ.time.scale.utc=function(){return bd(gQ.scale.linear(),hl,eH)};gQ.text=W(function(e){return e.responseText});gQ.json=function(e,hC){return ho(e,"application/json",du,hC)};function du(e){return JSON.parse(e.responseText)}gQ.html=function(e,hC){return ho(e,"text/html",hA,hC)};function hA(hC){var e=bA.createRange();e.selectNode(bA.body);return e.createContextualFragment(hC.responseText)}gQ.xml=W(function(e){return e.responseXML});return gQ}();
/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(a2,aG){var ai,w,aC=typeof aG,l=a2.document,aL=a2.location,bi=a2.jQuery,H=a2.$,aa={},a6=[],s="1.9.1",aI=a6.concat,ao=a6.push,a4=a6.slice,aM=a6.indexOf,z=aa.toString,V=aa.hasOwnProperty,aQ=s.trim,bJ=function(e,b3){return new bJ.fn.init(e,b3,w)},bA=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ac=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,br=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bh=/^[\],:{}\s]*$/,bk=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,aZ=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bS=/^-ms-/,aV=/-([\da-z])/gi,M=function(e,b3){return b3.toUpperCase()},bW=function(e){if(l.addEventListener||e.type==="load"||l.readyState==="complete"){bl();bJ.ready()}},bl=function(){if(l.addEventListener){l.removeEventListener("DOMContentLoaded",bW,false);a2.removeEventListener("load",bW,false)}else{l.detachEvent("onreadystatechange",bW);a2.detachEvent("onload",bW)}};bJ.fn=bJ.prototype={jquery:s,constructor:bJ,init:function(e,b5,b4){var b3,b6;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b3=[null,e,null]}else{b3=br.exec(e)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bJ?b5[0]:b5;bJ.merge(this,bJ.parseHTML(b3[1],b5&&b5.nodeType?b5.ownerDocument||b5:l,true));if(a.test(b3[1])&&bJ.isPlainObject(b5)){for(b3 in b5){if(bJ.isFunction(this[b3])){this[b3](b5[b3])}else{this.attr(b3,b5[b3])}}}return this}else{b6=l.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(e)}this.length=1;this[0]=b6}this.context=l;this.selector=e;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(e)}else{return this.constructor(b5).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bJ.isFunction(e)){return b4.ready(e)}}}if(e.selector!==aG){this.selector=e.selector;this.context=e.context}return bJ.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return a4.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b3=bJ.merge(this.constructor(),e);b3.prevObject=this;b3.context=this.context;return b3},each:function(b3,e){return bJ.each(this,b3,e)},ready:function(e){bJ.ready.promise().done(e);return this},slice:function(){return this.pushStack(a4.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b4){var e=this.length,b3=+b4+(b4<0?e:0);return this.pushStack(b3>=0&&b3<e?[this[b3]]:[])},map:function(e){return this.pushStack(bJ.map(this,function(b4,b3){return e.call(b4,b3,b4)}))},end:function(){return this.prevObject||this.constructor(null)},push:ao,sort:[].sort,splice:[].splice};bJ.fn.init.prototype=bJ.fn;bJ.extend=bJ.fn.extend=function(){var e,b8,b3,b4,cb,b9,b7=arguments[0]||{},b6=1,b5=arguments.length,ca=false;if(typeof b7==="boolean"){ca=b7;b7=arguments[1]||{};b6=2}if(typeof b7!=="object"&&!bJ.isFunction(b7)){b7={}}if(b5===b6){b7=this;--b6}for(;b6<b5;b6++){if((cb=arguments[b6])!=null){for(b4 in cb){e=b7[b4];b3=cb[b4];if(b7===b3){continue}if(ca&&b3&&(bJ.isPlainObject(b3)||(b8=bJ.isArray(b3)))){if(b8){b8=false;b9=e&&bJ.isArray(e)?e:[]}else{b9=e&&bJ.isPlainObject(e)?e:{}}b7[b4]=bJ.extend(ca,b9,b3)}else{if(b3!==aG){b7[b4]=b3}}}}}return b7};bJ.extend({noConflict:function(e){if(a2.$===bJ){a2.$=H}if(e&&a2.jQuery===bJ){a2.jQuery=bi}return bJ},isReady:false,readyWait:1,holdReady:function(e){if(e){bJ.readyWait++}else{bJ.ready(true)}},ready:function(e){if(e===true?--bJ.readyWait:bJ.isReady){return}if(!l.body){return setTimeout(bJ.ready)}bJ.isReady=true;if(e!==true&&--bJ.readyWait>0){return}ai.resolveWith(l,[bJ]);if(bJ.fn.trigger){bJ(l).trigger("ready").off("ready")}},isFunction:function(e){return bJ.type(e)==="function"},isArray:Array.isArray||function(e){return bJ.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?aa[z.call(e)]||"object":typeof e},isPlainObject:function(b5){if(!b5||bJ.type(b5)!=="object"||b5.nodeType||bJ.isWindow(b5)){return false}try{if(b5.constructor&&!V.call(b5,"constructor")&&!V.call(b5.constructor.prototype,"isPrototypeOf")){return false}}catch(b4){return false}var b3;for(b3 in b5){}return b3===aG||V.call(b5,b3)},isEmptyObject:function(b3){var e;for(e in b3){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b6,b4,b5){if(!b6||typeof b6!=="string"){return null}if(typeof b4==="boolean"){b5=b4;b4=false}b4=b4||l;var b3=a.exec(b6),e=!b5&&[];if(b3){return[b4.createElement(b3[1])]}b3=bJ.buildFragment([b6],b4,e);if(e){bJ(e).remove()}return bJ.merge([],b3.childNodes)},parseJSON:function(e){if(a2.JSON&&a2.JSON.parse){return a2.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bJ.trim(e);if(e){if(bh.test(e.replace(bG,"@").replace(aZ,"]").replace(bk,""))){return(new Function("return "+e))()}}}bJ.error("Invalid JSON: "+e)},parseXML:function(b5){var b3,b4;if(!b5||typeof b5!=="string"){return null}try{if(a2.DOMParser){b4=new DOMParser();b3=b4.parseFromString(b5,"text/xml")}else{b3=new ActiveXObject("Microsoft.XMLDOM");b3.async="false";b3.loadXML(b5)}}catch(b6){b3=aG}if(!b3||!b3.documentElement||b3.getElementsByTagName("parsererror").length){bJ.error("Invalid XML: "+b5)}return b3},noop:function(){},globalEval:function(e){if(e&&bJ.trim(e)){(a2.execScript||function(b3){a2["eval"].call(a2,b3)})(e)}},camelCase:function(e){return e.replace(bS,"ms-").replace(aV,M)},nodeName:function(b3,e){return b3.nodeName&&b3.nodeName.toLowerCase()===e.toLowerCase()},each:function(b7,b8,b3){var b6,b4=0,b5=b7.length,e=ab(b7);if(b3){if(e){for(;b4<b5;b4++){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}else{for(b4 in b7){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}}else{if(e){for(;b4<b5;b4++){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}else{for(b4 in b7){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}}return b7},trim:aQ&&!aQ.call("\uFEFF\xA0")?function(e){return e==null?"":aQ.call(e)}:function(e){return e==null?"":(e+"").replace(C,"")},makeArray:function(e,b4){var b3=b4||[];if(e!=null){if(ab(Object(e))){bJ.merge(b3,typeof e==="string"?[e]:e)}else{ao.call(b3,e)}}return b3},inArray:function(b5,b3,b4){var e;if(b3){if(aM){return aM.call(b3,b5,b4)}e=b3.length;b4=b4?b4<0?Math.max(0,e+b4):b4:0;for(;b4<e;b4++){if(b4 in b3&&b3[b4]===b5){return b4}}}return -1},merge:function(b6,b4){var e=b4.length,b5=b6.length,b3=0;if(typeof e==="number"){for(;b3<e;b3++){b6[b5++]=b4[b3]}}else{while(b4[b3]!==aG){b6[b5++]=b4[b3++]}}b6.length=b5;return b6},grep:function(b3,b8,e){var b7,b4=[],b5=0,b6=b3.length;e=!!e;for(;b5<b6;b5++){b7=!!b8(b3[b5],b5);if(e!==b7){b4.push(b3[b5])}}return b4},map:function(b4,b9,e){var b8,b6=0,b7=b4.length,b3=ab(b4),b5=[];if(b3){for(;b6<b7;b6++){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}else{for(b6 in b4){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}return aI.apply([],b5)},guid:1,proxy:function(b6,b5){var e,b4,b3;if(typeof b5==="string"){b3=b6[b5];b5=b6;b6=b3}if(!bJ.isFunction(b6)){return aG}e=a4.call(arguments,2);b4=function(){return b6.apply(b5||this,e.concat(a4.call(arguments)))};b4.guid=b6.guid=b6.guid||bJ.guid++;return b4},access:function(e,b7,b9,b8,b5,cb,ca){var b4=0,b3=e.length,b6=b9==null;if(bJ.type(b9)==="object"){b5=true;for(b4 in b9){bJ.access(e,b7,b4,b9[b4],true,cb,ca)}}else{if(b8!==aG){b5=true;if(!bJ.isFunction(b8)){ca=true}if(b6){if(ca){b7.call(e,b8);b7=null}else{b6=b7;b7=function(cd,cc,ce){return b6.call(bJ(cd),ce)}}}if(b7){for(;b4<b3;b4++){b7(e[b4],b9,ca?b8:b8.call(e[b4],b4,b7(e[b4],b9)))}}}}return b5?e:b6?b7.call(e):b3?b7(e[0],b9):cb},now:function(){return(new Date()).getTime()}});bJ.ready.promise=function(b6){if(!ai){ai=bJ.Deferred();if(l.readyState==="complete"){setTimeout(bJ.ready)}else{if(l.addEventListener){l.addEventListener("DOMContentLoaded",bW,false);a2.addEventListener("load",bW,false)}else{l.attachEvent("onreadystatechange",bW);a2.attachEvent("onload",bW);var b5=false;try{b5=a2.frameElement==null&&l.documentElement}catch(b4){}if(b5&&b5.doScroll){(function b3(){if(!bJ.isReady){try{b5.doScroll("left")}catch(b7){return setTimeout(b3,50)}bl();bJ.ready()}})()}}}}return ai.promise(b6)};bJ.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b3,e){aa["[object "+e+"]"]=e.toLowerCase()});function ab(b4){var b3=b4.length,e=bJ.type(b4);if(bJ.isWindow(b4)){return false}if(b4.nodeType===1&&b3){return true}return e==="array"||e!=="function"&&(b3===0||typeof b3==="number"&&b3>0&&(b3-1) in b4)}w=bJ(l);var bY={};function ae(b3){var e=bY[b3]={};bJ.each(b3.match(ac)||[],function(b5,b4){e[b4]=true});return e}bJ.Callbacks=function(cc){cc=typeof cc==="string"?(bY[cc]||ae(cc)):bJ.extend({},cc);var b6,b5,e,b7,b8,b4,b9=[],ca=!cc.once&&[],b3=function(cd){b5=cc.memory&&cd;e=true;b8=b4||0;b4=0;b7=b9.length;b6=true;for(;b9&&b8<b7;b8++){if(b9[b8].apply(cd[0],cd[1])===false&&cc.stopOnFalse){b5=false;break}}b6=false;if(b9){if(ca){if(ca.length){b3(ca.shift())}}else{if(b5){b9=[]}else{cb.disable()}}}},cb={add:function(){if(b9){var ce=b9.length;(function cd(cf){bJ.each(cf,function(ch,cg){var ci=bJ.type(cg);if(ci==="function"){if(!cc.unique||!cb.has(cg)){b9.push(cg)}}else{if(cg&&cg.length&&ci!=="string"){cd(cg)}}})})(arguments);if(b6){b7=b9.length}else{if(b5){b4=ce;b3(b5)}}}return this},remove:function(){if(b9){bJ.each(arguments,function(cf,cd){var ce;while((ce=bJ.inArray(cd,b9,ce))>-1){b9.splice(ce,1);if(b6){if(ce<=b7){b7--}if(ce<=b8){b8--}}}})}return this},has:function(cd){return cd?bJ.inArray(cd,b9)>-1:!!(b9&&b9.length)},empty:function(){b9=[];return this},disable:function(){b9=ca=b5=aG;return this},disabled:function(){return !b9},lock:function(){ca=aG;if(!b5){cb.disable()}return this},locked:function(){return !ca},fireWith:function(ce,cd){cd=cd||[];cd=[ce,cd.slice?cd.slice():cd];if(b9&&(!e||ca)){if(b6){ca.push(cd)}else{b3(cd)}}return this},fire:function(){cb.fireWith(this,arguments);return this},fired:function(){return !!e}};return cb};bJ.extend({Deferred:function(b4){var b3=[["resolve","done",bJ.Callbacks("once memory"),"resolved"],["reject","fail",bJ.Callbacks("once memory"),"rejected"],["notify","progress",bJ.Callbacks("memory")]],b5="pending",b6={state:function(){return b5},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b7=arguments;return bJ.Deferred(function(b8){bJ.each(b3,function(ca,b9){var cc=b9[0],cb=bJ.isFunction(b7[ca])&&b7[ca];e[b9[1]](function(){var cd=cb&&cb.apply(this,arguments);if(cd&&bJ.isFunction(cd.promise)){cd.promise().done(b8.resolve).fail(b8.reject).progress(b8.notify)}else{b8[cc+"With"](this===b6?b8.promise():this,cb?[cd]:arguments)}})});b7=null}).promise()},promise:function(b7){return b7!=null?bJ.extend(b7,b6):b6}},e={};b6.pipe=b6.then;bJ.each(b3,function(b8,b7){var ca=b7[2],b9=b7[3];b6[b7[1]]=ca.add;if(b9){ca.add(function(){b5=b9},b3[b8^1][2].disable,b3[2][2].lock)}e[b7[0]]=function(){e[b7[0]+"With"](this===e?b6:this,arguments);return this};e[b7[0]+"With"]=ca.fireWith});b6.promise(e);if(b4){b4.call(e,e)}return e},when:function(b6){var b4=0,b8=a4.call(arguments),e=b8.length,b3=e!==1||(b6&&bJ.isFunction(b6.promise))?e:0,cb=b3===1?b6:bJ.Deferred(),b5=function(cd,ce,cc){return function(cf){ce[cd]=this;cc[cd]=arguments.length>1?a4.call(arguments):cf;if(cc===ca){cb.notifyWith(ce,cc)}else{if(!(--b3)){cb.resolveWith(ce,cc)}}}},ca,b7,b9;if(e>1){ca=new Array(e);b7=new Array(e);b9=new Array(e);for(;b4<e;b4++){if(b8[b4]&&bJ.isFunction(b8[b4].promise)){b8[b4].promise().done(b5(b4,b9,b8)).fail(cb.reject).progress(b5(b4,b7,ca))}else{--b3}}}if(!b3){cb.resolveWith(b9,b8)}return cb.promise()}});bJ.support=(function(){var ce,cd,cb,ca,cc,b9,b5,b7,b4,b6,b3=l.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*");cb=b3.getElementsByTagName("a")[0];if(!cd||!cb||!cd.length){return{}}cc=l.createElement("select");b5=cc.appendChild(l.createElement("option"));ca=b3.getElementsByTagName("input")[0];cb.style.cssText="top:1px;float:left;opacity:.5";ce={getSetAttribute:b3.className!=="t",leadingWhitespace:b3.firstChild.nodeType===3,tbody:!b3.getElementsByTagName("tbody").length,htmlSerialize:!!b3.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),hrefNormalized:cb.getAttribute("href")==="/a",opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,checkOn:!!ca.value,optSelected:b5.selected,enctype:!!l.createElement("form").enctype,html5Clone:l.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:l.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}ca=l.createElement("input");ca.setAttribute("value","");ce.input=ca.getAttribute("value")==="";ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","t");ca.setAttribute("name","t");b9=l.createDocumentFragment();b9.appendChild(ca);ce.appendChecked=ca.checked;ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;if(b3.attachEvent){b3.attachEvent("onclick",function(){ce.noCloneEvent=false});b3.cloneNode(true).click()}for(b6 in {submit:true,change:true,focusin:true}){b3.setAttribute(b7="on"+b6,"t");ce[b6+"Bubbles"]=b7 in a2||b3.attributes[b7].expando===false}b3.style.backgroundClip="content-box";b3.cloneNode(true).style.backgroundClip="";ce.clearCloneStyle=b3.style.backgroundClip==="content-box";bJ(function(){var cf,ci,ch,cg="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=l.getElementsByTagName("body")[0];if(!e){return}cf=l.createElement("div");cf.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cf).appendChild(b3);b3.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ch=b3.getElementsByTagName("td");ch[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ch[0].offsetHeight===0);ch[0].style.display="";ch[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ch[0].offsetHeight===0);b3.innerHTML="";b3.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ce.boxSizing=(b3.offsetWidth===4);ce.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a2.getComputedStyle){ce.pixelPosition=(a2.getComputedStyle(b3,null)||{}).top!=="1%";ce.boxSizingReliable=(a2.getComputedStyle(b3,null)||{width:"4px"}).width==="4px";ci=b3.appendChild(l.createElement("div"));ci.style.cssText=b3.style.cssText=cg;ci.style.marginRight=ci.style.width="0";b3.style.width="1px";ce.reliableMarginRight=!parseFloat((a2.getComputedStyle(ci,null)||{}).marginRight)}if(typeof b3.style.zoom!==aC){b3.innerHTML="";b3.style.cssText=cg+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(b3.offsetWidth===3);b3.style.display="block";b3.innerHTML="<div></div>";b3.firstChild.style.width="5px";ce.shrinkWrapBlocks=(b3.offsetWidth!==3);if(ce.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cf);cf=b3=ch=ci=null});cd=cc=b9=b5=cb=ca=null;return ce})();var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aN=/([A-Z])/g;function ba(b5,b3,b7,b6){if(!bJ.acceptData(b5)){return}var b8,ca,cb=bJ.expando,b9=typeof b3==="string",cc=b5.nodeType,e=cc?bJ.cache:b5,b4=cc?b5[cb]:b5[cb]&&cb;if((!b4||!e[b4]||(!b6&&!e[b4].data))&&b9&&b7===aG){return}if(!b4){if(cc){b5[cb]=b4=a6.pop()||bJ.guid++}else{b4=cb}}if(!e[b4]){e[b4]={};if(!cc){e[b4].toJSON=bJ.noop}}if(typeof b3==="object"||typeof b3==="function"){if(b6){e[b4]=bJ.extend(e[b4],b3)}else{e[b4].data=bJ.extend(e[b4].data,b3)}}b8=e[b4];if(!b6){if(!b8.data){b8.data={}}b8=b8.data}if(b7!==aG){b8[bJ.camelCase(b3)]=b7}if(b9){ca=b8[b3];if(ca==null){ca=b8[bJ.camelCase(b3)]}}else{ca=b8}return ca}function Z(b5,b3,b6){if(!bJ.acceptData(b5)){return}var b8,b7,b9,ca=b5.nodeType,e=ca?bJ.cache:b5,b4=ca?b5[bJ.expando]:bJ.expando;if(!e[b4]){return}if(b3){b9=b6?e[b4]:e[b4].data;if(b9){if(!bJ.isArray(b3)){if(b3 in b9){b3=[b3]}else{b3=bJ.camelCase(b3);if(b3 in b9){b3=[b3]}else{b3=b3.split(" ")}}}else{b3=b3.concat(bJ.map(b3,bJ.camelCase))}for(b8=0,b7=b3.length;b8<b7;b8++){delete b9[b3[b8]]}if(!(b6?N:bJ.isEmptyObject)(b9)){return}}}if(!b6){delete e[b4].data;if(!N(e[b4])){return}}if(ca){bJ.cleanData([b5],true)}else{if(bJ.support.deleteExpando||e!=e.window){delete e[b4]}else{e[b4]=null}}}bJ.extend({cache:{},expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bJ.cache[e[bJ.expando]]:e[bJ.expando];return !!e&&!N(e)},data:function(b3,e,b4){return ba(b3,e,b4)},removeData:function(b3,e){return Z(b3,e)},_data:function(b3,e,b4){return ba(b3,e,b4,true)},_removeData:function(b3,e){return Z(b3,e,true)},acceptData:function(b3){if(b3.nodeType&&b3.nodeType!==1&&b3.nodeType!==9){return false}var e=b3.nodeName&&bJ.noData[b3.nodeName.toLowerCase()];return !e||e!==true&&b3.getAttribute("classid")===e}});bJ.fn.extend({data:function(b5,b8){var b3,e,b6=this[0],b4=0,b7=null;if(b5===aG){if(this.length){b7=bJ.data(b6);if(b6.nodeType===1&&!bJ._data(b6,"parsedAttrs")){b3=b6.attributes;for(;b4<b3.length;b4++){e=b3[b4].name;if(!e.indexOf("data-")){e=bJ.camelCase(e.slice(5));by(b6,e,b7[e])}}bJ._data(b6,"parsedAttrs",true)}}return b7}if(typeof b5==="object"){return this.each(function(){bJ.data(this,b5)})}return bJ.access(this,function(b9){if(b9===aG){return b6?by(b6,b5,bJ.data(b6,b5)):null}this.each(function(){bJ.data(this,b5,b9)})},null,b8,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){bJ.removeData(this,e)})}});function by(b5,b4,b6){if(b6===aG&&b5.nodeType===1){var b3="data-"+b4.replace(aN,"-$1").toLowerCase();b6=b5.getAttribute(b3);if(typeof b6==="string"){try{b6=b6==="true"?true:b6==="false"?false:b6==="null"?null:+b6+""===b6?+b6:bw.test(b6)?bJ.parseJSON(b6):b6}catch(b7){}bJ.data(b5,b4,b6)}else{b6=aG}}return b6}function N(b3){var e;for(e in b3){if(e==="data"&&bJ.isEmptyObject(b3[e])){continue}if(e!=="toJSON"){return false}}return true}bJ.extend({queue:function(b4,b3,b5){var e;if(b4){b3=(b3||"fx")+"queue";e=bJ._data(b4,b3);if(b5){if(!e||bJ.isArray(b5)){e=bJ._data(b4,b3,bJ.makeArray(b5))}else{e.push(b5)}}return e||[]}},dequeue:function(b7,b6){b6=b6||"fx";var b3=bJ.queue(b7,b6),b8=b3.length,b5=b3.shift(),e=bJ._queueHooks(b7,b6),b4=function(){bJ.dequeue(b7,b6)};if(b5==="inprogress"){b5=b3.shift();b8--}e.cur=b5;if(b5){if(b6==="fx"){b3.unshift("inprogress")}delete e.stop;b5.call(b7,b4,e)}if(!b8&&e){e.empty.fire()}},_queueHooks:function(b4,b3){var e=b3+"queueHooks";return bJ._data(b4,e)||bJ._data(b4,e,{empty:bJ.Callbacks("once memory").add(function(){bJ._removeData(b4,b3+"queue");bJ._removeData(b4,e)})})}});bJ.fn.extend({queue:function(e,b3){var b4=2;if(typeof e!=="string"){b3=e;e="fx";b4--}if(arguments.length<b4){return bJ.queue(this[0],e)}return b3===aG?this:this.each(function(){var b5=bJ.queue(this,e,b3);bJ._queueHooks(this,e);if(e==="fx"&&b5[0]!=="inprogress"){bJ.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bJ.dequeue(this,e)})},delay:function(b3,e){b3=bJ.fx?bJ.fx.speeds[b3]||b3:b3;e=e||"fx";return this.queue(e,function(b5,b4){var b6=setTimeout(b5,b3);b4.stop=function(){clearTimeout(b6)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b4,b8){var b3,b5=1,b9=bJ.Deferred(),b7=this,e=this.length,b6=function(){if(!(--b5)){b9.resolveWith(b7,[b7])}};if(typeof b4!=="string"){b8=b4;b4=aG}b4=b4||"fx";while(e--){b3=bJ._data(b7[e],b4+"queueHooks");if(b3&&b3.empty){b5++;b3.empty.add(b6)}}b6();return b9.promise(b8)}});var a8,bZ,bM=/[\t\r\n]/g,ak=/\r/g,aF=/^(?:input|select|textarea|button|object)$/i,D=/^(?:a|area)$/i,L=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,aq=/^(?:checked|selected)$/i,bP=bJ.support.getSetAttribute,bF=bJ.support.input;bJ.fn.extend({attr:function(e,b3){return bJ.access(this,bJ.attr,e,b3,arguments.length>1)},removeAttr:function(e){return this.each(function(){bJ.removeAttr(this,e)})},prop:function(e,b3){return bJ.access(this,bJ.prop,e,b3,arguments.length>1)},removeProp:function(e){e=bJ.propFix[e]||e;return this.each(function(){try{this[e]=aG;delete this[e]}catch(b3){}})},addClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=typeof b9==="string"&&b9;if(bJ.isFunction(b9)){return this.each(function(cb){bJ(this).addClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ac)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bM," "):" ");if(ca){b4=0;while((b6=b3[b4++])){if(ca.indexOf(" "+b6+" ")<0){ca+=b6+" "}}e.className=bJ.trim(ca)}}}return this},removeClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=arguments.length===0||typeof b9==="string"&&b9;if(bJ.isFunction(b9)){return this.each(function(cb){bJ(this).removeClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ac)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bM," "):"");if(ca){b4=0;while((b6=b3[b4++])){while(ca.indexOf(" "+b6+" ")>=0){ca=ca.replace(" "+b6+" "," ")}}e.className=b9?bJ.trim(ca):""}}}return this},toggleClass:function(b5,b3){var b4=typeof b5,e=typeof b3==="boolean";if(bJ.isFunction(b5)){return this.each(function(b6){bJ(this).toggleClass(b5.call(this,b6,this.className,b3),b3)})}return this.each(function(){if(b4==="string"){var b8,b7=0,b6=bJ(this),b9=b3,ca=b5.match(ac)||[];while((b8=ca[b7++])){b9=e?b9:!b6.hasClass(b8);b6[b9?"addClass":"removeClass"](b8)}}else{if(b4===aC||b4==="boolean"){if(this.className){bJ._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":bJ._data(this,"__className__")||""}}})},hasClass:function(e){var b5=" "+e+" ",b4=0,b3=this.length;for(;b4<b3;b4++){if(this[b4].nodeType===1&&(" "+this[b4].className+" ").replace(bM," ").indexOf(b5)>=0){return true}}return false},val:function(b5){var b3,e,b6,b4=this[0];if(!arguments.length){if(b4){e=bJ.valHooks[b4.type]||bJ.valHooks[b4.nodeName.toLowerCase()];if(e&&"get" in e&&(b3=e.get(b4,"value"))!==aG){return b3}b3=b4.value;return typeof b3==="string"?b3.replace(ak,""):b3==null?"":b3}return}b6=bJ.isFunction(b5);return this.each(function(b8){var b9,b7=bJ(this);if(this.nodeType!==1){return}if(b6){b9=b5.call(this,b8,b7.val())}else{b9=b5}if(b9==null){b9=""}else{if(typeof b9==="number"){b9+=""}else{if(bJ.isArray(b9)){b9=bJ.map(b9,function(ca){return ca==null?"":ca+""})}}}e=bJ.valHooks[this.type]||bJ.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b9,"value")===aG){this.value=b9}})}});bJ.extend({valHooks:{option:{get:function(e){var b3=e.attributes.value;return !b3||b3.specified?e.value:e.text}},select:{get:function(e){var b8,b4,ca=e.options,b6=e.selectedIndex,b5=e.type==="select-one"||b6<0,b9=b5?null:[],b7=b5?b6+1:ca.length,b3=b6<0?b7:b5?b6:0;for(;b3<b7;b3++){b4=ca[b3];if((b4.selected||b3===b6)&&(bJ.support.optDisabled?!b4.disabled:b4.getAttribute("disabled")===null)&&(!b4.parentNode.disabled||!bJ.nodeName(b4.parentNode,"optgroup"))){b8=bJ(b4).val();if(b5){return b8}b9.push(b8)}}return b9},set:function(b3,b4){var e=bJ.makeArray(b4);bJ(b3).find("option").each(function(){this.selected=bJ.inArray(bJ(this).val(),e)>=0});if(!e.length){b3.selectedIndex=-1}return e}}},attr:function(b7,b5,b8){var e,b6,b4,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}if(typeof b7.getAttribute===aC){return bJ.prop(b7,b5,b8)}b6=b3!==1||!bJ.isXMLDoc(b7);if(b6){b5=b5.toLowerCase();e=bJ.attrHooks[b5]||(L.test(b5)?bZ:a8)}if(b8!==aG){if(b8===null){bJ.removeAttr(b7,b5)}else{if(e&&b6&&"set" in e&&(b4=e.set(b7,b8,b5))!==aG){return b4}else{b7.setAttribute(b5,b8+"");return b8}}}else{if(e&&b6&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{if(typeof b7.getAttribute!==aC){b4=b7.getAttribute(b5)}return b4==null?aG:b4}}},removeAttr:function(b4,b6){var e,b5,b3=0,b7=b6&&b6.match(ac);if(b7&&b4.nodeType===1){while((e=b7[b3++])){b5=bJ.propFix[e]||e;if(L.test(e)){if(!bP&&aq.test(e)){b4[bJ.camelCase("default-"+e)]=b4[b5]=false}else{b4[b5]=false}}else{bJ.attr(b4,e,"")}b4.removeAttribute(bP?e:b5)}}},attrHooks:{type:{set:function(e,b3){if(!bJ.support.radioValue&&b3==="radio"&&bJ.nodeName(e,"input")){var b4=e.value;e.setAttribute("type",b3);if(b4){e.value=b4}return b3}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b7,b5,b8){var b4,e,b6,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}b6=b3!==1||!bJ.isXMLDoc(b7);if(b6){b5=bJ.propFix[b5]||b5;e=bJ.propHooks[b5]}if(b8!==aG){if(e&&"set" in e&&(b4=e.set(b7,b8,b5))!==aG){return b4}else{return(b7[b5]=b8)}}else{if(e&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{return b7[b5]}}},propHooks:{tabIndex:{get:function(b3){var e=b3.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aF.test(b3.nodeName)||D.test(b3.nodeName)&&b3.href?0:aG}}}});bZ={get:function(b5,b3){var b6=bJ.prop(b5,b3),e=typeof b6==="boolean"&&b5.getAttribute(b3),b4=typeof b6==="boolean"?bF&&bP?e!=null:aq.test(b3)?b5[bJ.camelCase("default-"+b3)]:!!e:b5.getAttributeNode(b3);return b4&&b4.value!==false?b3.toLowerCase():aG},set:function(b3,b4,e){if(b4===false){bJ.removeAttr(b3,e)}else{if(bF&&bP||!aq.test(e)){b3.setAttribute(!bP&&bJ.propFix[e]||e,e)}else{b3[bJ.camelCase("default-"+e)]=b3[e]=true}}return e}};if(!bF||!bP){bJ.attrHooks.value={get:function(b4,b3){var e=b4.getAttributeNode(b3);return bJ.nodeName(b4,"input")?b4.defaultValue:e&&e.specified?e.value:aG},set:function(b3,b4,e){if(bJ.nodeName(b3,"input")){b3.defaultValue=b4}else{return a8&&a8.set(b3,b4,e)}}}}if(!bP){a8=bJ.valHooks.button={get:function(b4,b3){var e=b4.getAttributeNode(b3);return e&&(b3==="id"||b3==="name"||b3==="coords"?e.value!=="":e.specified)?e.value:aG},set:function(b4,b5,b3){var e=b4.getAttributeNode(b3);if(!e){b4.setAttributeNode((e=b4.ownerDocument.createAttribute(b3)))}e.value=b5+="";return b3==="value"||b5===b4.getAttribute(b3)?b5:aG}};bJ.attrHooks.contenteditable={get:a8.get,set:function(b3,b4,e){a8.set(b3,b4===""?false:b4,e)}};bJ.each(["width","height"],function(b3,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{set:function(b4,b5){if(b5===""){b4.setAttribute(e,"auto");return b5}}})})}if(!bJ.support.hrefNormalized){bJ.each(["href","src","width","height"],function(b3,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{get:function(b5){var b4=b5.getAttribute(e,2);return b4==null?aG:b4}})});bJ.each(["href","src"],function(b3,e){bJ.propHooks[e]={get:function(b4){return b4.getAttribute(e,4)}}})}if(!bJ.support.style){bJ.attrHooks.style={get:function(e){return e.style.cssText||aG},set:function(e,b3){return(e.style.cssText=b3+"")}}}if(!bJ.support.optSelected){bJ.propHooks.selected=bJ.extend(bJ.propHooks.selected,{get:function(b3){var e=b3.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bJ.support.enctype){bJ.propFix.enctype="encoding"}if(!bJ.support.checkOn){bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]=bJ.extend(bJ.valHooks[this],{set:function(e,b3){if(bJ.isArray(b3)){return(e.checked=bJ.inArray(bJ(e).val(),b3)>=0)}}})});var bH=/^(?:input|select|textarea)$/i,a3=/^key/,bN=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,bu=/^([^.]*)(?:\.(.+)|)$/;function R(){return true}function X(){return false}bJ.event={global:{},add:function(b6,cb,cg,b8,b7){var b9,ch,ci,b4,cd,ca,cf,b5,ce,e,b3,cc=bJ._data(b6);if(!cc){return}if(cg.handler){b4=cg;cg=b4.handler;b7=b4.selector}if(!cg.guid){cg.guid=bJ.guid++}if(!(ch=cc.events)){ch=cc.events={}}if(!(ca=cc.handle)){ca=cc.handle=function(cj){return typeof bJ!==aC&&(!cj||bJ.event.triggered!==cj.type)?bJ.event.dispatch.apply(ca.elem,arguments):aG};ca.elem=b6}cb=(cb||"").match(ac)||[""];ci=cb.length;while(ci--){b9=bu.exec(cb[ci])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();cd=bJ.event.special[ce]||{};ce=(b7?cd.delegateType:cd.bindType)||ce;cd=bJ.event.special[ce]||{};cf=bJ.extend({type:ce,origType:b3,data:b8,handler:cg,guid:cg.guid,selector:b7,needsContext:b7&&bJ.expr.match.needsContext.test(b7),namespace:e.join(".")},b4);if(!(b5=ch[ce])){b5=ch[ce]=[];b5.delegateCount=0;if(!cd.setup||cd.setup.call(b6,b8,e,ca)===false){if(b6.addEventListener){b6.addEventListener(ce,ca,false)}else{if(b6.attachEvent){b6.attachEvent("on"+ce,ca)}}}}if(cd.add){cd.add.call(b6,cf);if(!cf.handler.guid){cf.handler.guid=cg.guid}}if(b7){b5.splice(b5.delegateCount++,0,cf)}else{b5.push(cf)}bJ.event.global[ce]=true}b6=null},remove:function(b5,cb,ci,b6,ca){var b8,cf,b9,b7,ch,cg,cd,b4,ce,e,b3,cc=bJ.hasData(b5)&&bJ._data(b5);if(!cc||!(cg=cc.events)){return}cb=(cb||"").match(ac)||[""];ch=cb.length;while(ch--){b9=bu.exec(cb[ch])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();if(!ce){for(ce in cg){bJ.event.remove(b5,ce+cb[ch],ci,b6,true)}continue}cd=bJ.event.special[ce]||{};ce=(b6?cd.delegateType:cd.bindType)||ce;b4=cg[ce]||[];b9=b9[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b7=b8=b4.length;while(b8--){cf=b4[b8];if((ca||b3===cf.origType)&&(!ci||ci.guid===cf.guid)&&(!b9||b9.test(cf.namespace))&&(!b6||b6===cf.selector||b6==="**"&&cf.selector)){b4.splice(b8,1);if(cf.selector){b4.delegateCount--}if(cd.remove){cd.remove.call(b5,cf)}}}if(b7&&!b4.length){if(!cd.teardown||cd.teardown.call(b5,e,cc.handle)===false){bJ.removeEvent(b5,ce,cc.handle)}delete cg[ce]}}if(bJ.isEmptyObject(cg)){delete cc.handle;bJ._removeData(b5,"events")}},trigger:function(b3,ca,b6,ch){var cb,b5,cf,cg,cd,b9,b8,b7=[b6||l],ce=V.call(b3,"type")?b3.type:b3,b4=V.call(b3,"namespace")?b3.namespace.split("."):[];cf=b9=b6=b6||l;if(b6.nodeType===3||b6.nodeType===8){return}if(bB.test(ce+bJ.event.triggered)){return}if(ce.indexOf(".")>=0){b4=ce.split(".");ce=b4.shift();b4.sort()}b5=ce.indexOf(":")<0&&"on"+ce;b3=b3[bJ.expando]?b3:new bJ.Event(ce,typeof b3==="object"&&b3);b3.isTrigger=true;b3.namespace=b4.join(".");b3.namespace_re=b3.namespace?new RegExp("(^|\\.)"+b4.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b3.result=aG;if(!b3.target){b3.target=b6}ca=ca==null?[b3]:bJ.makeArray(ca,[b3]);cd=bJ.event.special[ce]||{};if(!ch&&cd.trigger&&cd.trigger.apply(b6,ca)===false){return}if(!ch&&!cd.noBubble&&!bJ.isWindow(b6)){cg=cd.delegateType||ce;if(!bB.test(cg+ce)){cf=cf.parentNode}for(;cf;cf=cf.parentNode){b7.push(cf);b9=cf}if(b9===(b6.ownerDocument||l)){b7.push(b9.defaultView||b9.parentWindow||a2)}}b8=0;while((cf=b7[b8++])&&!b3.isPropagationStopped()){b3.type=b8>1?cg:cd.bindType||ce;cb=(bJ._data(cf,"events")||{})[b3.type]&&bJ._data(cf,"handle");if(cb){cb.apply(cf,ca)}cb=b5&&cf[b5];if(cb&&bJ.acceptData(cf)&&cb.apply&&cb.apply(cf,ca)===false){b3.preventDefault()}}b3.type=ce;if(!ch&&!b3.isDefaultPrevented()){if((!cd._default||cd._default.apply(b6.ownerDocument,ca)===false)&&!(ce==="click"&&bJ.nodeName(b6,"a"))&&bJ.acceptData(b6)){if(b5&&b6[ce]&&!bJ.isWindow(b6)){b9=b6[b5];if(b9){b6[b5]=null}bJ.event.triggered=ce;try{b6[ce]()}catch(cc){}bJ.event.triggered=aG;if(b9){b6[b5]=b9}}}}return b3.result},dispatch:function(e){e=bJ.event.fix(e);var b6,b7,cb,b3,b5,ca=[],b9=a4.call(arguments),b4=(bJ._data(this,"events")||{})[e.type]||[],b8=bJ.event.special[e.type]||{};b9[0]=e;e.delegateTarget=this;if(b8.preDispatch&&b8.preDispatch.call(this,e)===false){return}ca=bJ.event.handlers.call(this,e,b4);b6=0;while((b3=ca[b6++])&&!e.isPropagationStopped()){e.currentTarget=b3.elem;b5=0;while((cb=b3.handlers[b5++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cb.namespace)){e.handleObj=cb;e.data=cb.data;b7=((bJ.event.special[cb.origType]||{}).handle||cb.handler).apply(b3.elem,b9);if(b7!==aG){if((e.result=b7)===false){e.preventDefault();e.stopPropagation()}}}}}if(b8.postDispatch){b8.postDispatch.call(this,e)}return e.result},handlers:function(e,b4){var b3,b9,b7,b6,b8=[],b5=b4.delegateCount,ca=e.target;if(b5&&ca.nodeType&&(!e.button||e.type!=="click")){for(;ca!=this;ca=ca.parentNode||this){if(ca.nodeType===1&&(ca.disabled!==true||e.type!=="click")){b7=[];for(b6=0;b6<b5;b6++){b9=b4[b6];b3=b9.selector+" ";if(b7[b3]===aG){b7[b3]=b9.needsContext?bJ(b3,this).index(ca)>=0:bJ.find(b3,this,null,[ca]).length}if(b7[b3]){b7.push(b9)}}if(b7.length){b8.push({elem:ca,handlers:b7})}}}}if(b5<b4.length){b8.push({elem:this,handlers:b4.slice(b5)})}return b8},fix:function(b5){if(b5[bJ.expando]){return b5}var b3,b8,b7,b4=b5.type,e=b5,b6=this.fixHooks[b4];if(!b6){this.fixHooks[b4]=b6=bN.test(b4)?this.mouseHooks:a3.test(b4)?this.keyHooks:{}}b7=b6.props?this.props.concat(b6.props):this.props;b5=new bJ.Event(e);b3=b7.length;while(b3--){b8=b7[b3];b5[b8]=e[b8]}if(!b5.target){b5.target=e.srcElement||l}if(b5.target.nodeType===3){b5.target=b5.target.parentNode}b5.metaKey=!!b5.metaKey;return b6.filter?b6.filter(b5,e):b5},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b3,e){if(b3.which==null){b3.which=e.charCode!=null?e.charCode:e.keyCode}return b3}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b5,b4){var e,b6,b7,b3=b4.button,b8=b4.fromElement;if(b5.pageX==null&&b4.clientX!=null){b6=b5.target.ownerDocument||l;b7=b6.documentElement;e=b6.body;b5.pageX=b4.clientX+(b7&&b7.scrollLeft||e&&e.scrollLeft||0)-(b7&&b7.clientLeft||e&&e.clientLeft||0);b5.pageY=b4.clientY+(b7&&b7.scrollTop||e&&e.scrollTop||0)-(b7&&b7.clientTop||e&&e.clientTop||0)}if(!b5.relatedTarget&&b8){b5.relatedTarget=b8===b5.target?b4.toElement:b8}if(!b5.which&&b3!==aG){b5.which=(b3&1?1:(b3&2?3:(b3&4?2:0)))}return b5}},special:{load:{noBubble:true},click:{trigger:function(){if(bJ.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==l.activeElement&&this.focus){try{this.focus();return false}catch(b3){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===l.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==aG){e.originalEvent.returnValue=e.result}}}},simulate:function(b4,b6,b5,b3){var b7=bJ.extend(new bJ.Event(),b5,{type:b4,isSimulated:true,originalEvent:{}});if(b3){bJ.event.trigger(b7,null,b6)}else{bJ.event.dispatch.call(b6,b7)}if(b7.isDefaultPrevented()){b5.preventDefault()}}};bJ.removeEvent=l.removeEventListener?function(b3,e,b4){if(b3.removeEventListener){b3.removeEventListener(e,b4,false)}}:function(b4,b3,b5){var e="on"+b3;if(b4.detachEvent){if(typeof b4[e]===aC){b4[e]=null}b4.detachEvent(e,b5)}};bJ.Event=function(b3,e){if(!(this instanceof bJ.Event)){return new bJ.Event(b3,e)}if(b3&&b3.type){this.originalEvent=b3;this.type=b3.type;this.isDefaultPrevented=(b3.defaultPrevented||b3.returnValue===false||b3.getPreventDefault&&b3.getPreventDefault())?R:X}else{this.type=b3}if(e){bJ.extend(this,e)}this.timeStamp=b3&&b3.timeStamp||bJ.now();this[bJ.expando]=true};bJ.Event.prototype={isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X,preventDefault:function(){var b3=this.originalEvent;this.isDefaultPrevented=R;if(!b3){return}if(b3.preventDefault){b3.preventDefault()}else{b3.returnValue=false}},stopPropagation:function(){var b3=this.originalEvent;this.isPropagationStopped=R;if(!b3){return}if(b3.stopPropagation){b3.stopPropagation()}b3.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R;this.stopPropagation()}};bJ.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b3,e){bJ.event.special[b3]={delegateType:e,bindType:e,handle:function(b6){var b4,b8=this,b7=b6.relatedTarget,b5=b6.handleObj;if(!b7||(b7!==b8&&!bJ.contains(b8,b7))){b6.type=b5.origType;b4=b5.handler.apply(this,arguments);b6.type=e}return b4}}});if(!bJ.support.submitBubbles){bJ.event.special.submit={setup:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.add(this,"click._submit keypress._submit",function(b5){var b4=b5.target,b3=bJ.nodeName(b4,"input")||bJ.nodeName(b4,"button")?b4.form:aG;if(b3&&!bJ._data(b3,"submitBubbles")){bJ.event.add(b3,"submit._submit",function(e){e._submit_bubble=true});bJ._data(b3,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bJ.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.remove(this,"._submit")}}}if(!bJ.support.changeBubbles){bJ.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bJ.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bJ.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bJ.event.simulate("change",this,e,true)})}return false}bJ.event.add(this,"beforeactivate._change",function(b4){var b3=b4.target;if(bH.test(b3.nodeName)&&!bJ._data(b3,"changeBubbles")){bJ.event.add(b3,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bJ.event.simulate("change",this.parentNode,e,true)}});bJ._data(b3,"changeBubbles",true)}})},handle:function(b3){var e=b3.target;if(this!==e||b3.isSimulated||b3.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b3.handleObj.handler.apply(this,arguments)}},teardown:function(){bJ.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!bJ.support.focusinBubbles){bJ.each({focus:"focusin",blur:"focusout"},function(b5,e){var b3=0,b4=function(b6){bJ.event.simulate(e,b6.target,bJ.event.fix(b6),true)};bJ.event.special[e]={setup:function(){if(b3++===0){l.addEventListener(b5,b4,true)}},teardown:function(){if(--b3===0){l.removeEventListener(b5,b4,true)}}}})}bJ.fn.extend({on:function(b4,e,b7,b6,b3){var b5,b8;if(typeof b4==="object"){if(typeof e!=="string"){b7=b7||e;e=aG}for(b5 in b4){this.on(b5,e,b7,b4[b5],b3)}return this}if(b7==null&&b6==null){b6=e;b7=e=aG}else{if(b6==null){if(typeof e==="string"){b6=b7;b7=aG}else{b6=b7;b7=e;e=aG}}}if(b6===false){b6=X}else{if(!b6){return this}}if(b3===1){b8=b6;b6=function(b9){bJ().off(b9);return b8.apply(this,arguments)};b6.guid=b8.guid||(b8.guid=bJ.guid++)}return this.each(function(){bJ.event.add(this,b4,b6,b7,e)})},one:function(b3,e,b5,b4){return this.on(b3,e,b5,b4,1)},off:function(b4,e,b6){var b3,b5;if(b4&&b4.preventDefault&&b4.handleObj){b3=b4.handleObj;bJ(b4.delegateTarget).off(b3.namespace?b3.origType+"."+b3.namespace:b3.origType,b3.selector,b3.handler);return this}if(typeof b4==="object"){for(b5 in b4){this.off(b5,e,b4[b5])}return this}if(e===false||typeof e==="function"){b6=e;e=aG}if(b6===false){b6=X}return this.each(function(){bJ.event.remove(this,b4,b6,e)})},bind:function(e,b4,b3){return this.on(e,null,b4,b3)},unbind:function(e,b3){return this.off(e,null,b3)},delegate:function(e,b3,b5,b4){return this.on(b3,e,b5,b4)},undelegate:function(e,b3,b4){return arguments.length===1?this.off(e,"**"):this.off(b3,e||"**",b4)},trigger:function(e,b3){return this.each(function(){bJ.event.trigger(e,b3,this)})},triggerHandler:function(e,b4){var b3=this[0];if(b3){return bJ.event.trigger(e,b4,b3,true)}}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(da,ch){var cx,cb,cn,cH,cJ,cS,cT,dg,cV,cB,co,cd,cZ,db,ca,cF,cD,c5="sizzle"+-(new Date()),cI=da.document,dd={},de=0,c0=0,b5=cz(),c4=cz(),cG=cz(),c9=typeof ch,cN=1<<31,c7=[],c8=c7.pop,b4=c7.push,cm=c7.slice,b9=c7.indexOf||function(di){var dh=0,e=this.length;for(;dh<e;dh++){if(this[dh]===di){return dh}}return -1},cp="[\\x20\\t\\r\\n\\f]",b3="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cK=b3.replace("w","w#"),ci="([*^$|!~]?=)",c2="\\["+cp+"*("+b3+")"+cp+"*(?:"+ci+cp+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cK+")|)|)"+cp+"*\\]",ck=":("+b3+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c2.replace(3,8)+")*)|.*)\\)|)",cr=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cu=new RegExp("^"+cp+"*,"+cp+"*"),cA=new RegExp("^"+cp+"*([\\x20\\t\\r\\n\\f>+~])"+cp+"*"),cP=new RegExp(ck),cQ=new RegExp("^"+cK+"$"),cY={ID:new RegExp("^#("+b3+")"),CLASS:new RegExp("^\\.("+b3+")"),NAME:new RegExp("^\\[name=['\"]?("+b3+")['\"]?\\]"),TAG:new RegExp("^("+b3.replace("w","w*")+")"),ATTR:new RegExp("^"+c2),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},cW=/[\x20\t\r\n\f]*[+~]/,cM=/^[^{]+\{\s*\[native code/,cO=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b8=/^(?:input|select|textarea|button)$/i,cl=/^h\d$/i,cL=/'|\\/g,ct=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cs=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c1=function(e,di){var dh="0x"+di-65536;return dh!==dh?di:dh<0?String.fromCharCode(dh+65536):String.fromCharCode(dh>>10|55296,dh&1023|56320)};try{cm.call(cI.documentElement.childNodes,0)[0].nodeType}catch(cC){cm=function(dh){var di,e=[];while((di=this[dh++])){e.push(di)}return e}}function cE(e){return cM.test(e+"")}function cz(){var e,dh=[];return(e=function(di,dj){if(dh.push(di+=" ")>cn.cacheLength){delete e[dh.shift()]}return(e[di]=dj)})}function cj(e){e[c5]=true;return e}function cc(dh){var dj=cB.createElement("div");try{return dh(dj)}catch(di){return false}finally{dj=null}}function cv(dp,dh,dt,dv){var du,dl,dm,dr,ds,dk,dj,e,di,dq;if((dh?dh.ownerDocument||dh:cI)!==cB){cV(dh)}dh=dh||cB;dt=dt||[];if(!dp||typeof dp!=="string"){return dt}if((dr=dh.nodeType)!==1&&dr!==9){return[]}if(!cd&&!dv){if((du=cO.exec(dp))){if((dm=du[1])){if(dr===9){dl=dh.getElementById(dm);if(dl&&dl.parentNode){if(dl.id===dm){dt.push(dl);return dt}}else{return dt}}else{if(dh.ownerDocument&&(dl=dh.ownerDocument.getElementById(dm))&&cF(dh,dl)&&dl.id===dm){dt.push(dl);return dt}}}else{if(du[2]){b4.apply(dt,cm.call(dh.getElementsByTagName(dp),0));return dt}else{if((dm=du[3])&&dd.getByClassName&&dh.getElementsByClassName){b4.apply(dt,cm.call(dh.getElementsByClassName(dm),0));return dt}}}}if(dd.qsa&&!cZ.test(dp)){dj=true;e=c5;di=dh;dq=dr===9&&dp;if(dr===1&&dh.nodeName.toLowerCase()!=="object"){dk=cf(dp);if((dj=dh.getAttribute("id"))){e=dj.replace(cL,"\\$&")}else{dh.setAttribute("id",e)}e="[id='"+e+"'] ";ds=dk.length;while(ds--){dk[ds]=e+cg(dk[ds])}di=cW.test(dp)&&dh.parentNode||dh;dq=dk.join(",")}if(dq){try{b4.apply(dt,cm.call(di.querySelectorAll(dq),0));return dt}catch(dn){}finally{if(!dj){dh.removeAttribute("id")}}}}}return dc(dp.replace(cr,"$1"),dh,dt,dv)}cJ=cv.isXML=function(e){var dh=e&&(e.ownerDocument||e).documentElement;return dh?dh.nodeName!=="HTML":false};cV=cv.setDocument=function(e){var dh=e?e.ownerDocument||e:cI;if(dh===cB||dh.nodeType!==9||!dh.documentElement){return cB}cB=dh;co=dh.documentElement;cd=cJ(dh);dd.tagNameNoComments=cc(function(di){di.appendChild(dh.createComment(""));return !di.getElementsByTagName("*").length});dd.attributes=cc(function(dj){dj.innerHTML="<select></select>";var di=typeof dj.lastChild.getAttribute("multiple");return di!=="boolean"&&di!=="string"});dd.getByClassName=cc(function(di){di.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!di.getElementsByClassName||!di.getElementsByClassName("e").length){return false}di.lastChild.className="e";return di.getElementsByClassName("e").length===2});dd.getByName=cc(function(dj){dj.id=c5+0;dj.innerHTML="<a name='"+c5+"'></a><div name='"+c5+"'></div>";co.insertBefore(dj,co.firstChild);var di=dh.getElementsByName&&dh.getElementsByName(c5).length===2+dh.getElementsByName(c5+0).length;dd.getIdNotName=!dh.getElementById(c5);co.removeChild(dj);return di});cn.attrHandle=cc(function(di){di.innerHTML="<a href='#'></a>";return di.firstChild&&typeof di.firstChild.getAttribute!==c9&&di.firstChild.getAttribute("href")==="#"})?{}:{href:function(di){return di.getAttribute("href",2)},type:function(di){return di.getAttribute("type")}};if(dd.getIdNotName){cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di&&di.parentNode?[di]:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dk){return dk.getAttribute("id")===di}}}else{cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di?di.id===dk||typeof di.getAttributeNode!==c9&&di.getAttributeNode("id").value===dk?[di]:ch:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dl){var dk=typeof dl.getAttributeNode!==c9&&dl.getAttributeNode("id");return dk&&dk.value===di}}}cn.find.TAG=dd.tagNameNoComments?function(di,dj){if(typeof dj.getElementsByTagName!==c9){return dj.getElementsByTagName(di)}}:function(di,dm){var dn,dl=[],dk=0,dj=dm.getElementsByTagName(di);if(di==="*"){while((dn=dj[dk++])){if(dn.nodeType===1){dl.push(dn)}}return dl}return dj};cn.find.NAME=dd.getByName&&function(di,dj){if(typeof dj.getElementsByName!==c9){return dj.getElementsByName(name)}};cn.find.CLASS=dd.getByClassName&&function(dj,di){if(typeof di.getElementsByClassName!==c9&&!cd){return di.getElementsByClassName(dj)}};db=[];cZ=[":focus"];if((dd.qsa=cE(dh.querySelectorAll))){cc(function(di){di.innerHTML="<select><option selected=''></option></select>";if(!di.querySelectorAll("[selected]").length){cZ.push("\\["+cp+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!di.querySelectorAll(":checked").length){cZ.push(":checked")}});cc(function(di){di.innerHTML="<input type='hidden' i=''/>";if(di.querySelectorAll("[i^='']").length){cZ.push("[*^$]="+cp+"*(?:\"\"|'')")}if(!di.querySelectorAll(":enabled").length){cZ.push(":enabled",":disabled")}di.querySelectorAll("*,:x");cZ.push(",.*:")})}if((dd.matchesSelector=cE((ca=co.matchesSelector||co.mozMatchesSelector||co.webkitMatchesSelector||co.oMatchesSelector||co.msMatchesSelector)))){cc(function(di){dd.disconnectedMatch=ca.call(di,"div");ca.call(di,"[s!='']:x");db.push("!=",ck)})}cZ=new RegExp(cZ.join("|"));db=new RegExp(db.join("|"));cF=cE(co.contains)||co.compareDocumentPosition?function(dj,di){var dl=dj.nodeType===9?dj.documentElement:dj,dk=di&&di.parentNode;return dj===dk||!!(dk&&dk.nodeType===1&&(dl.contains?dl.contains(dk):dj.compareDocumentPosition&&dj.compareDocumentPosition(dk)&16))}:function(dj,di){if(di){while((di=di.parentNode)){if(di===dj){return true}}}return false};cD=co.compareDocumentPosition?function(dj,di){var dk;if(dj===di){cT=true;return 0}if((dk=di.compareDocumentPosition&&dj.compareDocumentPosition&&dj.compareDocumentPosition(di))){if(dk&1||dj.parentNode&&dj.parentNode.nodeType===11){if(dj===dh||cF(cI,dj)){return -1}if(di===dh||cF(cI,di)){return 1}return 0}return dk&4?-1:1}return dj.compareDocumentPosition?-1:1}:function(dj,di){var dq,dm=0,dp=dj.parentNode,dl=di.parentNode,dk=[dj],dn=[di];if(dj===di){cT=true;return 0}else{if(!dp||!dl){return dj===dh?-1:di===dh?1:dp?-1:dl?1:0}else{if(dp===dl){return b6(dj,di)}}}dq=dj;while((dq=dq.parentNode)){dk.unshift(dq)}dq=di;while((dq=dq.parentNode)){dn.unshift(dq)}while(dk[dm]===dn[dm]){dm++}return dm?b6(dk[dm],dn[dm]):dk[dm]===cI?-1:dn[dm]===cI?1:0};cT=false;[0,0].sort(cD);dd.detectDuplicates=cT;return cB};cv.matches=function(dh,e){return cv(dh,null,null,e)};cv.matchesSelector=function(di,dk){if((di.ownerDocument||di)!==cB){cV(di)}dk=dk.replace(ct,"='$1']");if(dd.matchesSelector&&!cd&&(!db||!db.test(dk))&&!cZ.test(dk)){try{var dh=ca.call(di,dk);if(dh||dd.disconnectedMatch||di.document&&di.document.nodeType!==11){return dh}}catch(dj){}}return cv(dk,cB,null,[di]).length>0};cv.contains=function(e,dh){if((e.ownerDocument||e)!==cB){cV(e)}return cF(e,dh)};cv.attr=function(dh,e){var di;if((dh.ownerDocument||dh)!==cB){cV(dh)}if(!cd){e=e.toLowerCase()}if((di=cn.attrHandle[e])){return di(dh)}if(cd||dd.attributes){return dh.getAttribute(e)}return((di=dh.getAttributeNode(e))||dh.getAttribute(e))&&dh[e]===true?e:di&&di.specified?di.value:null};cv.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cv.uniqueSort=function(di){var dj,dk=[],dh=1,e=0;cT=!dd.detectDuplicates;di.sort(cD);if(cT){for(;(dj=di[dh]);dh++){if(dj===di[dh-1]){e=dk.push(dh)}}while(e--){di.splice(dk[e],1)}}return di};function b6(dh,e){var dj=e&&dh,di=dj&&(~e.sourceIndex||cN)-(~dh.sourceIndex||cN);if(di){return di}if(dj){while((dj=dj.nextSibling)){if(dj===e){return -1}}}return dh?1:-1}function cw(e){return function(di){var dh=di.nodeName.toLowerCase();return dh==="input"&&di.type===e}}function b7(e){return function(di){var dh=di.nodeName.toLowerCase();return(dh==="input"||dh==="button")&&di.type===e}}function c3(e){return cj(function(dh){dh=+dh;return cj(function(di,dm){var dk,dj=e([],di.length,dh),dl=dj.length;while(dl--){if(di[(dk=dj[dl])]){di[dk]=!(dm[dk]=di[dk])}}})})}cH=cv.getText=function(dk){var dj,dh="",di=0,e=dk.nodeType;if(!e){for(;(dj=dk[di]);di++){dh+=cH(dj)}}else{if(e===1||e===9||e===11){if(typeof dk.textContent==="string"){return dk.textContent}else{for(dk=dk.firstChild;dk;dk=dk.nextSibling){dh+=cH(dk)}}}else{if(e===3||e===4){return dk.nodeValue}}}return dh};cn=cv.selectors={cacheLength:50,createPseudo:cj,match:cY,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cs,c1);e[3]=(e[4]||e[5]||"").replace(cs,c1);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cv.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cv.error(e[0])}}return e},PSEUDO:function(dh){var e,di=!dh[5]&&dh[2];if(cY.CHILD.test(dh[0])){return null}if(dh[4]){dh[2]=dh[4]}else{if(di&&cP.test(di)&&(e=cf(di,true))&&(e=di.indexOf(")",di.length-e)-di.length)){dh[0]=dh[0].slice(0,e);dh[2]=di.slice(0,e)}}return dh.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cs,c1).toLowerCase();return function(dh){return dh.nodeName&&dh.nodeName.toLowerCase()===e}},CLASS:function(e){var dh=b5[e+" "];return dh||(dh=new RegExp("(^|"+cp+")"+e+"("+cp+"|$)"))&&b5(e,function(di){return dh.test(di.className||(typeof di.getAttribute!==c9&&di.getAttribute("class"))||"")})},ATTR:function(di,dh,e){return function(dk){var dj=cv.attr(dk,di);if(dj==null){return dh==="!="}if(!dh){return true}dj+="";return dh==="="?dj===e:dh==="!="?dj!==e:dh==="^="?e&&dj.indexOf(e)===0:dh==="*="?e&&dj.indexOf(e)>-1:dh==="$="?e&&dj.slice(-e.length)===e:dh==="~="?(" "+dj+" ").indexOf(e)>-1:dh==="|="?dj===e||dj.slice(0,e.length+1)===e+"-":false}},CHILD:function(dh,dk,dj,dl,di){var dn=dh.slice(0,3)!=="nth",e=dh.slice(-4)!=="last",dm=dk==="of-type";return dl===1&&di===0?function(dp){return !!dp.parentNode}:function(dv,dt,dy){var dp,dB,dw,dA,dx,ds,du=dn!==e?"nextSibling":"previousSibling",dz=dv.parentNode,dr=dm&&dv.nodeName.toLowerCase(),dq=!dy&&!dm;if(dz){if(dn){while(du){dw=dv;while((dw=dw[du])){if(dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1){return false}}ds=du=dh==="only"&&!ds&&"nextSibling"}return true}ds=[e?dz.firstChild:dz.lastChild];if(e&&dq){dB=dz[c5]||(dz[c5]={});dp=dB[dh]||[];dx=dp[0]===de&&dp[1];dA=dp[0]===de&&dp[2];dw=dx&&dz.childNodes[dx];while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if(dw.nodeType===1&&++dA&&dw===dv){dB[dh]=[de,dx,dA];break}}}else{if(dq&&(dp=(dv[c5]||(dv[c5]={}))[dh])&&dp[0]===de){dA=dp[1]}else{while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if((dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1)&&++dA){if(dq){(dw[c5]||(dw[c5]={}))[dh]=[de,dA]}if(dw===dv){break}}}}}dA-=di;return dA===dl||(dA%dl===0&&dA/dl>=0)}}},PSEUDO:function(dj,di){var e,dh=cn.pseudos[dj]||cn.setFilters[dj.toLowerCase()]||cv.error("unsupported pseudo: "+dj);if(dh[c5]){return dh(di)}if(dh.length>1){e=[dj,dj,"",di];return cn.setFilters.hasOwnProperty(dj.toLowerCase())?cj(function(dm,dp){var dl,dk=dh(dm,di),dn=dk.length;while(dn--){dl=b9.call(dm,dk[dn]);dm[dl]=!(dp[dl]=dk[dn])}}):function(dk){return dh(dk,0,e)}}return dh}},pseudos:{not:cj(function(e){var dh=[],di=[],dj=cS(e.replace(cr,"$1"));return dj[c5]?cj(function(dl,dr,dp,dm){var dq,dk=dj(dl,null,dm,[]),dn=dl.length;while(dn--){if((dq=dk[dn])){dl[dn]=!(dr[dn]=dq)}}}):function(dm,dl,dk){dh[0]=dm;dj(dh,null,dk,di);return !di.pop()}}),has:cj(function(e){return function(dh){return cv(e,dh).length>0}}),contains:cj(function(e){return function(dh){return(dh.textContent||dh.innerText||cH(dh)).indexOf(e)>-1}}),lang:cj(function(e){if(!cQ.test(e||"")){cv.error("unsupported lang: "+e)}e=e.replace(cs,c1).toLowerCase();return function(di){var dh;do{if((dh=cd?di.getAttribute("xml:lang")||di.getAttribute("lang"):di.lang)){dh=dh.toLowerCase();return dh===e||dh.indexOf(e+"-")===0}}while((di=di.parentNode)&&di.nodeType===1);return false}}),target:function(e){var dh=da.location&&da.location.hash;return dh&&dh.slice(1)===e.id},root:function(e){return e===co},focus:function(e){return e===cB.activeElement&&(!cB.hasFocus||cB.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dh=e.nodeName.toLowerCase();return(dh==="input"&&!!e.checked)||(dh==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cn.pseudos.empty(e)},header:function(e){return cl.test(e.nodeName)},input:function(e){return b8.test(e.nodeName)},button:function(dh){var e=dh.nodeName.toLowerCase();return e==="input"&&dh.type==="button"||e==="button"},text:function(dh){var e;return dh.nodeName.toLowerCase()==="input"&&dh.type==="text"&&((e=dh.getAttribute("type"))==null||e.toLowerCase()===dh.type)},first:c3(function(){return[0]}),last:c3(function(e,dh){return[dh-1]}),eq:c3(function(e,di,dh){return[dh<0?dh+di:dh]}),even:c3(function(e,di){var dh=0;for(;dh<di;dh+=2){e.push(dh)}return e}),odd:c3(function(e,di){var dh=1;for(;dh<di;dh+=2){e.push(dh)}return e}),lt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;--dh>=0;){e.push(dh)}return e}),gt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;++dh<dj;){e.push(dh)}return e})}};for(cx in {radio:true,checkbox:true,file:true,password:true,image:true}){cn.pseudos[cx]=cw(cx)}for(cx in {submit:true,reset:true}){cn.pseudos[cx]=b7(cx)}function cf(dk,dq){var dh,dl,dn,dp,dm,di,e,dj=c4[dk+" "];if(dj){return dq?0:dj.slice(0)}dm=dk;di=[];e=cn.preFilter;while(dm){if(!dh||(dl=cu.exec(dm))){if(dl){dm=dm.slice(dl[0].length)||dm}di.push(dn=[])}dh=false;if((dl=cA.exec(dm))){dh=dl.shift();dn.push({value:dh,type:dl[0].replace(cr," ")});dm=dm.slice(dh.length)}for(dp in cn.filter){if((dl=cY[dp].exec(dm))&&(!e[dp]||(dl=e[dp](dl)))){dh=dl.shift();dn.push({value:dh,type:dp,matches:dl});dm=dm.slice(dh.length)}}if(!dh){break}}return dq?dm.length:dm?cv.error(dk):c4(dk,di).slice(0)}function cg(dj){var di=0,dh=dj.length,e="";for(;di<dh;di++){e+=dj[di].value}return e}function cq(dk,di,dj){var e=di.dir,dl=dj&&e==="parentNode",dh=c0++;return di.first?function(dp,dn,dm){while((dp=dp[e])){if(dp.nodeType===1||dl){return dk(dp,dn,dm)}}}:function(dr,dp,dn){var dt,dm,dq,ds=de+" "+dh;if(dn){while((dr=dr[e])){if(dr.nodeType===1||dl){if(dk(dr,dp,dn)){return true}}}}else{while((dr=dr[e])){if(dr.nodeType===1||dl){dq=dr[c5]||(dr[c5]={});if((dm=dq[e])&&dm[0]===ds){if((dt=dm[1])===true||dt===cb){return dt===true}}else{dm=dq[e]=[ds];dm[1]=dk(dr,dp,dn)||cb;if(dm[1]===true){return true}}}}}}}function df(e){return e.length>1?function(dk,dj,dh){var di=e.length;while(di--){if(!e[di](dk,dj,dh)){return false}}return true}:e[0]}function cX(e,dh,di,dj,dm){var dk,dq=[],dl=0,dn=e.length,dp=dh!=null;for(;dl<dn;dl++){if((dk=e[dl])){if(!di||di(dk,dj,dm)){dq.push(dk);if(dp){dh.push(dl)}}}}return dq}function ce(di,dh,dk,dj,dl,e){if(dj&&!dj[c5]){dj=ce(dj)}if(dl&&!dl[c5]){dl=ce(dl,e)}return cj(function(dx,du,dp,dw){var dz,dv,dr,dq=[],dy=[],dn=du.length,dm=dx||cy(dh||"*",dp.nodeType?[dp]:dp,[]),ds=di&&(dx||!dh)?cX(dm,dq,di,dp,dw):dm,dt=dk?dl||(dx?di:dn||dj)?[]:du:ds;if(dk){dk(ds,dt,dp,dw)}if(dj){dz=cX(dt,dy);dj(dz,[],dp,dw);dv=dz.length;while(dv--){if((dr=dz[dv])){dt[dy[dv]]=!(ds[dy[dv]]=dr)}}}if(dx){if(dl||di){if(dl){dz=[];dv=dt.length;while(dv--){if((dr=dt[dv])){dz.push((ds[dv]=dr))}}dl(null,(dt=[]),dz,dw)}dv=dt.length;while(dv--){if((dr=dt[dv])&&(dz=dl?b9.call(dx,dr):dq[dv])>-1){dx[dz]=!(du[dz]=dr)}}}}else{dt=cX(dt===du?dt.splice(dn,dt.length):dt);if(dl){dl(null,du,dt,dw)}else{b4.apply(du,dt)}}})}function c6(dm){var dh,dk,di,dl=dm.length,dq=cn.relative[dm[0].type],dr=dq||cn.relative[" "],dj=dq?1:0,dn=cq(function(ds){return ds===dh},dr,true),dp=cq(function(ds){return b9.call(dh,ds)>-1},dr,true),e=[function(du,dt,ds){return(!dq&&(ds||dt!==dg))||((dh=dt).nodeType?dn(du,dt,ds):dp(du,dt,ds))}];for(;dj<dl;dj++){if((dk=cn.relative[dm[dj].type])){e=[cq(df(e),dk)]}else{dk=cn.filter[dm[dj].type].apply(null,dm[dj].matches);if(dk[c5]){di=++dj;for(;di<dl;di++){if(cn.relative[dm[di].type]){break}}return ce(dj>1&&df(e),dj>1&&cg(dm.slice(0,dj-1)).replace(cr,"$1"),dk,dj<di&&c6(dm.slice(dj,di)),di<dl&&c6((dm=dm.slice(di))),di<dl&&cg(dm))}e.push(dk)}}return df(e)}function cU(dj,di){var dl=0,e=di.length>0,dk=dj.length>0,dh=function(dw,dq,dv,du,dC){var dr,ds,dx,dB=[],dA=0,dt="0",dm=dw&&[],dy=dC!=null,dz=dg,dp=dw||dk&&cn.find.TAG("*",dC&&dq.parentNode||dq),dn=(de+=dz==null?1:Math.random()||0.1);if(dy){dg=dq!==cB&&dq;cb=dl}for(;(dr=dp[dt])!=null;dt++){if(dk&&dr){ds=0;while((dx=dj[ds++])){if(dx(dr,dq,dv)){du.push(dr);break}}if(dy){de=dn;cb=++dl}}if(e){if((dr=!dx&&dr)){dA--}if(dw){dm.push(dr)}}}dA+=dt;if(e&&dt!==dA){ds=0;while((dx=di[ds++])){dx(dm,dB,dq,dv)}if(dw){if(dA>0){while(dt--){if(!(dm[dt]||dB[dt])){dB[dt]=c8.call(du)}}}dB=cX(dB)}b4.apply(du,dB);if(dy&&!dw&&dB.length>0&&(dA+di.length)>1){cv.uniqueSort(du)}}if(dy){de=dn;dg=dz}return dm};return e?cj(dh):dh}cS=cv.compile=function(e,dl){var di,dh=[],dk=[],dj=cG[e+" "];if(!dj){if(!dl){dl=cf(e)}di=dl.length;while(di--){dj=c6(dl[di]);if(dj[c5]){dh.push(dj)}else{dk.push(dj)}}dj=cG(e,cU(dk,dh))}return dj};function cy(dh,dk,dj){var di=0,e=dk.length;for(;di<e;di++){cv(dh,dk[di],dj)}return dj}function dc(di,e,dj,dm){var dk,dp,dh,dq,dn,dl=cf(di);if(!dm){if(dl.length===1){dp=dl[0]=dl[0].slice(0);if(dp.length>2&&(dh=dp[0]).type==="ID"&&e.nodeType===9&&!cd&&cn.relative[dp[1].type]){e=cn.find.ID(dh.matches[0].replace(cs,c1),e)[0];if(!e){return dj}di=di.slice(dp.shift().value.length)}dk=cY.needsContext.test(di)?0:dp.length;while(dk--){dh=dp[dk];if(cn.relative[(dq=dh.type)]){break}if((dn=cn.find[dq])){if((dm=dn(dh.matches[0].replace(cs,c1),cW.test(dp[0].type)&&e.parentNode||e))){dp.splice(dk,1);di=dm.length&&cg(dp);if(!di){b4.apply(dj,cm.call(dm,0));return dj}break}}}}}cS(di,dl)(dm,e,cd,dj,cW.test(di));return dj}cn.pseudos.nth=cn.pseudos.eq;function cR(){}cn.filters=cR.prototype=cn.pseudos;cn.setFilters=new cR();cV();cv.attr=bJ.attr;bJ.find=cv;bJ.expr=cv.selectors;bJ.expr[":"]=bJ.expr.pseudos;bJ.unique=cv.uniqueSort;bJ.text=cv.getText;bJ.isXMLDoc=cv.isXML;bJ.contains=cv.contains})(a2);var aj=/Until$/,bt=/^(?:parents|prev(?:Until|All))/,an=/^.[^:#\[\.,]*$/,y=bJ.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};bJ.fn.extend({find:function(b3){var b6,b5,b4,e=this.length;if(typeof b3!=="string"){b4=this;return this.pushStack(bJ(b3).filter(function(){for(b6=0;b6<e;b6++){if(bJ.contains(b4[b6],this)){return true}}}))}b5=[];for(b6=0;b6<e;b6++){bJ.find(b3,this[b6],b5)}b5=this.pushStack(e>1?bJ.unique(b5):b5);b5.selector=(this.selector?this.selector+" ":"")+b3;return b5},has:function(b5){var b4,b3=bJ(b5,this),e=b3.length;return this.filter(function(){for(b4=0;b4<e;b4++){if(bJ.contains(this,b3[b4])){return true}}})},not:function(e){return this.pushStack(aO(this,e,false))},filter:function(e){return this.pushStack(aO(this,e,true))},is:function(e){return !!e&&(typeof e==="string"?y.test(e)?bJ(e,this.context).index(this[0])>=0:bJ.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b6,b5){var b7,b4=0,e=this.length,b3=[],b8=y.test(b6)||typeof b6!=="string"?bJ(b6,b5||this.context):0;for(;b4<e;b4++){b7=this[b4];while(b7&&b7.ownerDocument&&b7!==b5&&b7.nodeType!==11){if(b8?b8.index(b7)>-1:bJ.find.matchesSelector(b7,b6)){b3.push(b7);break}b7=b7.parentNode}}return this.pushStack(b3.length>1?bJ.unique(b3):b3)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bJ.inArray(this[0],bJ(e))}return bJ.inArray(e.jquery?e[0]:e,this)},add:function(e,b3){var b5=typeof e==="string"?bJ(e,b3):bJ.makeArray(e&&e.nodeType?[e]:e),b4=bJ.merge(this.get(),b5);return this.pushStack(bJ.unique(b4))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bJ.fn.andSelf=bJ.fn.addBack;function aX(b3,e){do{b3=b3[e]}while(b3&&b3.nodeType!==1);return b3}bJ.each({parent:function(b3){var e=b3.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bJ.dir(e,"parentNode")},parentsUntil:function(b3,e,b4){return bJ.dir(b3,"parentNode",b4)},next:function(e){return aX(e,"nextSibling")},prev:function(e){return aX(e,"previousSibling")},nextAll:function(e){return bJ.dir(e,"nextSibling")},prevAll:function(e){return bJ.dir(e,"previousSibling")},nextUntil:function(b3,e,b4){return bJ.dir(b3,"nextSibling",b4)},prevUntil:function(b3,e,b4){return bJ.dir(b3,"previousSibling",b4)},siblings:function(e){return bJ.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bJ.sibling(e.firstChild)},contents:function(e){return bJ.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bJ.merge([],e.childNodes)}},function(e,b3){bJ.fn[e]=function(b6,b4){var b5=bJ.map(this,b3,b6);if(!aj.test(e)){b4=b6}if(b4&&typeof b4==="string"){b5=bJ.filter(b4,b5)}b5=this.length>1&&!bx[e]?bJ.unique(b5):b5;if(this.length>1&&bt.test(e)){b5=b5.reverse()}return this.pushStack(b5)}});bJ.extend({filter:function(b4,e,b3){if(b3){b4=":not("+b4+")"}return e.length===1?bJ.find.matchesSelector(e[0],b4)?[e[0]]:[]:bJ.find.matches(b4,e)},dir:function(b4,b3,b6){var e=[],b5=b4[b3];while(b5&&b5.nodeType!==9&&(b6===aG||b5.nodeType!==1||!bJ(b5).is(b6))){if(b5.nodeType===1){e.push(b5)}b5=b5[b3]}return e},sibling:function(b4,b3){var e=[];for(;b4;b4=b4.nextSibling){if(b4.nodeType===1&&b4!==b3){e.push(b4)}}return e}});function aO(b5,b4,e){b4=b4||0;if(bJ.isFunction(b4)){return bJ.grep(b5,function(b7,b6){var b8=!!b4.call(b7,b6,b7);return b8===e})}else{if(b4.nodeType){return bJ.grep(b5,function(b6){return(b6===b4)===e})}else{if(typeof b4==="string"){var b3=bJ.grep(b5,function(b6){return b6.nodeType===1});if(an.test(b4)){return bJ.filter(b4,b3,!e)}else{b4=bJ.filter(b4,b3)}}}}return bJ.grep(b5,function(b6){return(bJ.inArray(b6,b4)>=0)===e})}function A(e){var b4=d.split("|"),b3=e.createDocumentFragment();if(b3.createElement){while(b4.length){b3.createElement(b4.pop())}}return b3}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aA=/ jQuery\d+="(?:null|\d+)"/g,J=new RegExp("<(?:"+d+")[\\s/>]","i"),b2=/^\s+/,aD=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/<([\w:]+)/,bX=/<tbody/i,I=/<|&#?\w+;/,al=/<(?:script|style|link)/i,q=/^(?:checkbox|radio)$/i,bU=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/^$|\/(?:java|ecma)script/i,ar=/^true\/(.*)/,aK=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,T={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bJ.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aS=A(l),j=aS.appendChild(l.createElement("div"));T.optgroup=T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;bJ.fn.extend({text:function(e){return bJ.access(this,function(b3){return b3===aG?bJ.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(b3))},null,e,arguments.length)},wrapAll:function(e){if(bJ.isFunction(e)){return this.each(function(b4){bJ(this).wrapAll(e.call(this,b4))})}if(this[0]){var b3=bJ(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b3.insertBefore(this[0])}b3.map(function(){var b4=this;while(b4.firstChild&&b4.firstChild.nodeType===1){b4=b4.firstChild}return b4}).append(this)}return this},wrapInner:function(e){if(bJ.isFunction(e)){return this.each(function(b3){bJ(this).wrapInner(e.call(this,b3))})}return this.each(function(){var b3=bJ(this),b4=b3.contents();if(b4.length){b4.wrapAll(e)}else{b3.append(e)}})},wrap:function(e){var b3=bJ.isFunction(e);return this.each(function(b4){bJ(this).wrapAll(b3?e.call(this,b4):e)})},unwrap:function(){return this.parent().each(function(){if(!bJ.nodeName(this,"body")){bJ(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b5){var b4,b3=0;for(;(b4=this[b3])!=null;b3++){if(!e||bJ.filter(e,[b4]).length>0){if(!b5&&b4.nodeType===1){bJ.cleanData(k(b4))}if(b4.parentNode){if(b5&&bJ.contains(b4.ownerDocument,b4)){bs(k(b4,"script"))}b4.parentNode.removeChild(b4)}}}return this},empty:function(){var b3,e=0;for(;(b3=this[e])!=null;e++){if(b3.nodeType===1){bJ.cleanData(k(b3,false))}while(b3.firstChild){b3.removeChild(b3.firstChild)}if(b3.options&&bJ.nodeName(b3,"select")){b3.options.length=0}}return this},clone:function(b3,e){b3=b3==null?false:b3;e=e==null?b3:e;return this.map(function(){return bJ.clone(this,b3,e)})},html:function(e){return bJ.access(this,function(b6){var b5=this[0]||{},b4=0,b3=this.length;if(b6===aG){return b5.nodeType===1?b5.innerHTML.replace(aA,""):aG}if(typeof b6==="string"&&!al.test(b6)&&(bJ.support.htmlSerialize||!J.test(b6))&&(bJ.support.leadingWhitespace||!b2.test(b6))&&!T[(m.exec(b6)||["",""])[1].toLowerCase()]){b6=b6.replace(aD,"<$1></$2>");try{for(;b4<b3;b4++){b5=this[b4]||{};if(b5.nodeType===1){bJ.cleanData(k(b5,false));b5.innerHTML=b6}}b5=0}catch(b7){}}if(b5){this.empty().append(b6)}},null,e,arguments.length)},replaceWith:function(b3){var e=bJ.isFunction(b3);if(!e&&typeof b3!=="string"){b3=bJ(b3).not(this).detach()}return this.domManip([b3],true,function(b6){var b5=this.nextSibling,b4=this.parentNode;if(b4){bJ(this).remove();b4.insertBefore(b6,b5)}})},detach:function(e){return this.remove(e,true)},domManip:function(ca,cg,cf){ca=aI.apply([],ca);var b8,b4,e,b6,cd,b9,b7=0,b5=this.length,cc=this,ce=b5-1,cb=ca[0],b3=bJ.isFunction(cb);if(b3||!(b5<=1||typeof cb!=="string"||bJ.support.checkClone||!bU.test(cb))){return this.each(function(ci){var ch=cc.eq(ci);if(b3){ca[0]=cb.call(this,ci,cg?ch.html():aG)}ch.domManip(ca,cg,cf)})}if(b5){b9=bJ.buildFragment(ca,this[0].ownerDocument,false,this);b8=b9.firstChild;if(b9.childNodes.length===1){b9=b8}if(b8){cg=cg&&bJ.nodeName(b8,"tr");b6=bJ.map(k(b9,"script"),t);e=b6.length;for(;b7<b5;b7++){b4=b9;if(b7!==ce){b4=bJ.clone(b4,true,true);if(e){bJ.merge(b6,k(b4,"script"))}}cf.call(cg&&bJ.nodeName(this[b7],"table")?x(this[b7],"tbody"):this[b7],b4,b7)}if(e){cd=b6[b6.length-1].ownerDocument;bJ.map(b6,bc);for(b7=0;b7<e;b7++){b4=b6[b7];if(bz.test(b4.type||"")&&!bJ._data(b4,"globalEval")&&bJ.contains(cd,b4)){if(b4.src){bJ.ajax({url:b4.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bJ.globalEval((b4.text||b4.textContent||b4.innerHTML||"").replace(aK,""))}}}}b9=b8=null}}return this}});function x(b3,e){return b3.getElementsByTagName(e)[0]||b3.appendChild(b3.ownerDocument.createElement(e))}function t(b3){var e=b3.getAttributeNode("type");b3.type=(e&&e.specified)+"/"+b3.type;return b3}function bc(b3){var e=ar.exec(b3.type);if(e){b3.type=e[1]}else{b3.removeAttribute("type")}return b3}function bs(e,b4){var b5,b3=0;for(;(b5=e[b3])!=null;b3++){bJ._data(b5,"globalEval",!b4||bJ._data(b4[b3],"globalEval"))}}function at(b9,b3){if(b3.nodeType!==1||!bJ.hasData(b9)){return}var b6,b5,e,b8=bJ._data(b9),b7=bJ._data(b3,b8),b4=b8.events;if(b4){delete b7.handle;b7.events={};for(b6 in b4){for(b5=0,e=b4[b6].length;b5<e;b5++){bJ.event.add(b3,b6,b4[b6][b5])}}}if(b7.data){b7.data=bJ.extend({},b7.data)}}function Q(b6,b3){var b7,b5,b4;if(b3.nodeType!==1){return}b7=b3.nodeName.toLowerCase();if(!bJ.support.noCloneEvent&&b3[bJ.expando]){b4=bJ._data(b3);for(b5 in b4.events){bJ.removeEvent(b3,b5,b4.handle)}b3.removeAttribute(bJ.expando)}if(b7==="script"&&b3.text!==b6.text){t(b3).text=b6.text;bc(b3)}else{if(b7==="object"){if(b3.parentNode){b3.outerHTML=b6.outerHTML}if(bJ.support.html5Clone&&(b6.innerHTML&&!bJ.trim(b3.innerHTML))){b3.innerHTML=b6.innerHTML}}else{if(b7==="input"&&q.test(b6.type)){b3.defaultChecked=b3.checked=b6.checked;if(b3.value!==b6.value){b3.value=b6.value}}else{if(b7==="option"){b3.defaultSelected=b3.selected=b6.defaultSelected}else{if(b7==="input"||b7==="textarea"){b3.defaultValue=b6.defaultValue}}}}}}bJ.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b3){bJ.fn[e]=function(b4){var b5,b7=0,b6=[],b9=bJ(b4),b8=b9.length-1;for(;b7<=b8;b7++){b5=b7===b8?this:this.clone(true);bJ(b9[b7])[b3](b5);ao.apply(b6,b5.get())}return this.pushStack(b6)}});function k(b5,e){var b3,b6,b4=0,b7=typeof b5.getElementsByTagName!==aC?b5.getElementsByTagName(e||"*"):typeof b5.querySelectorAll!==aC?b5.querySelectorAll(e||"*"):aG;if(!b7){for(b7=[],b3=b5.childNodes||b5;(b6=b3[b4])!=null;b4++){if(!e||bJ.nodeName(b6,e)){b7.push(b6)}else{bJ.merge(b7,k(b6,e))}}}return e===aG||e&&bJ.nodeName(b5,e)?bJ.merge([b5],b7):b7}function bV(e){if(q.test(e.type)){e.defaultChecked=e.checked}}bJ.extend({clone:function(b3,b5,e){var b7,b4,ca,b6,b8,b9=bJ.contains(b3.ownerDocument,b3);if(bJ.support.html5Clone||bJ.isXMLDoc(b3)||!J.test("<"+b3.nodeName+">")){ca=b3.cloneNode(true)}else{j.innerHTML=b3.outerHTML;j.removeChild(ca=j.firstChild)}if((!bJ.support.noCloneEvent||!bJ.support.noCloneChecked)&&(b3.nodeType===1||b3.nodeType===11)&&!bJ.isXMLDoc(b3)){b7=k(ca);b8=k(b3);for(b6=0;(b4=b8[b6])!=null;++b6){if(b7[b6]){Q(b4,b7[b6])}}}if(b5){if(e){b8=b8||k(b3);b7=b7||k(ca);for(b6=0;(b4=b8[b6])!=null;b6++){at(b4,b7[b6])}}else{at(b3,ca)}}b7=k(ca,"script");if(b7.length>0){bs(b7,!b9&&k(b3,"script"))}b7=b8=b4=null;return ca},buildFragment:function(b3,b5,ca,cf){var cb,b7,b9,ce,cg,cd,b4,b8=b3.length,b6=A(b5),e=[],cc=0;for(;cc<b8;cc++){b7=b3[cc];if(b7||b7===0){if(bJ.type(b7)==="object"){bJ.merge(e,b7.nodeType?[b7]:b7)}else{if(!I.test(b7)){e.push(b5.createTextNode(b7))}else{ce=ce||b6.appendChild(b5.createElement("div"));cg=(m.exec(b7)||["",""])[1].toLowerCase();b4=T[cg]||T._default;ce.innerHTML=b4[1]+b7.replace(aD,"<$1></$2>")+b4[2];cb=b4[0];while(cb--){ce=ce.lastChild}if(!bJ.support.leadingWhitespace&&b2.test(b7)){e.push(b5.createTextNode(b2.exec(b7)[0]))}if(!bJ.support.tbody){b7=cg==="table"&&!bX.test(b7)?ce.firstChild:b4[1]==="<table>"&&!bX.test(b7)?ce:0;cb=b7&&b7.childNodes.length;while(cb--){if(bJ.nodeName((cd=b7.childNodes[cb]),"tbody")&&!cd.childNodes.length){b7.removeChild(cd)}}}bJ.merge(e,ce.childNodes);ce.textContent="";while(ce.firstChild){ce.removeChild(ce.firstChild)}ce=b6.lastChild}}}}if(ce){b6.removeChild(ce)}if(!bJ.support.appendChecked){bJ.grep(k(e,"input"),bV)}cc=0;while((b7=e[cc++])){if(cf&&bJ.inArray(b7,cf)!==-1){continue}b9=bJ.contains(b7.ownerDocument,b7);ce=k(b6.appendChild(b7),"script");if(b9){bs(ce)}if(ca){cb=0;while((b7=ce[cb++])){if(bz.test(b7.type||"")){ca.push(b7)}}}}ce=null;return b6},cleanData:function(b3,cb){var b5,ca,b4,b6,b7=0,cc=bJ.expando,e=bJ.cache,b8=bJ.support.deleteExpando,b9=bJ.event.special;for(;(b5=b3[b7])!=null;b7++){if(cb||bJ.acceptData(b5)){b4=b5[cc];b6=b4&&e[b4];if(b6){if(b6.events){for(ca in b6.events){if(b9[ca]){bJ.event.remove(b5,ca)}else{bJ.removeEvent(b5,ca,b6.handle)}}}if(e[b4]){delete e[b4];if(b8){delete b5[cc]}else{if(typeof b5.removeAttribute!==aC){b5.removeAttribute(cc)}else{b5[cc]=null}}a6.push(b4)}}}}}});var aE,bo,E,bg=/alpha\([^)]*\)/i,aT=/opacity\s*=\s*([^)]*)/,bn=/^(top|right|bottom|left)$/,F=/^(none|table(?!-c[ea]).+)/,aY=/^margin/,a9=new RegExp("^("+bA+")(.*)$","i"),W=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),S=new RegExp("^([+-])=("+bA+")","i"),bj={BODY:"block"},bb={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:0,fontWeight:400},bT=["Top","Right","Bottom","Left"],av=["Webkit","O","Moz","ms"];function b(b5,b3){if(b3 in b5){return b3}var b6=b3.charAt(0).toUpperCase()+b3.slice(1),e=b3,b4=av.length;while(b4--){b3=av[b4]+b6;if(b3 in b5){return b3}}return e}function P(b3,e){b3=e||b3;return bJ.css(b3,"display")==="none"||!bJ.contains(b3.ownerDocument,b3)}function p(b8,e){var b9,b6,b7,b3=[],b4=0,b5=b8.length;for(;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}b3[b4]=bJ._data(b6,"olddisplay");b9=b6.style.display;if(e){if(!b3[b4]&&b9==="none"){b6.style.display=""}if(b6.style.display===""&&P(b6)){b3[b4]=bJ._data(b6,"olddisplay",bE(b6.nodeName))}}else{if(!b3[b4]){b7=P(b6);if(b9&&b9!=="none"||!b7){bJ._data(b6,"olddisplay",b7?b9:bJ.css(b6,"display"))}}}}for(b4=0;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}if(!e||b6.style.display==="none"||b6.style.display===""){b6.style.display=e?b3[b4]||"":"none"}}return b8}bJ.fn.extend({css:function(e,b3){return bJ.access(this,function(b8,b5,b9){var b4,b7,ca={},b6=0;if(bJ.isArray(b5)){b7=bo(b8);b4=b5.length;for(;b6<b4;b6++){ca[b5[b6]]=bJ.css(b8,b5[b6],false,b7)}return ca}return b9!==aG?bJ.style(b8,b5,b9):bJ.css(b8,b5)},e,b3,arguments.length>1)},show:function(){return p(this,true)},hide:function(){return p(this)},toggle:function(b3){var e=typeof b3==="boolean";return this.each(function(){if(e?b3:P(this)){bJ(this).show()}else{bJ(this).hide()}})}});bJ.extend({cssHooks:{opacity:{get:function(b4,b3){if(b3){var e=E(b4,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bJ.support.cssFloat?"cssFloat":"styleFloat"},style:function(b5,b4,cb,b6){if(!b5||b5.nodeType===3||b5.nodeType===8||!b5.style){return}var b9,ca,cc,b7=bJ.camelCase(b4),b3=b5.style;b4=bJ.cssProps[b7]||(bJ.cssProps[b7]=b(b3,b7));cc=bJ.cssHooks[b4]||bJ.cssHooks[b7];if(cb!==aG){ca=typeof cb;if(ca==="string"&&(b9=S.exec(cb))){cb=(b9[1]+1)*b9[2]+parseFloat(bJ.css(b5,b4));ca="number"}if(cb==null||ca==="number"&&isNaN(cb)){return}if(ca==="number"&&!bJ.cssNumber[b7]){cb+="px"}if(!bJ.support.clearCloneStyle&&cb===""&&b4.indexOf("background")===0){b3[b4]="inherit"}if(!cc||!("set" in cc)||(cb=cc.set(b5,cb,b6))!==aG){try{b3[b4]=cb}catch(b8){}}}else{if(cc&&"get" in cc&&(b9=cc.get(b5,false,b6))!==aG){return b9}return b3[b4]}},css:function(b8,b6,b3,b7){var b5,b9,e,b4=bJ.camelCase(b6);b6=bJ.cssProps[b4]||(bJ.cssProps[b4]=b(b8.style,b4));e=bJ.cssHooks[b6]||bJ.cssHooks[b4];if(e&&"get" in e){b9=e.get(b8,true,b3)}if(b9===aG){b9=E(b8,b6,b7)}if(b9==="normal"&&b6 in bC){b9=bC[b6]}if(b3===""||b3){b5=parseFloat(b9);return b3===true||bJ.isNumeric(b5)?b5||0:b9}return b9},swap:function(b7,b6,b8,b5){var b4,b3,e={};for(b3 in b6){e[b3]=b7.style[b3];b7.style[b3]=b6[b3]}b4=b8.apply(b7,b5||[]);for(b3 in b6){b7.style[b3]=e[b3]}return b4}});if(a2.getComputedStyle){bo=function(e){return a2.getComputedStyle(e,null)};E=function(b6,b4,b8){var b5,b3,ca,b7=b8||bo(b6),b9=b7?b7.getPropertyValue(b4)||b7[b4]:aG,e=b6.style;if(b7){if(b9===""&&!bJ.contains(b6.ownerDocument,b6)){b9=bJ.style(b6,b4)}if(W.test(b9)&&aY.test(b4)){b5=e.width;b3=e.minWidth;ca=e.maxWidth;e.minWidth=e.maxWidth=e.width=b9;b9=b7.width;e.width=b5;e.minWidth=b3;e.maxWidth=ca}}return b9}}else{if(l.documentElement.currentStyle){bo=function(e){return e.currentStyle};E=function(b5,b3,b8){var b4,b7,b9,b6=b8||bo(b5),ca=b6?b6[b3]:aG,e=b5.style;if(ca==null&&e&&e[b3]){ca=e[b3]}if(W.test(ca)&&!bn.test(b3)){b4=e.left;b7=b5.runtimeStyle;b9=b7&&b7.left;if(b9){b7.left=b5.currentStyle.left}e.left=b3==="fontSize"?"1em":ca;ca=e.pixelLeft+"px";e.left=b4;if(b9){b7.left=b9}}return ca===""?"auto":ca}}}function aJ(e,b4,b5){var b3=a9.exec(b4);return b3?Math.max(0,b3[1]-(b5||0))+(b3[2]||"px"):b4}function aw(b6,b3,e,b8,b5){var b4=e===(b8?"border":"content")?4:b3==="width"?1:0,b7=0;for(;b4<4;b4+=2){if(e==="margin"){b7+=bJ.css(b6,e+bT[b4],true,b5)}if(b8){if(e==="content"){b7-=bJ.css(b6,"padding"+bT[b4],true,b5)}if(e!=="margin"){b7-=bJ.css(b6,"border"+bT[b4]+"Width",true,b5)}}else{b7+=bJ.css(b6,"padding"+bT[b4],true,b5);if(e!=="padding"){b7+=bJ.css(b6,"border"+bT[b4]+"Width",true,b5)}}}return b7}function u(b6,b3,e){var b5=true,b7=b3==="width"?b6.offsetWidth:b6.offsetHeight,b4=bo(b6),b8=bJ.support.boxSizing&&bJ.css(b6,"boxSizing",false,b4)==="border-box";if(b7<=0||b7==null){b7=E(b6,b3,b4);if(b7<0||b7==null){b7=b6.style[b3]}if(W.test(b7)){return b7}b5=b8&&(bJ.support.boxSizingReliable||b7===b6.style[b3]);b7=parseFloat(b7)||0}return(b7+aw(b6,b3,e||(b8?"border":"content"),b5,b4))+"px"}function bE(b4){var b3=l,e=bj[b4];if(!e){e=a1(b4,b3);if(e==="none"||!e){aE=(aE||bJ("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b3.documentElement);b3=(aE[0].contentWindow||aE[0].contentDocument).document;b3.write("<!doctype html><html><body>");b3.close();e=a1(b4,b3);aE.detach()}bj[b4]=e}return e}function a1(e,b5){var b3=bJ(b5.createElement(e)).appendTo(b5.body),b4=bJ.css(b3[0],"display");b3.remove();return b4}bJ.each(["height","width"],function(b3,e){bJ.cssHooks[e]={get:function(b6,b5,b4){if(b5){return b6.offsetWidth===0&&F.test(bJ.css(b6,"display"))?bJ.swap(b6,bb,function(){return u(b6,e,b4)}):u(b6,e,b4)}},set:function(b6,b7,b4){var b5=b4&&bo(b6);return aJ(b6,b7,b4?aw(b6,e,b4,bJ.support.boxSizing&&bJ.css(b6,"boxSizing",false,b5)==="border-box",b5):0)}}});if(!bJ.support.opacity){bJ.cssHooks.opacity={get:function(b3,e){return aT.test((e&&b3.currentStyle?b3.currentStyle.filter:b3.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b6,b7){var b5=b6.style,b3=b6.currentStyle,e=bJ.isNumeric(b7)?"alpha(opacity="+b7*100+")":"",b4=b3&&b3.filter||b5.filter||"";b5.zoom=1;if((b7>=1||b7==="")&&bJ.trim(b4.replace(bg,""))===""&&b5.removeAttribute){b5.removeAttribute("filter");if(b7===""||b3&&!b3.filter){return}}b5.filter=bg.test(b4)?b4.replace(bg,e):b4+" "+e}}}bJ(function(){if(!bJ.support.reliableMarginRight){bJ.cssHooks.marginRight={get:function(b3,e){if(e){return bJ.swap(b3,{display:"inline-block"},E,[b3,"marginRight"])}}}}if(!bJ.support.pixelPosition&&bJ.fn.position){bJ.each(["top","left"],function(e,b3){bJ.cssHooks[b3]={get:function(b5,b4){if(b4){b4=E(b5,b3);return W.test(b4)?bJ(b5).position()[b3]+"px":b4}}}})}});if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bJ.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bJ.css(e,"display"))==="none")};bJ.expr.filters.visible=function(e){return !bJ.expr.filters.hidden(e)}}bJ.each({margin:"",padding:"",border:"Width"},function(e,b3){bJ.cssHooks[e+b3]={expand:function(b6){var b5=0,b4={},b7=typeof b6==="string"?b6.split(" "):[b6];for(;b5<4;b5++){b4[e+bT[b5]+b3]=b7[b5]||b7[b5-2]||b7[0]}return b4}};if(!aY.test(e)){bJ.cssHooks[e+b3].set=aJ}});var bv=/%20/g,aR=/\[\]$/,U=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,au=/^(?:input|select|textarea|keygen)/i;bJ.fn.extend({serialize:function(){return bJ.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bJ.prop(this,"elements");return e?bJ.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bJ(this).is(":disabled")&&au.test(this.nodeName)&&!c.test(e)&&(this.checked||!q.test(e))}).map(function(e,b3){var b4=bJ(this).val();return b4==null?null:bJ.isArray(b4)?bJ.map(b4,function(b5){return{name:b3.name,value:b5.replace(U,"\r\n")}}):{name:b3.name,value:b4.replace(U,"\r\n")}}).get()}});bJ.param=function(e,b4){var b5,b3=[],b6=function(b7,b8){b8=bJ.isFunction(b8)?b8():(b8==null?"":b8);b3[b3.length]=encodeURIComponent(b7)+"="+encodeURIComponent(b8)};if(b4===aG){b4=bJ.ajaxSettings&&bJ.ajaxSettings.traditional}if(bJ.isArray(e)||(e.jquery&&!bJ.isPlainObject(e))){bJ.each(e,function(){b6(this.name,this.value)})}else{for(b5 in e){i(b5,e[b5],b4,b6)}}return b3.join("&").replace(bv,"+")};function i(b4,b6,b3,b5){var e;if(bJ.isArray(b6)){bJ.each(b6,function(b8,b7){if(b3||aR.test(b4)){b5(b4,b7)}else{i(b4+"["+(typeof b7==="object"?b8:"")+"]",b7,b3,b5)}})}else{if(!b3&&bJ.type(b6)==="object"){for(e in b6){i(b4+"["+e+"]",b6[e],b3,b5)}}else{b5(b4,b6)}}}bJ.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b3,e){bJ.fn[e]=function(b5,b4){return arguments.length>0?this.on(e,null,b5,b4):this.trigger(e)}});bJ.fn.hover=function(e,b3){return this.mouseenter(e).mouseleave(b3||e)};var b1,Y,bO=bJ.now(),az=/\?/,ap=/#.*$/,O=/([?&])_=[^&]*/,ag=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,o=/^(?:GET|HEAD)$/,aH=/^\/\//,aU=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b0=bJ.fn.load,v={},a7={},aW="*/".concat("*");try{Y=aL.href}catch(bf){Y=l.createElement("a");Y.href="";Y=Y.href}b1=aU.exec(Y.toLowerCase())||[];function bL(e){return function(b6,b7){if(typeof b6!=="string"){b7=b6;b6="*"}var b3,b4=0,b5=b6.toLowerCase().match(ac)||[];if(bJ.isFunction(b7)){while((b3=b5[b4++])){if(b3[0]==="+"){b3=b3.slice(1)||"*";(e[b3]=e[b3]||[]).unshift(b7)}else{(e[b3]=e[b3]||[]).push(b7)}}}}}function n(e,b4,b8,b5){var b3={},b6=(e===a7);function b7(b9){var ca;b3[b9]=true;bJ.each(e[b9]||[],function(cc,cb){var cd=cb(b4,b8,b5);if(typeof cd==="string"&&!b6&&!b3[cd]){b4.dataTypes.unshift(cd);b7(cd);return false}else{if(b6){return !(ca=cd)}}});return ca}return b7(b4.dataTypes[0])||!b3["*"]&&b7("*")}function r(b4,b5){var e,b3,b6=bJ.ajaxSettings.flatOptions||{};for(b3 in b5){if(b5[b3]!==aG){(b6[b3]?b4:(e||(e={})))[b3]=b5[b3]}}if(e){bJ.extend(true,b4,e)}return b4}bJ.fn.load=function(b5,b8,b9){if(typeof b5!=="string"&&b0){return b0.apply(this,arguments)}var e,b4,b6,b3=this,b7=b5.indexOf(" ");if(b7>=0){e=b5.slice(b7,b5.length);b5=b5.slice(0,b7)}if(bJ.isFunction(b8)){b9=b8;b8=aG}else{if(b8&&typeof b8==="object"){b6="POST"}}if(b3.length>0){bJ.ajax({url:b5,type:b6,dataType:"html",data:b8}).done(function(ca){b4=arguments;b3.html(e?bJ("<div>").append(bJ.parseHTML(ca)).find(e):ca)}).complete(b9&&function(cb,ca){b3.each(b9,b4||[cb.responseText,ca,cb])})}return this};bJ.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b3){bJ.fn[b3]=function(b4){return this.on(b3,b4)}});bJ.each(["get","post"],function(e,b3){bJ[b3]=function(b4,b6,b7,b5){if(bJ.isFunction(b6)){b5=b5||b7;b7=b6;b6=aG}return bJ.ajax({url:b4,type:b3,dataType:b5,data:b6,success:b7})}});bJ.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Y,type:"GET",isLocal:B.test(b1[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aW,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a2.String,"text html":true,"text json":bJ.parseJSON,"text xml":bJ.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b3,e){return e?r(r(b3,bJ.ajaxSettings),e):r(bJ.ajaxSettings,b3)},ajaxPrefilter:bL(v),ajaxTransport:bL(a7),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aG}b4=b4||{};var cg,ci,b8,cn,cc,b3,cj,b5,cb=bJ.ajaxSetup({},b4),cp=cb.context||cb,ce=cb.context&&(cp.nodeType||cp.jquery)?bJ(cp):bJ.event,co=bJ.Deferred(),cl=bJ.Callbacks("once memory"),b9=cb.statusCode||{},cf={},cm={},b6=0,ca="canceled",ch={readyState:0,getResponseHeader:function(cq){var e;if(b6===2){if(!b5){b5={};while((e=ag.exec(cn))){b5[e[1].toLowerCase()]=e[2]}}e=b5[cq.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b6===2?cn:null},setRequestHeader:function(cq,cr){var e=cq.toLowerCase();if(!b6){cq=cm[e]=cm[e]||cq;cf[cq]=cr}return this},overrideMimeType:function(e){if(!b6){cb.mimeType=e}return this},statusCode:function(cq){var e;if(cq){if(b6<2){for(e in cq){b9[e]=[b9[e],cq[e]]}}else{ch.always(cq[ch.status])}}return this},abort:function(cq){var e=cq||ca;if(cj){cj.abort(e)}cd(0,e);return this}};co.promise(ch).complete=cl.add;ch.success=ch.done;ch.error=ch.fail;cb.url=((b7||cb.url||Y)+"").replace(ap,"").replace(aH,b1[1]+"//");cb.type=b4.method||b4.type||cb.method||cb.type;cb.dataTypes=bJ.trim(cb.dataType||"*").toLowerCase().match(ac)||[""];if(cb.crossDomain==null){cg=aU.exec(cb.url.toLowerCase());cb.crossDomain=!!(cg&&(cg[1]!==b1[1]||cg[2]!==b1[2]||(cg[3]||(cg[1]==="http:"?80:443))!=(b1[3]||(b1[1]==="http:"?80:443))))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=bJ.param(cb.data,cb.traditional)}n(v,cb,b4,ch);if(b6===2){return ch}b3=cb.global;if(b3&&bJ.active++===0){bJ.event.trigger("ajaxStart")}cb.type=cb.type.toUpperCase();cb.hasContent=!o.test(cb.type);b8=cb.url;if(!cb.hasContent){if(cb.data){b8=(cb.url+=(az.test(b8)?"&":"?")+cb.data);delete cb.data}if(cb.cache===false){cb.url=O.test(b8)?b8.replace(O,"$1_="+bO++):b8+(az.test(b8)?"&":"?")+"_="+bO++}}if(cb.ifModified){if(bJ.lastModified[b8]){ch.setRequestHeader("If-Modified-Since",bJ.lastModified[b8])}if(bJ.etag[b8]){ch.setRequestHeader("If-None-Match",bJ.etag[b8])}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+aW+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cp,ch,cb)===false||b6===2)){return ch.abort()}ca="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=n(a7,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}function cd(cu,cq,cv,cs){var e,cy,cw,ct,cx,cr=cq;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aG;cn=cs||"";ch.readyState=cu>0?4:0;if(cv){ct=g(cb,ch,cv)}if(cu>=200&&cu<300||cu===304){if(cb.ifModified){cx=ch.getResponseHeader("Last-Modified");if(cx){bJ.lastModified[b8]=cx}cx=ch.getResponseHeader("etag");if(cx){bJ.etag[b8]=cx}}if(cu===204){e=true;cr="nocontent"}else{if(cu===304){e=true;cr="notmodified"}else{e=af(cb,ct);cr=e.state;cy=e.data;cw=e.error;e=!cw}}}else{cw=cr;if(cu||!cr){cr="error";if(cu<0){cu=0}}}ch.status=cu;ch.statusText=(cq||cr)+"";if(e){co.resolveWith(cp,[cy,cr,ch])}else{co.rejectWith(cp,[ch,cr,cw])}ch.statusCode(b9);b9=aG;if(b3){ce.trigger(e?"ajaxSuccess":"ajaxError",[ch,cb,e?cy:cw])}cl.fireWith(cp,[ch,cr]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--bJ.active)){bJ.event.trigger("ajaxStop")}}}return ch},getScript:function(e,b3){return bJ.get(e,aG,b3,"script")},getJSON:function(e,b3,b4){return bJ.get(e,b3,b4,"json")}});function g(cb,ca,b7){var e,b6,b5,b8,b3=cb.contents,b9=cb.dataTypes,b4=cb.responseFields;for(b8 in b4){if(b8 in b7){ca[b4[b8]]=b7[b8]}}while(b9[0]==="*"){b9.shift();if(b6===aG){b6=cb.mimeType||ca.getResponseHeader("Content-Type")}}if(b6){for(b8 in b3){if(b3[b8]&&b3[b8].test(b6)){b9.unshift(b8);break}}}if(b9[0] in b7){b5=b9[0]}else{for(b8 in b7){if(!b9[0]||cb.converters[b8+" "+b9[0]]){b5=b8;break}if(!e){e=b8}}b5=b5||e}if(b5){if(b5!==b9[0]){b9.unshift(b5)}return b7[b5]}}function af(cd,b5){var b3,b9,cb,b6,cc={},b7=0,ca=cd.dataTypes.slice(),b4=ca[0];if(cd.dataFilter){b5=cd.dataFilter(b5,cd.dataType)}if(ca[1]){for(cb in cd.converters){cc[cb.toLowerCase()]=cd.converters[cb]}}for(;(b9=ca[++b7]);){if(b9!=="*"){if(b4!=="*"&&b4!==b9){cb=cc[b4+" "+b9]||cc["* "+b9];if(!cb){for(b3 in cc){b6=b3.split(" ");if(b6[1]===b9){cb=cc[b4+" "+b6[0]]||cc["* "+b6[0]];if(cb){if(cb===true){cb=cc[b3]}else{if(cc[b3]!==true){b9=b6[0];ca.splice(b7--,0,b9)}}break}}}}if(cb!==true){if(cb&&cd["throws"]){b5=cb(b5)}else{try{b5=cb(b5)}catch(b8){return{state:"parsererror",error:cb?b8:"No conversion from "+b4+" to "+b9}}}}}b4=b9}}return{state:"success",data:b5}}bJ.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bJ.globalEval(e);return e}}});bJ.ajaxPrefilter("script",function(e){if(e.cache===aG){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bJ.ajaxTransport("script",function(b4){if(b4.crossDomain){var e,b3=l.head||bJ("head")[0]||l.documentElement;return{send:function(b5,b6){e=l.createElement("script");e.async=true;if(b4.scriptCharset){e.charset=b4.scriptCharset}e.src=b4.url;e.onload=e.onreadystatechange=function(b8,b7){if(b7||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b7){b6(200,"success")}}};b3.insertBefore(e,b3.firstChild)},abort:function(){if(e){e.onload(aG,true)}}}}});var bq=[],a5=/(=)\?(?=&|$)|\?\?/;bJ.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bq.pop()||(bJ.expando+"_"+(bO++));this[e]=true;return e}});bJ.ajaxPrefilter("json jsonp",function(b5,e,b6){var b8,b3,b4,b7=b5.jsonp!==false&&(a5.test(b5.url)?"url":typeof b5.data==="string"&&!(b5.contentType||"").indexOf("application/x-www-form-urlencoded")&&a5.test(b5.data)&&"data");if(b7||b5.dataTypes[0]==="jsonp"){b8=b5.jsonpCallback=bJ.isFunction(b5.jsonpCallback)?b5.jsonpCallback():b5.jsonpCallback;if(b7){b5[b7]=b5[b7].replace(a5,"$1"+b8)}else{if(b5.jsonp!==false){b5.url+=(az.test(b5.url)?"&":"?")+b5.jsonp+"="+b8}}b5.converters["script json"]=function(){if(!b4){bJ.error(b8+" was not called")}return b4[0]};b5.dataTypes[0]="json";b3=a2[b8];a2[b8]=function(){b4=arguments};b6.always(function(){a2[b8]=b3;if(b5[b8]){b5.jsonpCallback=e.jsonpCallback;bq.push(b8)}if(b4&&bJ.isFunction(b3)){b3(b4[0])}b4=b3=aG});return"script"}});var ah,ax,ay=0,aP=a2.ActiveXObject&&function(){var e;for(e in ah){ah[e](aG,true)}};function bD(){try{return new a2.XMLHttpRequest()}catch(b3){}}function bd(){try{return new a2.ActiveXObject("Microsoft.XMLHTTP")}catch(b3){}}bJ.ajaxSettings.xhr=a2.ActiveXObject?function(){return !this.isLocal&&bD()||bd()}:bD;ax=bJ.ajaxSettings.xhr();bJ.support.cors=!!ax&&("withCredentials" in ax);ax=bJ.support.ajax=!!ax;if(ax){bJ.ajaxTransport(function(e){if(!e.crossDomain||bJ.support.cors){var b3;return{send:function(b9,b4){var b7,b5,b8=e.xhr();if(e.username){b8.open(e.type,e.url,e.async,e.username,e.password)}else{b8.open(e.type,e.url,e.async)}if(e.xhrFields){for(b5 in e.xhrFields){b8[b5]=e.xhrFields[b5]}}if(e.mimeType&&b8.overrideMimeType){b8.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b9["X-Requested-With"]){b9["X-Requested-With"]="XMLHttpRequest"}try{for(b5 in b9){b8.setRequestHeader(b5,b9[b5])}}catch(b6){}b8.send((e.hasContent&&e.data)||null);b3=function(cc,cb){var ca,cd,cg,ce;try{if(b3&&(cb||b8.readyState===4)){b3=aG;if(b7){b8.onreadystatechange=bJ.noop;if(aP){delete ah[b7]}}if(cb){if(b8.readyState!==4){b8.abort()}}else{ce={};ca=b8.status;cd=b8.getAllResponseHeaders();if(typeof b8.responseText==="string"){ce.text=b8.responseText}try{cg=b8.statusText}catch(cf){cg=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=ce.text?200:404}else{if(ca===1223){ca=204}}}}}catch(ch){if(!cb){b4(-1,ch)}}if(ce){b4(ca,cg,ce,cd)}};if(!e.async){b3()}else{if(b8.readyState===4){setTimeout(b3)}else{b7=++ay;if(aP){if(!ah){ah={};bJ(a2).unload(aP)}ah[b7]=b3}b8.onreadystatechange=b3}}},abort:function(){if(b3){b3(aG,true)}}}}})}var K,ad,bR=/^(?:toggle|show|hide)$/,bK=new RegExp("^(?:([+-])=|)("+bA+")([a-z%]*)$","i"),bQ=/queueHooks$/,aB=[h],a0={"*":[function(e,b9){var b5,ca,cb=this.createTween(e,b9),b6=bK.exec(b9),b7=cb.cur(),b3=+b7||0,b4=1,b8=20;if(b6){b5=+b6[2];ca=b6[3]||(bJ.cssNumber[e]?"":"px");if(ca!=="px"&&b3){b3=bJ.css(cb.elem,e,true)||b5||1;do{b4=b4||".5";b3=b3/b4;bJ.style(cb.elem,e,b3+ca)}while(b4!==(b4=cb.cur()/b7)&&b4!==1&&--b8)}cb.unit=ca;cb.start=b3;cb.end=b6[1]?b3+(b6[1]+1)*b5:b5}return cb}]};function bm(){setTimeout(function(){K=aG});return(K=bJ.now())}function be(b3,e){bJ.each(e,function(b8,b6){var b7=(a0[b8]||[]).concat(a0["*"]),b4=0,b5=b7.length;for(;b4<b5;b4++){if(b7[b4].call(b3,b8,b6)){return}}})}function f(b4,b8,cb){var cc,e,b7=0,b3=aB.length,ca=bJ.Deferred().always(function(){delete b6.elem}),b6=function(){if(e){return false}var ci=K||bm(),cf=Math.max(0,b5.startTime+b5.duration-ci),cd=cf/b5.duration||0,ch=1-cd,ce=0,cg=b5.tweens.length;for(;ce<cg;ce++){b5.tweens[ce].run(ch)}ca.notifyWith(b4,[b5,ch,cf]);if(ch<1&&cg){return cf}else{ca.resolveWith(b4,[b5]);return false}},b5=ca.promise({elem:b4,props:bJ.extend({},b8),opts:bJ.extend(true,{specialEasing:{}},cb),originalProperties:b8,originalOptions:cb,startTime:K||bm(),duration:cb.duration,tweens:[],createTween:function(cf,cd){var ce=bJ.Tween(b4,b5.opts,cf,cd,b5.opts.specialEasing[cf]||b5.opts.easing);b5.tweens.push(ce);return ce},stop:function(ce){var cd=0,cf=ce?b5.tweens.length:0;if(e){return this}e=true;for(;cd<cf;cd++){b5.tweens[cd].run(1)}if(ce){ca.resolveWith(b4,[b5,ce])}else{ca.rejectWith(b4,[b5,ce])}return this}}),b9=b5.props;am(b9,b5.opts.specialEasing);for(;b7<b3;b7++){cc=aB[b7].call(b5,b4,b9,b5.opts);if(cc){return cc}}be(b5,b9);if(bJ.isFunction(b5.opts.start)){b5.opts.start.call(b4,b5)}bJ.fx.timer(bJ.extend(b6,{elem:b4,anim:b5,queue:b5.opts.queue}));return b5.progress(b5.opts.progress).done(b5.opts.done,b5.opts.complete).fail(b5.opts.fail).always(b5.opts.always)}function am(b5,b7){var b6,b4,b3,b8,e;for(b3 in b5){b4=bJ.camelCase(b3);b8=b7[b4];b6=b5[b3];if(bJ.isArray(b6)){b8=b6[1];b6=b5[b3]=b6[0]}if(b3!==b4){b5[b4]=b6;delete b5[b3]}e=bJ.cssHooks[b4];if(e&&"expand" in e){b6=e.expand(b6);delete b5[b4];for(b3 in b6){if(!(b3 in b5)){b5[b3]=b6[b3];b7[b3]=b8}}}else{b7[b4]=b8}}}bJ.Animation=bJ.extend(f,{tweener:function(b3,b6){if(bJ.isFunction(b3)){b6=b3;b3=["*"]}else{b3=b3.split(" ")}var b5,e=0,b4=b3.length;for(;e<b4;e++){b5=b3[e];a0[b5]=a0[b5]||[];a0[b5].unshift(b6)}},prefilter:function(b3,e){if(e){aB.unshift(b3)}else{aB.push(b3)}}});function h(b6,cc,e){var b4,cb,b5,ce,ci,b8,ch,cg,cf,b7=this,b3=b6.style,cd={},ca=[],b9=b6.nodeType&&P(b6);if(!e.queue){cg=bJ._queueHooks(b6,"fx");if(cg.unqueued==null){cg.unqueued=0;cf=cg.empty.fire;cg.empty.fire=function(){if(!cg.unqueued){cf()}}}cg.unqueued++;b7.always(function(){b7.always(function(){cg.unqueued--;if(!bJ.queue(b6,"fx").length){cg.empty.fire()}})})}if(b6.nodeType===1&&("height" in cc||"width" in cc)){e.overflow=[b3.overflow,b3.overflowX,b3.overflowY];if(bJ.css(b6,"display")==="inline"&&bJ.css(b6,"float")==="none"){if(!bJ.support.inlineBlockNeedsLayout||bE(b6.nodeName)==="inline"){b3.display="inline-block"}else{b3.zoom=1}}}if(e.overflow){b3.overflow="hidden";if(!bJ.support.shrinkWrapBlocks){b7.always(function(){b3.overflow=e.overflow[0];b3.overflowX=e.overflow[1];b3.overflowY=e.overflow[2]})}}for(cb in cc){ce=cc[cb];if(bR.exec(ce)){delete cc[cb];b8=b8||ce==="toggle";if(ce===(b9?"hide":"show")){continue}ca.push(cb)}}b5=ca.length;if(b5){ci=bJ._data(b6,"fxshow")||bJ._data(b6,"fxshow",{});if("hidden" in ci){b9=ci.hidden}if(b8){ci.hidden=!b9}if(b9){bJ(b6).show()}else{b7.done(function(){bJ(b6).hide()})}b7.done(function(){var cj;bJ._removeData(b6,"fxshow");for(cj in cd){bJ.style(b6,cj,cd[cj])}});for(cb=0;cb<b5;cb++){b4=ca[cb];ch=b7.createTween(b4,b9?ci[b4]:0);cd[b4]=ci[b4]||bJ.style(b6,b4);if(!(b4 in ci)){ci[b4]=ch.start;if(b9){ch.end=ch.start;ch.start=b4==="width"||b4==="height"?1:0}}}}}function G(b4,b3,b6,e,b5){return new G.prototype.init(b4,b3,b6,e,b5)}bJ.Tween=G;G.prototype={constructor:G,init:function(b5,b3,b7,e,b6,b4){this.elem=b5;this.prop=b7;this.easing=b6||"swing";this.options=b3;this.start=this.now=this.cur();this.end=e;this.unit=b4||(bJ.cssNumber[b7]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(b4){var b3,e=G.propHooks[this.prop];if(this.options.duration){this.pos=b3=bJ.easing[this.easing](b4,this.options.duration*b4,0,1,this.options.duration)}else{this.pos=b3=b4}this.now=(this.end-this.start)*b3+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{G.propHooks._default.set(this)}return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(b3){var e;if(b3.elem[b3.prop]!=null&&(!b3.elem.style||b3.elem.style[b3.prop]==null)){return b3.elem[b3.prop]}e=bJ.css(b3.elem,b3.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bJ.fx.step[e.prop]){bJ.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bJ.cssProps[e.prop]]!=null||bJ.cssHooks[e.prop])){bJ.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bJ.each(["toggle","show","hide"],function(b3,e){var b4=bJ.fn[e];bJ.fn[e]=function(b5,b7,b6){return b5==null||typeof b5==="boolean"?b4.apply(this,arguments):this.animate(bI(e,true),b5,b7,b6)}});bJ.fn.extend({fadeTo:function(e,b5,b4,b3){return this.filter(P).css("opacity",0).show().end().animate({opacity:b5},e,b4,b3)},animate:function(b8,b5,b7,b6){var b4=bJ.isEmptyObject(b8),e=bJ.speed(b5,b7,b6),b3=function(){var b9=f(this,bJ.extend({},b8),e);b3.finish=function(){b9.stop(true)};if(b4||bJ._data(this,"finish")){b9.stop(true)}};b3.finish=b3;return b4||e.queue===false?this.each(b3):this.queue(e.queue,b3)},stop:function(b4,b3,e){var b5=function(b6){var b7=b6.stop;delete b6.stop;b7(e)};if(typeof b4!=="string"){e=b3;b3=b4;b4=aG}if(b3&&b4!==false){this.queue(b4||"fx",[])}return this.each(function(){var b9=true,b6=b4!=null&&b4+"queueHooks",b8=bJ.timers,b7=bJ._data(this);if(b6){if(b7[b6]&&b7[b6].stop){b5(b7[b6])}}else{for(b6 in b7){if(b7[b6]&&b7[b6].stop&&bQ.test(b6)){b5(b7[b6])}}}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&(b4==null||b8[b6].queue===b4)){b8[b6].anim.stop(e);b9=false;b8.splice(b6,1)}}if(b9||!e){bJ.dequeue(this,b4)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b5,b8=bJ._data(this),b4=b8[e+"queue"],b3=b8[e+"queueHooks"],b7=bJ.timers,b6=b4?b4.length:0;b8.finish=true;bJ.queue(this,e,[]);if(b3&&b3.cur&&b3.cur.finish){b3.cur.finish.call(this)}for(b5=b7.length;b5--;){if(b7[b5].elem===this&&b7[b5].queue===e){b7[b5].anim.stop(true);b7.splice(b5,1)}}for(b5=0;b5<b6;b5++){if(b4[b5]&&b4[b5].finish){b4[b5].finish.call(this)}}delete b8.finish})}});function bI(b4,b6){var b5,e={height:b4},b3=0;b6=b6?1:0;for(;b3<4;b3+=2-b6){b5=bT[b3];e["margin"+b5]=e["padding"+b5]=b4}if(b6){e.opacity=e.width=b4}return e}bJ.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b3){bJ.fn[e]=function(b4,b6,b5){return this.animate(b3,b4,b6,b5)}});bJ.speed=function(b4,b5,b3){var e=b4&&typeof b4==="object"?bJ.extend({},b4):{complete:b3||!b3&&b5||bJ.isFunction(b4)&&b4,duration:b4,easing:b3&&b5||b5&&!bJ.isFunction(b5)&&b5};e.duration=bJ.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bJ.fx.speeds?bJ.fx.speeds[e.duration]:bJ.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bJ.isFunction(e.old)){e.old.call(this)}if(e.queue){bJ.dequeue(this,e.queue)}};return e};bJ.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bJ.timers=[];bJ.fx=G.prototype.init;bJ.fx.tick=function(){var b4,b3=bJ.timers,e=0;K=bJ.now();for(;e<b3.length;e++){b4=b3[e];if(!b4()&&b3[e]===b4){b3.splice(e--,1)}}if(!b3.length){bJ.fx.stop()}K=aG};bJ.fx.timer=function(e){if(e()&&bJ.timers.push(e)){bJ.fx.start()}};bJ.fx.interval=13;bJ.fx.start=function(){if(!ad){ad=setInterval(bJ.fx.tick,bJ.fx.interval)}};bJ.fx.stop=function(){clearInterval(ad);ad=null};bJ.fx.speeds={slow:600,fast:200,_default:400};bJ.fx.step={};if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.animated=function(e){return bJ.grep(bJ.timers,function(b3){return e===b3.elem}).length}}bJ.fn.offset=function(b3){if(arguments.length){return b3===aG?this:this.each(function(b8){bJ.offset.setOffset(this,b3,b8)})}var e,b7,b5={top:0,left:0},b4=this[0],b6=b4&&b4.ownerDocument;if(!b6){return}e=b6.documentElement;if(!bJ.contains(e,b4)){return b5}if(typeof b4.getBoundingClientRect!==aC){b5=b4.getBoundingClientRect()}b7=bp(b6);return{top:b5.top+(b7.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b5.left+(b7.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bJ.offset={setOffset:function(b5,ce,b8){var b9=bJ.css(b5,"position");if(b9==="static"){b5.style.position="relative"}var b7=bJ(b5),b3=b7.offset(),e=bJ.css(b5,"top"),cc=bJ.css(b5,"left"),cd=(b9==="absolute"||b9==="fixed")&&bJ.inArray("auto",[e,cc])>-1,cb={},ca={},b4,b6;if(cd){ca=b7.position();b4=ca.top;b6=ca.left}else{b4=parseFloat(e)||0;b6=parseFloat(cc)||0}if(bJ.isFunction(ce)){ce=ce.call(b5,b8,b3)}if(ce.top!=null){cb.top=(ce.top-b3.top)+b4}if(ce.left!=null){cb.left=(ce.left-b3.left)+b6}if("using" in ce){ce.using.call(b5,cb)}else{b7.css(cb)}}};bJ.fn.extend({position:function(){if(!this[0]){return}var b4,b5,e={top:0,left:0},b3=this[0];if(bJ.css(b3,"position")==="fixed"){b5=b3.getBoundingClientRect()}else{b4=this.offsetParent();b5=this.offset();if(!bJ.nodeName(b4[0],"html")){e=b4.offset()}e.top+=bJ.css(b4[0],"borderTopWidth",true);e.left+=bJ.css(b4[0],"borderLeftWidth",true)}return{top:b5.top-e.top-bJ.css(b3,"marginTop",true),left:b5.left-e.left-bJ.css(b3,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||l.documentElement;while(e&&(!bJ.nodeName(e,"html")&&bJ.css(e,"position")==="static")){e=e.offsetParent}return e||l.documentElement})}});bJ.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b4,b3){var e=/Y/.test(b3);bJ.fn[b4]=function(b5){return bJ.access(this,function(b6,b9,b8){var b7=bp(b6);if(b8===aG){return b7?(b3 in b7)?b7[b3]:b7.document.documentElement[b9]:b6[b9]}if(b7){b7.scrollTo(!e?b8:bJ(b7).scrollLeft(),e?b8:bJ(b7).scrollTop())}else{b6[b9]=b8}},b4,b5,arguments.length,null)}});function bp(e){return bJ.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bJ.each({Height:"height",Width:"width"},function(e,b3){bJ.each({padding:"inner"+e,content:b3,"":"outer"+e},function(b4,b5){bJ.fn[b5]=function(b9,b8){var b7=arguments.length&&(b4||typeof b9!=="boolean"),b6=b4||(b9===true||b8===true?"margin":"border");return bJ.access(this,function(cb,ca,cc){var cd;if(bJ.isWindow(cb)){return cb.document.documentElement["client"+e]}if(cb.nodeType===9){cd=cb.documentElement;return Math.max(cb.body["scroll"+e],cd["scroll"+e],cb.body["offset"+e],cd["offset"+e],cd["client"+e])}return cc===aG?bJ.css(cb,ca,b6):bJ.style(cb,ca,cc,b6)},b3,b7?b9:aG,b7,null)}})});a2.jQuery=a2.$=bJ;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bJ})}})(window);(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var H=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var L=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var M=function(N){if(N instanceof M){return N}if(!(this instanceof M)){return new M(N)}this._wrapped=N};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=M}exports._=M}else{w._=M}M.VERSION="1.5.1";var I=M.each=M.forEach=function(S,P,O){if(S==null){return}if(L&&S.forEach===L){S.forEach(P,O)}else{if(S.length===+S.length){for(var N=0,R=S.length;N<R;N++){if(P.call(O,S[N],N,S)===D){return}}}else{var Q=M.keys(S);for(var N=0,R=Q.length;N<R;N++){if(P.call(O,S[Q[N]],Q[N],S)===D){return}}}}};M.map=M.collect=function(Q,P,O){var N=[];if(Q==null){return N}if(q&&Q.map===q){return Q.map(P,O)}I(Q,function(T,R,S){N.push(P.call(O,T,R,S))});return N};var g="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(R,Q,N,P){var O=arguments.length>2;if(R==null){R=[]}if(E&&R.reduce===E){if(P){Q=M.bind(Q,P)}return O?R.reduce(Q,N):R.reduce(Q)}I(R,function(U,S,T){if(!O){N=U;O=true}else{N=Q.call(P,N,U,S,T)}});if(!O){throw new TypeError(g)}return N};M.reduceRight=M.foldr=function(T,Q,N,P){var O=arguments.length>2;if(T==null){T=[]}if(c&&T.reduceRight===c){if(P){Q=M.bind(Q,P)}return O?T.reduceRight(Q,N):T.reduceRight(Q)}var S=T.length;if(S!==+S){var R=M.keys(T);S=R.length}I(T,function(W,U,V){U=R?R[--S]:--S;if(!O){N=T[U];O=true}else{N=Q.call(P,N,T[U],U,V)}});if(!O){throw new TypeError(g)}return N};M.find=M.detect=function(Q,P,O){var N;A(Q,function(T,R,S){if(P.call(O,T,R,S)){N=T;return true}});return N};M.filter=M.select=function(Q,P,O){var N=[];if(Q==null){return N}if(b&&Q.filter===b){return Q.filter(P,O)}I(Q,function(T,R,S){if(P.call(O,T,R,S)){N.push(T)}});return N};M.reject=function(P,O,N){return M.filter(P,function(S,Q,R){return !O.call(N,S,Q,R)},N)};M.every=M.all=function(Q,P,O){P||(P=M.identity);var N=true;if(Q==null){return N}if(B&&Q.every===B){return Q.every(P,O)}I(Q,function(T,R,S){if(!(N=N&&P.call(O,T,R,S))){return D}});return !!N};var A=M.some=M.any=function(Q,P,O){P||(P=M.identity);var N=false;if(Q==null){return N}if(p&&Q.some===p){return Q.some(P,O)}I(Q,function(T,R,S){if(N||(N=P.call(O,T,R,S))){return D}});return !!N};M.contains=M.include=function(O,N){if(O==null){return false}if(n&&O.indexOf===n){return O.indexOf(N)!=-1}return A(O,function(P){return P===N})};M.invoke=function(P,Q){var N=o.call(arguments,2);var O=M.isFunction(Q);return M.map(P,function(R){return(O?Q:R[Q]).apply(R,N)})};M.pluck=function(O,N){return M.map(O,function(P){return P[N]})};M.where=function(O,N,P){if(M.isEmpty(N)){return P?void 0:[]}return M[P?"find":"filter"](O,function(R){for(var Q in N){if(N[Q]!==R[Q]){return false}}return true})};M.findWhere=function(O,N){return M.where(O,N,true)};M.max=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.max.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return -Infinity}var N={computed:-Infinity,value:-Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>N.computed&&(N={value:U,computed:S})});return N.value};M.min=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.min.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return Infinity}var N={computed:Infinity,value:Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<N.computed&&(N={value:U,computed:S})});return N.value};M.shuffle=function(Q){var P;var O=0;var N=[];I(Q,function(R){P=M.random(O++);N[O-1]=N[P];N[P]=R});return N};var a=function(N){return M.isFunction(N)?N:function(O){return O[N]}};M.sortBy=function(Q,P,N){var O=a(P);return M.pluck(M.map(Q,function(T,R,S){return{value:T,index:R,criteria:O.call(N,T,R,S)}}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1}if(S<R||R===void 0){return -1}}return U.index<T.index?-1:1}),"value")};var t=function(N){return function(S,R,P){var O={};var Q=R==null?M.identity:a(R);I(S,function(V,T){var U=Q.call(P,V,T,S);N(O,U,V)});return O}};M.groupBy=t(function(N,O,P){(M.has(N,O)?N[O]:(N[O]=[])).push(P)});M.indexBy=t(function(N,O,P){N[O]=P});M.countBy=t(function(N,O,P){M.has(N,O)?N[O]++:N[O]=1});M.sortedIndex=function(U,T,Q,P){Q=Q==null?M.identity:a(Q);var S=Q.call(P,T);var N=0,R=U.length;while(N<R){var O=(N+R)>>>1;Q.call(P,U[O])<S?N=O+1:R=O}return N};M.toArray=function(N){if(!N){return[]}if(M.isArray(N)){return o.call(N)}if(N.length===+N.length){return M.map(N,M.identity)}return M.values(N)};M.size=function(N){if(N==null){return 0}return(N.length===+N.length)?N.length:M.keys(N).length};M.first=M.head=M.take=function(P,O,N){if(P==null){return void 0}return(O==null)||N?P[0]:o.call(P,0,O)};M.initial=function(P,O,N){return o.call(P,0,P.length-((O==null)||N?1:O))};M.last=function(P,O,N){if(P==null){return void 0}if((O==null)||N){return P[P.length-1]}else{return o.call(P,Math.max(P.length-O,0))}};M.rest=M.tail=M.drop=function(P,O,N){return o.call(P,(O==null)||N?1:O)};M.compact=function(N){return M.filter(N,M.identity)};var x=function(O,P,N){if(P&&M.every(O,M.isArray)){return y.apply(N,O)}I(O,function(Q){if(M.isArray(Q)||M.isArguments(Q)){P?H.apply(N,Q):x(Q,P,N)}else{N.push(Q)}});return N};M.flatten=function(O,N){return x(O,N,[])};M.without=function(N){return M.difference(N,o.call(arguments,1))};M.uniq=M.unique=function(T,S,R,Q){if(M.isFunction(S)){Q=R;R=S;S=false}var O=R?M.map(T,R,Q):T;var P=[];var N=[];I(O,function(V,U){if(S?(!U||N[N.length-1]!==V):!M.contains(N,V)){N.push(V);P.push(T[U])}});return P};M.union=function(){return M.uniq(M.flatten(arguments,true))};M.intersection=function(O){var N=o.call(arguments,1);return M.filter(M.uniq(O),function(P){return M.every(N,function(Q){return M.indexOf(Q,P)>=0})})};M.difference=function(O){var N=y.apply(C,o.call(arguments,1));return M.filter(O,function(P){return !M.contains(N,P)})};M.zip=function(){var P=M.max(M.pluck(arguments,"length").concat(0));var O=new Array(P);for(var N=0;N<P;N++){O[N]=M.pluck(arguments,""+N)}return O};M.object=function(R,O){if(R==null){return{}}var N={};for(var P=0,Q=R.length;P<Q;P++){if(O){N[R[P]]=O[P]}else{N[R[P][0]]=R[P][1]}}return N};M.indexOf=function(R,P,Q){if(R==null){return -1}var N=0,O=R.length;if(Q){if(typeof Q=="number"){N=(Q<0?Math.max(0,O+Q):Q)}else{N=M.sortedIndex(R,P);return R[N]===P?N:-1}}if(n&&R.indexOf===n){return R.indexOf(P,Q)}for(;N<O;N++){if(R[N]===P){return N}}return -1};M.lastIndexOf=function(R,P,Q){if(R==null){return -1}var N=Q!=null;if(l&&R.lastIndexOf===l){return N?R.lastIndexOf(P,Q):R.lastIndexOf(P)}var O=(N?Q:R.length);while(O--){if(R[O]===P){return O}}return -1};M.range=function(S,P,R){if(arguments.length<=1){P=S||0;S=0}R=arguments[2]||1;var Q=Math.max(Math.ceil((P-S)/R),0);var N=0;var O=new Array(Q);while(N<Q){O[N++]=S;S+=R}return O};var G=function(){};M.bind=function(Q,O){var N,P;if(F&&Q.bind===F){return F.apply(Q,o.call(arguments,1))}if(!M.isFunction(Q)){throw new TypeError}N=o.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,N.concat(o.call(arguments)))}G.prototype=Q.prototype;var S=new G;G.prototype=null;var R=Q.apply(S,N.concat(o.call(arguments)));if(Object(R)===R){return R}return S}};M.partial=function(O){var N=o.call(arguments,1);return function(){return O.apply(this,N.concat(o.call(arguments)))}};M.bindAll=function(O){var N=o.call(arguments,1);if(N.length===0){throw new Error("bindAll must be passed function names")}I(N,function(P){O[P]=M.bind(O[P],O)});return O};M.memoize=function(P,O){var N={};O||(O=M.identity);return function(){var Q=O.apply(this,arguments);return M.has(N,Q)?N[Q]:(N[Q]=P.apply(this,arguments))}};M.delay=function(O,P){var N=o.call(arguments,2);return setTimeout(function(){return O.apply(null,N)},P)};M.defer=function(N){return M.delay.apply(M,[N,1].concat(o.call(arguments,1)))};M.throttle=function(O,Q,U){var N,S,V;var T=null;var R=0;U||(U={});var P=function(){R=U.leading===false?0:new Date;T=null;V=O.apply(N,S)};return function(){var W=new Date;if(!R&&U.leading===false){R=W}var X=Q-(W-R);N=this;S=arguments;if(X<=0){clearTimeout(T);T=null;R=W;V=O.apply(N,S)}else{if(!T&&U.trailing!==false){T=setTimeout(P,X)}}return V}};M.debounce=function(P,R,O){var N;var Q=null;return function(){var V=this,U=arguments;var T=function(){Q=null;if(!O){N=P.apply(V,U)}};var S=O&&!Q;clearTimeout(Q);Q=setTimeout(T,R);if(S){N=P.apply(V,U)}return N}};M.once=function(P){var N=false,O;return function(){if(N){return O}N=true;O=P.apply(this,arguments);P=null;return O}};M.wrap=function(N,O){return function(){var P=[N];H.apply(P,arguments);return O.apply(this,P)}};M.compose=function(){var N=arguments;return function(){var O=arguments;for(var P=N.length-1;P>=0;P--){O=[N[P].apply(this,O)]}return O[0]}};M.after=function(O,N){return function(){if(--O<1){return N.apply(this,arguments)}}};M.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var N in P){if(M.has(P,N)){O.push(N)}}return O};M.values=function(R){var Q=M.keys(R);var P=Q.length;var N=new Array(P);for(var O=0;O<P;O++){N[O]=R[Q[O]]}return N};M.pairs=function(R){var P=M.keys(R);var O=P.length;var Q=new Array(O);for(var N=0;N<O;N++){Q[N]=[P[N],R[P[N]]]}return Q};M.invert=function(R){var N={};var Q=M.keys(R);for(var O=0,P=Q.length;O<P;O++){N[R[Q[O]]]=Q[O]}return N};M.functions=M.methods=function(P){var O=[];for(var N in P){if(M.isFunction(P[N])){O.push(N)}}return O.sort()};M.extend=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){N[P]=O[P]}}});return N};M.pick=function(O){var P={};var N=y.apply(C,o.call(arguments,1));I(N,function(Q){if(Q in O){P[Q]=O[Q]}});return P};M.omit=function(P){var Q={};var O=y.apply(C,o.call(arguments,1));for(var N in P){if(!M.contains(O,N)){Q[N]=P[N]}}return Q};M.defaults=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){if(N[P]===void 0){N[P]=O[P]}}}});return N};M.clone=function(N){if(!M.isObject(N)){return N}return M.isArray(N)?N.slice():M.extend({},N)};M.tap=function(O,N){N(O);return O};var J=function(U,T,O,P){if(U===T){return U!==0||1/U==1/T}if(U==null||T==null){return U===T}if(U instanceof M){U=U._wrapped}if(T instanceof M){T=T._wrapped}var R=d.call(U);if(R!=d.call(T)){return false}switch(R){case"[object String]":return U==String(T);case"[object Number]":return U!=+U?T!=+T:(U==0?1/U==1/T:U==+T);case"[object Date]":case"[object Boolean]":return +U==+T;case"[object RegExp]":return U.source==T.source&&U.global==T.global&&U.multiline==T.multiline&&U.ignoreCase==T.ignoreCase}if(typeof U!="object"||typeof T!="object"){return false}var N=O.length;while(N--){if(O[N]==U){return P[N]==T}}var S=U.constructor,Q=T.constructor;if(S!==Q&&!(M.isFunction(S)&&(S instanceof S)&&M.isFunction(Q)&&(Q instanceof Q))){return false}O.push(U);P.push(T);var X=0,W=true;if(R=="[object Array]"){X=U.length;W=X==T.length;if(W){while(X--){if(!(W=J(U[X],T[X],O,P))){break}}}}else{for(var V in U){if(M.has(U,V)){X++;if(!(W=M.has(T,V)&&J(U[V],T[V],O,P))){break}}}if(W){for(V in T){if(M.has(T,V)&&!(X--)){break}}W=!X}}O.pop();P.pop();return W};M.isEqual=function(O,N){return J(O,N,[],[])};M.isEmpty=function(O){if(O==null){return true}if(M.isArray(O)||M.isString(O)){return O.length===0}for(var N in O){if(M.has(O,N)){return false}}return true};M.isElement=function(N){return !!(N&&N.nodeType===1)};M.isArray=u||function(N){return d.call(N)=="[object Array]"};M.isObject=function(N){return N===Object(N)};I(["Arguments","Function","String","Number","Date","RegExp"],function(N){M["is"+N]=function(O){return d.call(O)=="[object "+N+"]"}});if(!M.isArguments(arguments)){M.isArguments=function(N){return !!(N&&M.has(N,"callee"))}}if(typeof(/./)!=="function"){M.isFunction=function(N){return typeof N==="function"}}M.isFinite=function(N){return isFinite(N)&&!isNaN(parseFloat(N))};M.isNaN=function(N){return M.isNumber(N)&&N!=+N};M.isBoolean=function(N){return N===true||N===false||d.call(N)=="[object Boolean]"};M.isNull=function(N){return N===null};M.isUndefined=function(N){return N===void 0};M.has=function(O,N){return j.call(O,N)};M.noConflict=function(){w._=k;return this};M.identity=function(N){return N};M.times=function(R,Q,P){var N=Array(Math.max(0,R));for(var O=0;O<R;O++){N[O]=Q.call(P,O)}return N};M.random=function(O,N){if(N==null){N=O;O=0}return O+Math.floor(Math.random()*(N-O+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};m.unescape=M.invert(m.escape);var K={escape:new RegExp("["+M.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(m.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(N){M[N]=function(O){if(O==null){return""}return(""+O).replace(K[N],function(P){return m[N][P]})}});M.result=function(N,P){if(N==null){return void 0}var O=N[P];return M.isFunction(O)?O.call(N):O};M.mixin=function(N){I(M.functions(N),function(O){var P=M[O]=N[O];M.prototype[O]=function(){var Q=[this._wrapped];H.apply(Q,arguments);return s.call(this,P.apply(M,Q))}})};var z=0;M.uniqueId=function(N){var O=++z+"";return N?N+O:O};M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(V,Q,P){var O;P=M.defaults({},P,M.templateSettings);var R=new RegExp([(P.escape||v).source,(P.interpolate||v).source,(P.evaluate||v).source].join("|")+"|$","g");var S=0;var N="__p+='";V.replace(R,function(X,Y,W,aa,Z){N+=V.slice(S,Z).replace(i,function(ab){return"\\"+h[ab]});if(Y){N+="'+\n((__t=("+Y+"))==null?'':_.escape(__t))+\n'"}if(W){N+="'+\n((__t=("+W+"))==null?'':__t)+\n'"}if(aa){N+="';\n"+aa+"\n__p+='"}S=Z+X.length;return X});N+="';\n";if(!P.variable){N="with(obj||{}){\n"+N+"}\n"}N="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+N+"return __p;\n";try{O=new Function(P.variable||"obj","_",N)}catch(T){T.source=N;throw T}if(Q){return O(Q,M)}var U=function(W){return O.call(this,W,M)};U.source="function("+(P.variable||"obj")+"){\n"+N+"}";return U};M.chain=function(N){return M(N).chain()};var s=function(N){return this._chain?M(N).chain():N};M.mixin(M);I(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var O=C[N];M.prototype[N]=function(){var P=this._wrapped;O.apply(P,arguments);if((N=="shift"||N=="splice")&&P.length===0){delete P[0]}return s.call(this,P)}});I(["concat","join","slice"],function(N){var O=C[N];M.prototype[N]=function(){return s.call(this,O.apply(this._wrapped,arguments))}});M.extend(M.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var v=this;var C=v.Backbone;var g=[];var E=g.push;var o=g.slice;var u=g.splice;var A;if(typeof exports!=="undefined"){A=exports}else{A=v.Backbone={}}A.VERSION="1.0.0";var L=v._;if(!L&&(typeof require!=="undefined")){L=require("underscore")}A.$=v.jQuery||v.Zepto||v.ender||v.$;A.noConflict=function(){v.Backbone=C;return this};A.emulateHTTP=false;A.emulateJSON=false;var J=A.Events={on:function(M,P,O){if(!y(this,"on",M,[P,O])||!P){return this}this._events||(this._events={});var N=this._events[M]||(this._events[M]=[]);N.push({callback:P,context:O,ctx:O||this});return this},once:function(N,Q,O){if(!y(this,"once",N,[Q,O])||!Q){return this}var M=this;var P=L.once(function(){M.off(N,P);Q.apply(this,arguments)});P._callback=Q;return this.on(N,P,O)},off:function(M,V,N){var T,U,W,S,R,O,Q,P;if(!this._events||!y(this,"off",M,[V,N])){return this}if(!M&&!V&&!N){this._events={};return this}S=M?[M]:L.keys(this._events);for(R=0,O=S.length;R<O;R++){M=S[R];if(W=this._events[M]){this._events[M]=T=[];if(V||N){for(Q=0,P=W.length;Q<P;Q++){U=W[Q];if((V&&V!==U.callback&&V!==U.callback._callback)||(N&&N!==U.context)){T.push(U)}}}if(!T.length){delete this._events[M]}}}return this},trigger:function(O){if(!this._events){return this}var N=o.call(arguments,1);if(!y(this,"trigger",O,N)){return this}var P=this._events[O];var M=this._events.all;if(P){b(P,N)}if(M){b(M,arguments)}return this},stopListening:function(P,M,R){var N=this._listeners;if(!N){return this}var O=!M&&!R;if(typeof M==="object"){R=this}if(P){(N={})[P._listenerId]=P}for(var Q in N){N[Q].off(M,R,this);if(O){delete this._listeners[Q]}}return this}};var x=/\s+/;var y=function(T,R,N,Q){if(!N){return true}if(typeof N==="object"){for(var P in N){T[R].apply(T,[P,N[P]].concat(Q))}return false}if(x.test(N)){var S=N.split(x);for(var O=0,M=S.length;O<M;O++){T[R].apply(T,[S[O]].concat(Q))}return false}return true};var b=function(R,P){var S,Q=-1,O=R.length,N=P[0],M=P[1],T=P[2];switch(P.length){case 0:while(++Q<O){(S=R[Q]).callback.call(S.ctx)}return;case 1:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N)}return;case 2:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N,M)}return;case 3:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N,M,T)}return;default:while(++Q<O){(S=R[Q]).callback.apply(S.ctx,P)}}};var D={listenTo:"on",listenToOnce:"once"};L.each(D,function(M,N){J[N]=function(Q,O,S){var P=this._listeners||(this._listeners={});var R=Q._listenerId||(Q._listenerId=L.uniqueId("l"));P[R]=Q;if(typeof O==="object"){S=this}Q[M](O,S,this);return this}});J.bind=J.on;J.unbind=J.off;L.extend(A,J);var F=A.Model=function(M,O){var P;var N=M||{};O||(O={});this.cid=L.uniqueId("c");this.attributes={};if(O.collection){this.collection=O.collection}if(O.parse){N=this.parse(N,O)||{}}O._attrs||(O._attrs=N);if(P=L.result(this,"defaults")){N=L.defaults({},N,P)}this.set(N,O);this.changed={};this.initialize.apply(this,arguments)};L.extend(F.prototype,J,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(M){return L.clone(this.attributes)},sync:function(){return A.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return L.escape(this.get(M))},has:function(M){return this.get(M)!=null},set:function(U,M,Y){var S,V,W,T,R,X,O,Q;if(U==null){return this}if(typeof U==="object"){V=U;Y=M}else{(V={})[U]=M}Y||(Y={});if(!this._validate(V,Y)){return false}W=Y.unset;R=Y.silent;T=[];X=this._changing;this._changing=true;if(!X){this._previousAttributes=L.clone(this.attributes);this.changed={}}Q=this.attributes,O=this._previousAttributes;if(this.idAttribute in V){this.id=V[this.idAttribute]}for(S in V){M=V[S];if(!L.isEqual(Q[S],M)){T.push(S)}if(!L.isEqual(O[S],M)){this.changed[S]=M}else{delete this.changed[S]}W?delete Q[S]:Q[S]=M}if(!R){if(T.length){this._pending=true}for(var P=0,N=T.length;P<N;P++){this.trigger("change:"+T[P],this,Q[T[P]],Y)}}if(X){return this}if(!R){while(this._pending){this._pending=false;this.trigger("change",this,Y)}}this._pending=false;this._changing=false;return this},unset:function(M,N){return this.set(M,void 0,L.extend({},N,{unset:true}))},clear:function(N){var M={};for(var O in this.attributes){M[O]=void 0}return this.set(M,L.extend({},N,{unset:true}))},hasChanged:function(M){if(M==null){return !L.isEmpty(this.changed)}return L.has(this.changed,M)},changedAttributes:function(O){if(!O){return this.hasChanged()?L.clone(this.changed):false}var Q,P=false;var N=this._changing?this._previousAttributes:this.attributes;for(var M in O){if(L.isEqual(N[M],(Q=O[M]))){continue}(P||(P={}))[M]=Q}return P},previous:function(M){if(M==null||!this._previousAttributes){return null}return this._previousAttributes[M]},previousAttributes:function(){return L.clone(this._previousAttributes)},fetch:function(N){N=N?L.clone(N):{};if(N.parse===void 0){N.parse=true}var M=this;var O=N.success;N.success=function(P){if(!M.set(M.parse(P,N),N)){return false}if(O){O(M,P,N)}M.trigger("sync",M,P,N)};H(this,N);return this.sync("read",this,N)},save:function(Q,N,U){var R,M,T,O=this.attributes;if(Q==null||typeof Q==="object"){R=Q;U=N}else{(R={})[Q]=N}U=L.extend({validate:true},U);if(R&&!U.wait){if(!this.set(R,U)){return false}}else{if(!this._validate(R,U)){return false}}if(R&&U.wait){this.attributes=L.extend({},O,R)}if(U.parse===void 0){U.parse=true}var P=this;var S=U.success;U.success=function(W){P.attributes=O;var V=P.parse(W,U);if(U.wait){V=L.extend(R||{},V)}if(L.isObject(V)&&!P.set(V,U)){return false}if(S){S(P,W,U)}P.trigger("sync",P,W,U)};H(this,U);M=this.isNew()?"create":(U.patch?"patch":"update");if(M==="patch"){U.attrs=R}T=this.sync(M,this,U);if(R&&U.wait){this.attributes=O}return T},destroy:function(N){N=N?L.clone(N):{};var M=this;var Q=N.success;var O=function(){M.trigger("destroy",M,M.collection,N)};N.success=function(R){if(N.wait||M.isNew()){O()}if(Q){Q(M,R,N)}if(!M.isNew()){M.trigger("sync",M,R,N)}};if(this.isNew()){N.success();return false}H(this,N);var P=this.sync("delete",this,N);if(!N.wait){O()}return P},url:function(){var M=L.result(this,"urlRoot")||L.result(this.collection,"url")||s();if(this.isNew()){return M}return M+(M.charAt(M.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(N,M){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(M){return this._validate({},L.extend(M||{},{validate:true}))},_validate:function(O,N){if(!N.validate||!this.validate){return true}O=L.extend({},this.attributes,O);var M=this.validationError=this.validate(O,N)||null;if(!M){return true}this.trigger("invalid",this,M,L.extend(N,{validationError:M}));return false}});var a=["keys","values","pairs","invert","pick","omit"];L.each(a,function(M){F.prototype[M]=function(){var N=o.call(arguments);N.unshift(this.attributes);return L[M].apply(L,N)}});var c=A.Collection=function(N,M){M||(M={});if(M.model){this.model=M.model}if(M.comparator!==void 0){this.comparator=M.comparator}this._reset();this.initialize.apply(this,arguments);if(N){this.reset(N,L.extend({silent:true},M))}};var p={add:true,remove:true,merge:true};var K={add:true,remove:false};L.extend(c.prototype,J,{model:F,initialize:function(){},toJSON:function(M){return this.map(function(N){return N.toJSON(M)})},sync:function(){return A.sync.apply(this,arguments)},add:function(N,M){return this.set(N,L.extend({merge:false},M,K))},remove:function(R,P){R=L.isArray(R)?R.slice():[R];P||(P={});var Q,M,O,N;for(Q=0,M=R.length;Q<M;Q++){N=this.get(R[Q]);if(!N){continue}delete this._byId[N.id];delete this._byId[N.cid];O=this.indexOf(N);this.models.splice(O,1);this.length--;if(!P.silent){P.index=O;N.trigger("remove",N,this,P)}this._removeReference(N)}return this},set:function(ab,N){N=L.defaults({},N,p);if(N.parse){ab=this.parse(ab,N)}if(!L.isArray(ab)){ab=ab?[ab]:[]}var Y,W,O,U,S,aa;var Q=N.at;var M=this.comparator&&(Q==null)&&N.sort!==false;var Z=L.isString(this.comparator)?this.comparator:null;var ac=[],V=[],T={};var R=N.add,P=N.merge,ad=N.remove;var X=!M&&R&&ad?[]:false;for(Y=0,W=ab.length;Y<W;Y++){if(!(O=this._prepareModel(U=ab[Y],N))){continue}if(S=this.get(O)){if(ad){T[S.cid]=true}if(P){U=U===O?O.attributes:N._attrs;S.set(U,N);if(M&&!aa&&S.hasChanged(Z)){aa=true}}}else{if(R){ac.push(O);O.on("all",this._onModelEvent,this);this._byId[O.cid]=O;if(O.id!=null){this._byId[O.id]=O}}}if(X){X.push(S||O)}delete N._attrs}if(ad){for(Y=0,W=this.length;Y<W;++Y){if(!T[(O=this.models[Y]).cid]){V.push(O)}}if(V.length){this.remove(V,N)}}if(ac.length||(X&&X.length)){if(M){aa=true}this.length+=ac.length;if(Q!=null){u.apply(this.models,[Q,0].concat(ac))}else{if(X){this.models.length=0}E.apply(this.models,X||ac)}}if(aa){this.sort({silent:true})}if(N.silent){return this}for(Y=0,W=ac.length;Y<W;Y++){(O=ac[Y]).trigger("add",O,this,N)}if(aa||(X&&X.length)){this.trigger("sort",this,N)}return this},reset:function(P,N){N||(N={});for(var O=0,M=this.models.length;O<M;O++){this._removeReference(this.models[O])}N.previousModels=this.models;this._reset();this.add(P,L.extend({silent:true},N));if(!N.silent){this.trigger("reset",this,N)}return this},push:function(N,M){N=this._prepareModel(N,M);this.add(N,L.extend({at:this.length},M));return N},pop:function(N){var M=this.at(this.length-1);this.remove(M,N);return M},unshift:function(N,M){N=this._prepareModel(N,M);this.add(N,L.extend({at:0},M));return N},shift:function(N){var M=this.at(0);this.remove(M,N);return M},slice:function(){return o.apply(this.models,arguments)},get:function(M){if(M==null){return void 0}return this._byId[M.id]||this._byId[M.cid]||this._byId[M]},at:function(M){return this.models[M]},where:function(M,N){if(L.isEmpty(M)){return N?void 0:[]}return this[N?"find":"filter"](function(O){for(var P in M){if(M[P]!==O.get(P)){return false}}return true})},findWhere:function(M){return this.where(M,true)},sort:function(M){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}M||(M={});if(L.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(L.bind(this.comparator,this))}if(!M.silent){this.trigger("sort",this,M)}return this},sortedIndex:function(M,P,N){P||(P=this.comparator);var O=L.isFunction(P)?P:function(Q){return Q.get(P)};return L.sortedIndex(this.models,M,O,N)},pluck:function(M){return L.invoke(this.models,"get",M)},fetch:function(M){M=M?L.clone(M):{};if(M.parse===void 0){M.parse=true}var O=M.success;var N=this;M.success=function(P){var Q=M.reset?"reset":"set";N[Q](P,M);if(O){O(N,P,M)}N.trigger("sync",N,P,M)};H(this,M);return this.sync("read",this,M)},create:function(N,M){M=M?L.clone(M):{};if(!(N=this._prepareModel(N,M))){return false}if(!M.wait){this.add(N,M)}var P=this;var O=M.success;M.success=function(R,S,Q){if(Q.wait){P.add(R,Q)}if(O){O(R,S,Q)}};N.save(null,M);return N},parse:function(N,M){return N},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(O,N){if(O instanceof F){if(!O.collection){O.collection=this}return O}N||(N={});N.collection=this;var M=new this.model(O,N);if(!M.validationError){return M}this.trigger("invalid",this,O,N);return false},_removeReference:function(M){if(this===M.collection){delete M.collection}M.off("all",this._onModelEvent,this)},_onModelEvent:function(O,N,P,M){if((O==="add"||O==="remove")&&P!==this){return}if(O==="destroy"){this.remove(N,M)}if(N&&O==="change:"+N.idAttribute){delete this._byId[N.previous(N.idAttribute)];if(N.id!=null){this._byId[N.id]=N}}this.trigger.apply(this,arguments)}});var z=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];L.each(z,function(M){c.prototype[M]=function(){var N=o.call(arguments);N.unshift(this.models);return L[M].apply(L,N)}});var l=["groupBy","countBy","sortBy"];L.each(l,function(M){c.prototype[M]=function(P,N){var O=L.isFunction(P)?P:function(Q){return Q.get(P)};return L[M](this.models,O,N)}});var G=A.View=function(M){this.cid=L.uniqueId("view");M||(M={});L.extend(this,L.pick(M,e));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];L.extend(G.prototype,J,{tagName:"div",$:function(M){return this.$el.find(M)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(M,N){if(this.$el){this.undelegateEvents()}this.$el=M instanceof A.$?M:A.$(M);this.el=this.$el[0];if(N!==false){this.delegateEvents()}return this},delegateEvents:function(Q){if(!(Q||(Q=L.result(this,"events")))){return this}this.undelegateEvents();for(var P in Q){var R=Q[P];if(!L.isFunction(R)){R=this[Q[P]]}if(!R){continue}var O=P.match(w);var N=O[1],M=O[2];R=L.bind(R,this);N+=".delegateEvents"+this.cid;if(M===""){this.$el.on(N,R)}else{this.$el.on(N,M,R)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var M=L.extend({},L.result(this,"attributes"));if(this.id){M.id=L.result(this,"id")}if(this.className){M["class"]=L.result(this,"className")}var N=A.$("<"+L.result(this,"tagName")+">").attr(M);this.setElement(N,false)}else{this.setElement(L.result(this,"el"),false)}}});A.sync=function(S,N,M){var P=k[S];L.defaults(M||(M={}),{emulateHTTP:A.emulateHTTP,emulateJSON:A.emulateJSON});var R={type:P,dataType:"json"};if(!M.url){R.url=L.result(N,"url")||s()}if(M.data==null&&N&&(S==="create"||S==="update"||S==="patch")){R.contentType="application/json";R.data=JSON.stringify(M.attrs||N.toJSON(M))}if(M.emulateJSON){R.contentType="application/x-www-form-urlencoded";R.data=R.data?{model:R.data}:{}}if(M.emulateHTTP&&(P==="PUT"||P==="DELETE"||P==="PATCH")){R.type="POST";if(M.emulateJSON){R.data._method=P}var O=M.beforeSend;M.beforeSend=function(T){T.setRequestHeader("X-HTTP-Method-Override",P);if(O){return O.apply(this,arguments)}}}if(R.type!=="GET"&&!M.emulateJSON){R.processData=false}if(R.type==="PATCH"&&j){R.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var Q=M.xhr=A.ajax(L.extend(R,M));N.trigger("request",N,Q,M);return Q};var j=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};A.ajax=function(){return A.$.ajax.apply(A.$,arguments)};var q=A.Router=function(M){M||(M={});if(M.routes){this.routes=M.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var t=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;L.extend(q.prototype,J,{initialize:function(){},route:function(N,O,P){if(!L.isRegExp(N)){N=this._routeToRegExp(N)}if(L.isFunction(O)){P=O;O=""}if(!P){P=this[O]}var M=this;A.history.route(N,function(R){var Q=M._extractParameters(N,R);P&&P.apply(M,Q);M.trigger.apply(M,["route:"+O].concat(Q));M.trigger("route",O,Q);A.history.trigger("route",M,O,Q)});return this},navigate:function(N,M){A.history.navigate(N,M);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=L.result(this,"routes");var N,M=L.keys(this.routes);while((N=M.pop())!=null){this.route(N,this.routes[N])}},_routeToRegExp:function(M){M=M.replace(h,"\\$&").replace(r,"(?:$1)?").replace(t,function(O,N){return N?O:"([^/]+)"}).replace(d,"(.*?)");return new RegExp("^"+M+"$")},_extractParameters:function(M,N){var O=M.exec(N).slice(1);return L.map(O,function(P){return P?decodeURIComponent(P):null})}});var i=A.History=function(){this.handlers=[];L.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var B=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var I=/msie [\w.]+/;var n=/\/$/;i.started=false;L.extend(i.prototype,J,{interval:50,getHash:function(N){var M=(N||this).location.href.match(/#(.*)$/);return M?M[1]:""},getFragment:function(O,N){if(O==null){if(this._hasPushState||!this._wantsHashChange||N){O=this.location.pathname;var M=this.root.replace(n,"");if(!O.indexOf(M)){O=O.slice(M.length)}}else{O=this.getHash()}}return O.replace(B,"")},start:function(O){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=L.extend({},{root:"/"},this.options,O);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var N=this.getFragment();var M=document.documentMode;var Q=(I.exec(navigator.userAgent.toLowerCase())&&(!M||M<=7));this.root=("/"+this.root+"/").replace(f,"/");if(Q&&this._wantsHashChange){this.iframe=A.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(N)}if(this._hasPushState){A.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!Q){A.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=N;var R=this.location;var P=R.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!P){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._hasPushState&&P&&R.hash){this.fragment=this.getHash().replace(B,"");this.history.replaceState({},document.title,this.root+this.fragment+R.search)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){A.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);i.started=false},route:function(M,N){this.handlers.unshift({route:M,callback:N})},checkUrl:function(N){var M=this.getFragment();if(M===this.fragment&&this.iframe){M=this.getFragment(this.getHash(this.iframe))}if(M===this.fragment){return false}if(this.iframe){this.navigate(M)}this.loadUrl()},loadUrl:function(N){var M=this.fragment=this.getFragment(N);return L.any(this.handlers,function(O){if(O.route.test(M)){O.callback(M);return true}})},navigate:function(O,N){if(!i.started){return false}if(!N||N===true){N={trigger:!!N}}O=this.getFragment(O||"");if(this.fragment===O){return}this.fragment=O;var M=this.root+O;if(O===""&&M!=="/"){M=M.slice(0,-1)}if(this._hasPushState){this.history[N.replace?"replaceState":"pushState"]({},document.title,M)}else{if(this._wantsHashChange){this._updateHash(this.location,O,N.replace);if(this.iframe&&(O!==this.getFragment(this.getHash(this.iframe)))){if(!N.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,O,N.replace)}}else{return this.location.assign(M)}}if(N.trigger){return this.loadUrl(O)}},_updateHash:function(M,O,P){if(P){var N=M.href.replace(/(javascript:|#).*$/,"");M.replace(N+"#"+O)}else{M.hash="#"+O}}});A.history=new i;var m=function(M,O){var N=this;var Q;if(M&&L.has(M,"constructor")){Q=M.constructor}else{Q=function(){return N.apply(this,arguments)}}L.extend(Q,N,O);var P=function(){this.constructor=Q};P.prototype=N.prototype;Q.prototype=new P;if(M){L.extend(Q.prototype,M)}Q.__super__=N.prototype;return Q};F.extend=c.extend=q.extend=G.extend=i.extend=m;var s=function(){throw new Error('A "url" property or function must be specified')};var H=function(O,N){var M=N.error;N.error=function(P){if(M){M(O,P,N)}O.trigger("error",O,P,N)}}}).call(this);var DatasetManager=Backbone.Model.extend({defaults:{datasetURL:null,datasets:[]},url:"/static/data/index.json"});DatasetManager.prototype.initialize=function(){this.qs=new QueryString();this.qs.addValueParameter("url","url");this.view=new DatasetManagerUI({model:this});this.fetch({success:this.loadQueryString.bind(this)})};DatasetManager.prototype.saveQueryString=function(){var b=this.get("datasetURL");var a={url:b};if(b!==null){this.qs.write(a)}};DatasetManager.prototype.loadQueryString=function(){var a=this.qs.read();var b=a.url;if(b===undefined||b===null){b=this.get("datasets")[0].url}this.on("change:datasetURL",this.saveQueryString);this.set("datasetURL",b);this.view.render()};var DatasetManagerUI=Backbone.View.extend({el:"select#DatasetManager"});DatasetManagerUI.prototype.initialize=function(){this.view=d3.select(this.el);this.view.on("change",function(){this.model.set("datasetURL",this.view[0][0].value)}.bind(this))};DatasetManagerUI.prototype.render=function(){var c=this.model.get("datasetURL");var b=this.model.get("datasets");var a=this.view.selectAll("option").data(b);a.enter().append("option");a.exit().remove();this.view.selectAll("option").attr("value",function(e){return e.url}).attr("selected",function(e){return(e.url===c)?"selected":null}).text(function(e){return e.label+" ("+e.url+")"})};function QueryString(){this.parameters=[]}QueryString.prototype.parameters=function(){for(var a=0;a<arguments.length;a++){this.addValueParameter(arguments[a])}};QueryString.prototype.addValueParameter=function(b,a,e,c){if(a===undefined||a===null){a=b}if(c===undefined||c===null){if(e===undefined||e===null){c="str"}else{c=e}}if(e===undefined||e===null){e="str"}var d={name:b,identifier:a,isArray:false,decoder:this.valueDecoder(e),encoder:this.valueEncoder(c)};this.parameters.push(d);return this};QueryString.prototype.addArrayParameter=function(b,a,e,c){if(a===undefined||a===null){a=b}if(c===undefined||c===null){if(e===undefined||e===null){c="str"}else{c=e}}if(e===undefined||e===null){e="str"}var d={name:b,identifier:a,isArray:true,decoder:this.arrayDecoder(e),encoder:this.arrayEncoder(c)};this.parameters.push(d);return this};QueryString.prototype.valueDecoder=function(a){if(typeof a=="function"){return a}if(typeof a=="string"){if(a=="int"){return function(b){return parseInt(b,10)}}if(a=="float"){return function(b){return parseFloat(b)}}return function(b){return b}}return null};QueryString.prototype.valueEncoder=function(a){if(typeof a=="function"){return a}if(typeof a=="string"){return function(b){return String(b)}}return null};QueryString.prototype.arrayDecoder=function(b){if(typeof b=="function"){return b}var a=function(d){var e=this.valueDecoder(b);var c=[];d.forEach(function(f){c.push(e(f))});return c};return a.bind(this)};QueryString.prototype.arrayEncoder=function(a){if(typeof a=="function"){return a}var b=function(d){var e=this.valueEncoder(a);var c=[];d.forEach(function(f){c.push(e(f))});return c};return b.bind(this)};QueryString.prototype.read=function(b){if(b===undefined||b===null){b={}}for(var c in this.parameters){var e=this.parameters[c];if(e.isArray){var a=this.getValues(e.identifier);if(a.length>0){b[e.name]=e.decoder(a)}}else{var d=this.getValue(e.identifier);if(d!=null){b[e.name]=e.decoder(d)}}}return b};QueryString.prototype.write=function(n,g,d,f){if(g===undefined||typeof g!="boolean"){g=false}if(d===undefined){d=null}if(f===undefined){f=null}var q=[];for(var e in this.parameters){var a=this.parameters[e];if(a.name in n){if(a.isArray){var l=a.encoder(n[a.name]);for(var c in l){if(l[c].length>0){q.push(a.identifier+"="+escape(l[c]))}}}else{var k=a.encoder(n[a.name]);if(k.length>0){q.push(a.identifier+"="+escape(k))}}}}var m=window.location.protocol;var b=window.location.host;var o=window.location.pathname;var h=m+"//"+b+o+(q.length>0?"?"+q.join("&"):"");if(g){history.replaceState(d,f,h)}else{history.pushState(d,f,h)}};QueryString.prototype.getValue=function(b){var c=this.getKeyRegex(b);var a=c.exec(window.location.href);if(a===null){return null}else{return unescape(a[1])}};QueryString.prototype.getValues=function(c){var d=this.getKeyRegex(c);var e=window.location.href.match(d);if(e===null){return[]}else{for(var b=0;b<e.length;b++){var d=this.getKeyRegex(c);var a=d.exec(e[b]);e[b]=unescape(a[1])}return e}};QueryString.prototype.getKeyRegex=function(a){return new RegExp("[\\?&]"+a+"=([^&]*)","g")};var ExperimentUI=Backbone.Model.extend({defaults:{timer:180,terminate:false}});ExperimentUI.prototype.MAX_TIME=180;ExperimentUI.prototype.initialize=function(){this.set("timer",this.MAX_TIME);this.vis=new ExperimentVis({model:this});this.tick=_.debounce(this.__tick.bind(this),1000,false);this.tick()};ExperimentUI.prototype.reset=function(){this.set("timer",this.MAX_TIME);this.tick()};ExperimentUI.prototype.__tick=function(){this.set("timer",this.get("timer")-1);if(this.get("timer")<=0){this.set("terminate",true)}else{this.tick()}};var ExperimentVis=Backbone.View.extend({el:".ExperimentUI"});ExperimentVis.prototype.MAX_OPACITY=1;ExperimentVis.prototype.MIN_OPACITY=0.925;ExperimentVis.prototype.initialize=function(){d3.select(this.el).style("vertical-align","middle").style("background","#999").style("border-top","1px solid #333").style("box-shadow","0 -2px 5px #666").style("opacity",this.MIN_OPACITY).select("span.ExperimentTimeRemaining").text("3:00");this.model.on("change:timer",this.updateText,this);this.model.on("change:terminate",this.terminateText,this);setInterval(this.updatePosition.bind(this),25)};ExperimentVis.prototype.updateText=function(){var d=this.model.get("timer");var m=d3.scale.linear().domain([45,30]).range([this.MIN_OPACITY,this.MAX_OPACITY]);var j=Math.min(this.MAX_OPACITY,Math.max(this.MIN_OPACITY,m(d)));var e=d3.scale.linear().domain([30,20]).range([0,0.8]);var c=d3.scale.linear().domain([30,20]).range([0,0.4]);var n=d3.scale.linear().domain([30,20]).range([0,0.4]);var a=Math.min(0.8,Math.max(0,e(d)))*255;var h=Math.min(0.4,Math.max(0,c(d)))*255;var k=Math.min(0.4,Math.max(0,n(d)))*255;d=Math.max(0,d);var f=Math.floor(d/60);d-=f*60;d=Math.max(0,d);var i=Math.floor(d/10);d-=i*10;d=Math.max(0,d);var l=Math.round(d);d3.select(this.el).select("span.ExperimentTimeRemaining").text(f+":"+i+l)};ExperimentVis.prototype.terminateText=function(){d3.select(this.el).text("Experiment ended due to inactivity.")};ExperimentVis.prototype.updatePosition=function(){var a=window.innerHeight;d3.select(this.el).style("top",(a-42)+"px")};var TranslateServer=function(b,a){if(b===undefined){this.sourceLang=this.SRC_LANG}else{this.sourceLang=b}if(a===undefined){this.targetLang=this.TGT_LANG}else{this.targetLang=a}};TranslateServer.prototype.formatter=d3.time.format("%Y-%m-%d %H:%M:%S.%L");TranslateServer.prototype.SERVER_URL="http://localhost:8888/cgi-bin/redirect.py";TranslateServer.prototype.SRC_LANG="EN";TranslateServer.prototype.TGT_LANG="DE";TranslateServer.prototype.TRANSLATE_LIMIT=10;TranslateServer.prototype.WORD_QUERY_LIMIT=4;TranslateServer.prototype.CONSOLE_LOG=true;TranslateServer.prototype.TIMEOUT=30000;TranslateServer.prototype.wordQuery=function(a,c,i){if(a===undefined||a===""){i(null,null);return}if(c===undefined){c=""}var g={src:this.sourceLang,tgt:this.targetLang,spanLimit:this.WORD_QUERY_LIMIT,text:a,leftContext:c};var d={rqReq:JSON.stringify(g)};var b=new Date();var h=function(l,k,j){var n=new Date();var o=(n-b)/1000;var m={requestTime:this.formatter(b),responseTime:this.formatter(n),duration:o};l.timing=m;if(this.CONSOLE_LOG){console.log("[rqReq] [success] ["+o.toFixed(2)+" seconds]",d,l,k,j)}i(l,d)}.bind(this);var f=function(l,k,j){var n=new Date();var o=(n-b)/1000;var m={requestTime:this.formatter(b),responseTime:this.formatter(n),duration:o};l.timing=m;if(this.CONSOLE_LOG){console.log("[rqReq] [error] ["+o.toFixed(2)+" seconds]",d,l,k,j)}i(l,d)}.bind(this);var e={url:this.SERVER_URL,dataType:"json",data:d,success:h,error:f,timeout:this.TIMEOUT};$.ajax(e)};TranslateServer.prototype.translate=function(i,a,h){if(i===undefined||i===""){h(null,null);return}if(a===undefined){a=""}var g={src:this.sourceLang,tgt:this.targetLang,n:this.TRANSLATE_LIMIT,text:i,tgtPrefix:a};var c={tReq:JSON.stringify(g)};var b=new Date();var f=function(l,k,j){var n=new Date();var o=(n-b)/1000;var m={requestTime:this.formatter(b),responseTime:this.formatter(n),duration:o};l.timing=m;if(this.CONSOLE_LOG){console.log("[tReq] [success] ["+o.toFixed(2)+" seconds]",c,l,k,j)}h(l,c)}.bind(this);var e=function(l,k,j){var n=new Date();var o=(n-b)/1000;var m={requestTime:this.formatter(b),responseTime:this.formatter(n),duration:o};l.timing=m;if(this.CONSOLE_LOG){console.log("[tReq] [error] ["+o.toFixed(2)+" seconds]",c,l,k,j)}h(l,c)}.bind(this);var d={url:this.SERVER_URL,dataType:"json",data:c,success:f,error:e,timeout:this.TIMEOUT};$.ajax(d)};var SourceBoxState=Backbone.Model.extend();SourceBoxState.prototype.reset=function(){this.set({segmentId:null,tokens:[],hoverTokenIndex:null,matchedTokenIndexes:{},enableHover:true,hasFocus:false,hoverXCoord:0,hoverYCoord:0,boxHeight:0,boxWidth:0},{silent:true})};SourceBoxState.prototype.initialize=function(a){this.reset();this.view=new SourceBoxView({model:this,el:a.el});this.on("change:boxHeight change:boxWidth",this.updateBoxDims)};SourceBoxState.prototype.updateBoxDims=function(){var a=this.get("segmentId");this.trigger("updateBoxDims",a)};var SourceBoxView=Backbone.View.extend({el:".SourceBoxView"});SourceBoxView.prototype.REGULAR_COLOR="#333";SourceBoxView.prototype.UNMATCHED_COLOR="#333";SourceBoxView.prototype.MATCHED_COLOR="#4292C6";SourceBoxView.prototype.HOVER_COLOR="#ff7f0e";SourceBoxView.prototype.ANIMATION_DURATION=120;SourceBoxView.prototype.initialize=function(){this.views={};this.views.container=d3.select(this.el).call(this.__containerRenderOnce.bind(this));this.listenTo(this.model,"change",this.render)};SourceBoxView.prototype.render=function(){var c=this.model.get("tokens");var b=this.views.container.selectAll("span.Token").data(c);var a=b.enter().append("span").attr("class","Token").call(this.__tokenRenderOnce.bind(this));a.append("span").attr("class","TokenTerm").call(this.__tokenTermRenderOnce.bind(this));a.append("span").attr("class","TokenSep").call(this.__tokenSepRenderOnce.bind(this));b.exit().remove();this.views.container.call(this.__containerRenderAlways.bind(this));this.views.container.selectAll("span.Token").call(this.__tokenRenderAlways.bind(this));this.views.container.selectAll("span.Token").select("span.TokenTerm").call(this.__tokenTermRenderAlways.bind(this));this.views.container.selectAll("span.Token").select("span.TokenSep").call(this.__tokenSepRenderAlways.bind(this))};SourceBoxView.prototype.__containerRenderOnce=function(a){a.style("padding","10px 60px 10px 15px").classed("SourceLang",true).style("pointer-events","auto").style("cursor","default").on("mouseover",this.__mouseOver.bind(this)).on("mouseout",this.__mouseOut.bind(this)).on("click",this.__mouseClick.bind(this))};SourceBoxView.prototype.__containerRenderAlways=function(c){var a=c[0][0].offsetHeight;var b=c[0][0].offsetWidth;this.model.set({boxHeight:a,boxWidth:b})};SourceBoxView.prototype.__tokenRenderOnce=function(a){a.style("pointer-events","auto").style("cursor","default").on("click",this.__mouseClick.bind(this))};SourceBoxView.prototype.__tokenRenderAlways=function(){};SourceBoxView.prototype.__tokenTermRenderOnce=function(a){a.style("display","inline-block").style("white-space","pre-wrap").style("vertical-align","top").text(function(b){return b}).style("pointer-events","auto").style("cursor","default").on("mouseover",this.__mouseOverToken.bind(this)).on("mouseout",this.__mouseOutToken.bind(this)).on("click",this.__mouseClickToken.bind(this))};SourceBoxView.prototype.__tokenTermRenderAlways=function(b){var c=this.model.get("hasFocus");var a=function(e,d){var g=(d===this.model.get("hoverTokenIndex"));var f=(this.model.get("matchedTokenIndexes").hasOwnProperty(d));if(c){if(g){return this.HOVER_COLOR}else{if(f){return this.MATCHED_COLOR}else{return this.UNMATCHED_COLOR}}}else{return this.REGULAR_COLOR}}.bind(this);b.style("color",a)};SourceBoxView.prototype.__tokenSepRenderOnce=function(a){a.style("display","inline-block").style("white-space","pre-wrap").style("vertical-align","top").text(" ")};SourceBoxView.prototype.__tokenSepRenderAlways=function(){};SourceBoxView.prototype.__mouseOver=function(){if(this.model.get("enableHover")===true){var a=this.model.get("segmentId");this.model.trigger("mouseover",a)}};SourceBoxView.prototype.__mouseOut=function(){var a=this.model.get("segmentId");this.model.trigger("mouseout",a)};SourceBoxView.prototype.__mouseClick=function(){var a=this.model.get("segmentId");this.model.trigger("click",a)};SourceBoxView.prototype.__mouseOverToken=function(h,f){if(this.model.get("enableHover")===true){var b=this.views.container[0][0].offsetLeft;var c=this.views.container[0][0].offsetTop;var e=d3.event.srcElement.offsetLeft;var g=d3.event.srcElement.offsetTop;var a=e-b;var d=g-c;var i=this.model.get("segmentId");this.model.set({hoverXCoord:a,hoverYCoord:d,hoverTokenIndex:f});this.model.trigger("mouseover:*",i);this.model.trigger("mouseover:token",i,f)}};SourceBoxView.prototype.__mouseOutToken=function(h,f){var b=this.views.container[0][0].offsetLeft;var c=this.views.container[0][0].offsetTop;var e=d3.event.srcElement.offsetLeft;var g=d3.event.srcElement.offsetTop;var a=e-b;var d=g-c;var i=this.model.get("segmentId");this.model.set({hoverXCoord:a,hoverYCoord:d,hoverTokenIndex:null});this.model.trigger("mouseout:*",i);this.model.trigger("mouseout:token",i,f)};SourceBoxView.prototype.__mouseClickToken=function(c,a){var b=this.model.get("segmentId");this.model.trigger("click:*",b);this.model.trigger("click:token",b,a)};var SourceSuggestionState=Backbone.Model.extend();SourceSuggestionState.prototype.reset=function(){this.set({segmentId:null,tokenIndex:null,source:"",leftContext:"",targets:[],scores:[],xCoord:0,yCoord:0,optionIndex:null,hasFocus:false},{silent:true})};SourceSuggestionState.prototype.initialize=function(a){this.reset();this.view=new SourceSuggestionView({model:this,el:a.el})};SourceSuggestionState.prototype.nextOption=function(){var b=this.get("candidates");var a=this.get("optionIndex");if(a===null){a=0}else{a++}a=Math.max(a,b.length-1);this.set("optionIndex",a)};SourceSuggestionState.prototype.previousOption=function(){var a=this.get("optionIndex");if(a===0){a=null}else{a--}this.set("optionIndex",a)};var SourceSuggestionView=Backbone.View.extend({el:"#SourceSuggestions"});SourceSuggestionView.prototype.X_OFFSET=0;SourceSuggestionView.prototype.Y_OFFSET=-(12+7)+12+4;SourceSuggestionView.prototype.CATCHER_PADDING=4;SourceSuggestionView.prototype.MT_COLOR="#4292C6";SourceSuggestionView.prototype.ACTIVE_COLOR="#ff7f0e";SourceSuggestionView.prototype.initialize=function(){this.views={};this.views.container=d3.select(this.el).call(this.__containerRenderOnce.bind(this));this.views.canvas=this.views.container.style("position","absolute");this.views.catcher=this.views.canvas.append("div").attr("class","Catcher").call(this.__catcherRenderOnce.bind(this));this.views.overlay=this.views.canvas.append("div").attr("class","Overlay").call(this.__overlayRenderOnce.bind(this));this.listenTo(this.model,"change",this.render)};SourceSuggestionView.prototype.render=function(){var a=this.model.get("targets");var c=this.model.get("scores");var d=_.range(a.length-1,-1,-1).map(function(e){return{index:e,text:a[e],score:c[e]}});var b=this.views.overlay.selectAll("div.token").data(d);b.enter().append("div").attr("class","token").call(this.__tokenRenderOnce.bind(this));b.exit().remove();this.views.container.call(this.__containerRenderAlways.bind(this));this.views.overlay.selectAll("div.token").call(this.__tokenRenderAlways.bind(this));this.views.overlay.call(this.__overlayRenderAlways.bind(this));this.views.catcher.call(this.__catcherRenderAlways.bind(this))};SourceSuggestionView.prototype.__containerRenderOnce=function(a){a.style("display","inline-block").style("pointer-events","none").style("visibility","visible")};SourceSuggestionView.prototype.__containerRenderAlways=function(d){var e=this.model.get("hasFocus");var c=this.model.get("tokenIndex");var b=this.model.get("targets");var a=(e&&c!==null&&b.length>0);d.style("visibility",a?"visible":"hidden").style("display",a?"inline-block":"none")};SourceSuggestionView.prototype.__catcherRenderOnce=function(a){a.style("position","absolute").style("display","inline-block").style("background","none").style("pointer-events","auto").style("cursor","default").on("mouseover",this.__onMouseOver.bind(this)).on("mouseout",this.__onMouseOut.bind(this))};SourceSuggestionView.prototype.__catcherRenderAlways=function(c){var e=this.model.get("xCoord");var d=this.model.get("yCoord");var b=this.views.overlay[0][0].offsetWidth+(this.CATCHER_PADDING+2)*2;var a=this.views.overlay[0][0].offsetHeight+(this.CATCHER_PADDING+2)*2;c.style("left",(e+this.X_OFFSET-this.CATCHER_PADDING-1)+"px").style("top",(d+this.Y_OFFSET+this.CATCHER_PADDING+1-a)+"px").style("width",b+"px").style("height",a+"px")};SourceSuggestionView.prototype.__overlayRenderOnce=function(a){a.style("position","absolute").style("display","inline-block").style("background","#fff").style("border","1px solid "+this.MT_COLOR).style("box-shadow","0 0 5px "+this.MT_COLOR).style("padding","2px 2px 0 2px")};SourceSuggestionView.prototype.__overlayRenderAlways=function(b){var a=this.model.get("targets");var d=this.model.get("xCoord");var c=this.model.get("yCoord");b.style("left",(d+this.X_OFFSET)+"px").style("top",(c+this.Y_OFFSET-a.length*21)+"px")};SourceSuggestionView.prototype.__tokenRenderOnce=function(b){var c=d3.scale.linear().domain([0,0.25]).range([0,1]);var a=function(e){return Math.min(1,Math.max(0,c(e.score)))}.bind(this);var d=function(e,f){return f===0?null:"1px dotted "+this.MT_COLOR}.bind(this);b.style("position","static").style("display","block").style("border-top",d).style("opacity",a).style("padding","2px").classed("TargetLang",true).style("white-space","nowrap").style("pointer-events","auto").style("cursor","pointer").on("mouseover",this.__onMouseOverOption.bind(this)).on("mouseout",this.__onMouseOutOption.bind(this)).on("mouseup",this.__onMouseClickOption.bind(this))};SourceSuggestionView.prototype.__tokenRenderAlways=function(c){var b=this.model.get("optionIndex");var a=function(e){if(b===e.index){return this.ACTIVE_COLOR}else{return this.MT_COLOR}}.bind(this);c.text(function(e){return e.text}).style("color",a)};SourceSuggestionView.prototype.__onMouseOver=function(){var a=this.model.get("segmentId");this.model.trigger("mouseover",a)};SourceSuggestionView.prototype.__onMouseOut=function(){var a=this.model.get("segmentId");this.model.trigger("mouseout",a)};SourceSuggestionView.prototype.__onMouseClick=function(){var a=this.model.get("segmentId");this.model.trigger("click",a)};SourceSuggestionView.prototype.__onMouseOverOption=function(b){var a=this.model.get("segmentId");this.model.set("optionIndex",b.index);this.model.trigger("mouseover",a);this.model.trigger("mouseover:option",a,b.index)};SourceSuggestionView.prototype.__onMouseOutOption=function(b){var a=this.model.get("segmentId");this.model.set("optionIndex",null);this.model.trigger("mouseout",a);this.model.trigger("mouseout:option",a,b.index)};SourceSuggestionView.prototype.__onMouseClickOption=function(b){var a=this.model.get("segmentId");this.model.trigger("click",a);this.model.trigger("click:option",a,b.index)};var TargetBoxState=Backbone.Model.extend();TargetBoxState.prototype.reset=function(){this.set({segmentId:null,chunkVector:[],postEditMode:false,prefix:"",translationList:[],s2tAlignments:[],t2sAlignments:[],caretIndex:0,hasFocus:false,userText:"",enableSuggestions:true,enableBestTranslation:true,userTokens:[""],editingPrefix:"",overlayPrefix:"",overlaySep:"",overlayEditing:"",prefixTokens:[],suggestionList:[],suggestionExpList:[],bestTranslation:[],suggestions:[],firstSuggestion:"",matchingTokens:{},caretXCoord:null,caretYCoord:null,editXCoord:null,editYCoord:null,canvasXCoord:null,canvasYCoord:null,boxTextareaHeight:0,boxTextareaWidth:0,boxOverlayHeight:0,boxOverlayWidth:0,boxHeight:0,boxWidth:0},{silent:true})};TargetBoxState.prototype.WIDTH=775;TargetBoxState.prototype.MIN_HEIGHT=18;TargetBoxState.prototype.ANIMATION_DELAY=180;TargetBoxState.prototype.ANIMATION_DURATION=120;TargetBoxState.prototype.IMMEDIATELY=5;TargetBoxState.prototype.WHITESPACE=/[ ]+/g;TargetBoxState.prototype.WHITESPACE_SEPS=/([ ]+)/g;TargetBoxState.prototype.MAX_PRECOMPUTED_SUGGESTIONS=100;TargetBoxState.prototype.MAX_VISIBLE_SUGGESTIONS=4;TargetBoxState.prototype.initialize=function(b){this.reset();var a=b.segmentId;this.view=new TargetBoxView({model:this,el:".TargetBoxView"+a,segmentId:a});this.viewTextarea=new TargetTextareaView({model:this,el:".TargetTextareaView"+a});this.viewOverlay=new TargetOverlayView({model:this,el:".TargetOverlayView"+a});this.__textarea=this.view.views.textarea.select("textarea");this.__overlay=this.view.views.overlay;setInterval(this.workarounds.bind(this),25);this.updateSuggestionList=this.__updateSuggestionList;this.updateBestTranslation=this.__updateBestTranslation;this.updateSuggestions=this.__updateSuggestions;this.updateMatchingTokens=_.debounce(this.__updateMatchingTokens,this.IMMEDIATELY);this.on("change:prefix change:translationList",this.updatePrefixTokensAndSuggestionList);this.on("change:userText change:prefixTokens",this.updateUserTokens);this.on("change:editingPrefix",this.updateTranslations);this.on("change:userTokens change:translationList change:enableBestTranslation",this.updateBestTranslation);this.on("change:userTokens change:suggestionList change:bestTranslation change:caretIndex change:enableSuggestions",this.updateSuggestions);this.on("change:userTokens change:alignIndexList change:enableBestTranslation",this.updateMatchingTokens);this.on("change:editXCoord change:editYCoord",this.updateEditCoords);this.on("change:boxWidth change:boxHeight",this.updateBoxDims)};TargetBoxState.prototype.workarounds=function(){var d=this.get("postEditMode");if(d){var b=this.__textarea[0][0].scrollHeight-25;var f=this.__overlay[0][0].scrollHeight-11;var a=Math.max(b,f);var c=this.__textarea[0][0].offsetWidth-75;this.set({boxTextareaHeight:a,boxTextareaWidth:c,boxOverlayHeight:a,boxOverlayWidth:c,boxHeight:a+30,boxWidth:c+75})}else{var b=this.__textarea[0][0].scrollHeight-25;var f=this.__overlay[0][0].scrollHeight-11;var a=Math.max(b,f);var c=this.__textarea[0][0].offsetWidth-75;var e=this.__textarea.node().value;this.set({boxTextareaHeight:a,boxTextareaWidth:c,boxOverlayHeight:a,boxOverlayWidth:c,boxHeight:a+30,boxWidth:c+75,userText:e})}};TargetBoxState.prototype.__identifyContinugousSuggestion=function(a,f,k,c){var b=this.get("chunkVector");var j=k[c];if(j&&j.length>0){var e=Math.min.apply(Math,j);var o=b[e];var l=[];for(var d=e;d<b.length;d++){if(b[d]!==o){break}if(f.hasOwnProperty(d)){Array.prototype.push.apply(l,f[d])}}if(l.length>0){l=_.uniq(l);var n=-1;var h=[];for(var d=0;d<l.length;d++){var g=l[d];if(g<c){continue}if(n>=0&&g-n!==1){break}n=g;h.push(a[g])}if(h.length>0){var m=h.join(" ");return m}}}return null};TargetBoxState.prototype.updatePrefixTokensAndSuggestionList=function(){var q=this.get("prefix");var b=q.split(this.WHITESPACE);var n=(q==="")?0:b.length;var c=n;var f=this.get("translationList");var v=this.get("s2tAlignments");var u=this.get("t2sAlignments");var t={};var s=0;var e={};var a=0;var o=c;for(var d=0;d<f.length;d++){if(s===this.MAX_PRECOMPUTED_SUGGESTIONS){break}var h=f[d];var g=v[d];var p=u[d];var j=this.__identifyContinugousSuggestion(h,g,p,c);if(j!==null){if(!t.hasOwnProperty(j)){t[j]=s++}}o=Math.max(h.length,o);if(d===0&&s===0){t[f[0][c]]=s++}}if(s===0&&f.length>0){t[f[0][c]]=s++}for(var i=c;i<o;i++){for(var d=0;d<1;d++){if(a===this.MAX_PRECOMPUTED_SUGGESTIONS){break}var h=f[d];var g=v[d];var p=u[d];var j=this.__identifyContinugousSuggestion(h,g,p,i);if(j!==null){if(!t.hasOwnProperty(j)&&!e.hasOwnProperty(j)){e[j]=a++}}}}var l=new Array(s);var k=new Array(a);for(var m in t){var r=t[m];l[r]=m}for(var m in e){var r=e[m];k[r]=m}this.set({prefixTokens:b,prefixLength:n,suggestionList:l,suggestionExpList:k})};TargetBoxState.prototype.updateUserTokens=function(){var e=this.get("userText");var b=e.split(this.WHITESPACE);var h=e.split(this.WHITESPACE_SEPS);var i=(e==="")?0:b.length;var d=this.get("prefixLength");var g="";var c=e;var f="";var a="";if(i===0){c="";f="";a=""}else{if(d===0){c="";f="";a=e}else{if(i>d){c=h.slice(0,d*2-1).join("");f=h[d*2-1];a=h.slice(d*2).join("")}}}if(i>1){g=h.slice(0,h.length-2).join("")}this.set({userTokens:b,userLength:i,editingPrefix:g,overlayPrefix:c,overlaySep:f,overlayEditing:a})};TargetBoxState.prototype.updateTranslations=function(){var c=this.get("postEditMode");if(!c){var a=this.get("segmentId");var b=this.get("editingPrefix");this.trigger("updateTranslations",a,b)}};TargetBoxState.prototype.__updateBestTranslation=function(){var f=[];var h=this.get("userTokens");var d=h[h.length-1];var b=this.get("translationList");var a=0;if(b.length>a){var e=b[a];if(e.length>=h.length){var c=e[h.length-1];if(c.substr(0,d.length)===d){f.push(c.substr(d.length))}else{f.push("")}for(var g=h.length;g<e.length;g++){var c=e[g];f.push(c)}}}this.set("bestTranslation",f)};TargetBoxState.prototype.__updateSuggestions=function(){var g=[];var b="";var f=this.get("prefix");var l=this.get("caretIndex");var k=this.get("bestTranslation");if(l>f.length||f.length===0){if(k.length>0){var h=this.get("userText");var d=h.substr(f.length).trimLeft();var j=this.get("suggestionList");for(var e=0;e<j.length;e++){var c=j[e];if(c.substr(0,d.length)===d&&c.length>d.length){g.push(c)}if(g.length>=this.MAX_VISIBLE_SUGGESTIONS){break}}if(d.length>0){var a=this.get("suggestionExpList");for(var e=0;e<a.length;e++){var c=a[e];if(c.substr(0,d.length)===d&&c.length>d.length){g.push(c)}if(g.length>=this.MAX_VISIBLE_SUGGESTIONS){break}}}}}if(g.length>0){b=g[0]}if(this.get("enableSuggestions")!==true){g=[]}this.set({suggestions:g,firstSuggestion:b});this.trigger("updateSuggestions",this.get("segmentId"),g)};TargetBoxState.prototype.__updateMatchingTokens=function(){var f={};if(this.get("enableBestTranslation")===true){var c=this.get("userTokens");var h=this.get("s2tAlignments");var e=this.get("t2sAlignments");if(h.length>0&&e.length>0){var g=h[0];var j=e[0];if(c.length>0){var a=c.length-1;var d=-1;for(var k=0;k<a;k++){if(j.hasOwnProperty(k)){var b=j[k];for(var l=0;l<b.length;l++){var i=b[l];f[i]=true;d=Math.max(d,i)}}}for(var l=0;l<d;l++){if(!g.hasOwnProperty(l)){f[l]=true}}}this.set("matchingTokens",f);this.trigger("updateMatchingTokens",this.get("segmentId"),f)}}};TargetBoxState.prototype.replaceEditingToken=function(c){var b=this.get("editingPrefix");var a=(b===""?"":b+" ")+(c===""?"":c+" ");this.set("userText",a)};TargetBoxState.prototype.updateFocus=function(){var a=this.get("segmentId");this.trigger("updateFocus",a)};TargetBoxState.prototype.updateEditCoords=function(){var a=this.get("segmentId");this.trigger("updateEditCoords",a)};TargetBoxState.prototype.updateBoxDims=function(){var a=this.get("segmentId");this.trigger("updateBoxDims",a)};TargetBoxState.prototype.focus=function(){var a=this.viewTextarea.textarea[0][0].value.length;this.viewTextarea.textarea[0][0].selectionStart=a;this.viewTextarea.textarea[0][0].selectionEnd=a;this.viewTextarea.textarea[0][0].focus();this.set({hasFocus:true,caretIndex:a})};var TargetBoxView=Backbone.View.extend({el:".TargetBoxView"});TargetBoxView.prototype.initialize=function(b){var a=b.segmentId;this.views={};this.views.container=d3.select(this.el).style("pointer-events","none").call(this.__containerRenderOnce.bind(this));this.views.canvas=this.views.container.append("div").attr("class","Canvas").style("position","absolute");this.views.overlay=this.views.canvas.append("div").attr("class","TargetOverlayView TargetOverlayView"+a);this.views.textarea=this.views.container.append("div").attr("class","TargetTextareaView TargetTextareaView"+a);this.listenTo(this.model,"change:userText change:hasFocus",this.render.bind(this))};TargetBoxView.prototype.render=function(){this.views.container.call(this.__containerRenderAlways.bind(this))};TargetBoxView.prototype.__containerRenderOnce=function(a){a.style("display","inline-block")};TargetBoxView.prototype.__containerRenderAlways=function(){};var TargetTextareaView=Backbone.View.extend({el:".TargetTextareaView"});TargetTextareaView.prototype.BACKGROUND="#ffffff";TargetTextareaView.prototype.KEY={TAB:9,ENTER:13,ESC:27,UP_ARROW:38,DOWN_ARROW:40};TargetTextareaView.prototype.initialize=function(){this.container=d3.select(this.el).style("pointer-events","none");this.textarea=this.container.append("textarea").call(this.__textareaRenderOnce.bind(this));this.resize=_.debounce(this.__resize,10);this.listenTo(this.model,"change:userText change:hasFocus",this.render.bind(this));this.listenTo(this.model,"change:boxTextareaWidth change:boxTextareaHeight",this.resize.bind(this))};TargetTextareaView.prototype.render=function(){var a=this.model.get("userText");if(a!==this.textarea[0][0].value){this.textarea[0][0].value=a}this.textarea.call(this.__textareaRenderAlways.bind(this))};TargetTextareaView.prototype.__resize=function(){var b=this.model.get("boxTextareaWidth");var a=this.model.get("boxTextareaHeight");this.textarea.style("width",b+"px").style("height",a+"px")};TargetTextareaView.prototype.__textareaRenderOnce=function(b){var e=function(){this.model.updateFocus()}.bind(this);var a=function(){}.bind(this);var c=function(){var k=this.model.get("postEditMode");var l=d3.event.keyCode;if(l===this.KEY.ENTER||l===this.KEY.TAB||l===this.KEY.ESC){d3.event.preventDefault();d3.event.cancelBubble=true}else{if(l===this.KEY.UP_ARROW||l===this.KEY.DOWN_ARROW){if(!k){d3.event.preventDefault();d3.event.cancelBubble=true}}}if(this.__continuousKeyPress){var j=this.textarea[0][0].value;var m=this.textarea[0][0].selectionEnd;this.model.set({userText:j,caretIndex:m})}this.__continuousKeyPress=true}.bind(this);var g=function(){}.bind(this);var i=function(){var l=this.model.get("postEditMode");var m=d3.event.keyCode;if(m===this.KEY.ENTER){var k=this.model.get("segmentId");if(d3.event.shiftKey){this.model.trigger("keypress keypress:enter+shift",k)}else{if(d3.event.metaKey||d3.event.ctrlKey||d3.event.altKey||d3.event.altGraphKey){this.model.trigger("keypress keypress:enter+meta",k)}else{this.model.trigger("keypress keypress:enter",k)}}}else{if(m===this.KEY.TAB){var k=this.model.get("segmentId");this.model.trigger("keypress keypress:tab",k)}else{if(m===this.KEY.UP_ARROW){if(!l){var k=this.model.get("segmentId");this.model.trigger("keypress keypress:up",k)}}else{if(m===this.KEY.DOWN_ARROW){if(!l){var k=this.model.get("segmentId");this.model.trigger("keypress keypress:down",k)}}else{if(m===this.KEY.ESC){var k=this.model.get("segmentId");this.model.trigger("keypress keypress:esc",k)}else{var j=this.textarea[0][0].value;var n=this.textarea[0][0].selectionEnd;this.model.set({userText:j,caretIndex:n});this.model.trigger("keypress",k)}}}}}this.__continuousKeyPress=false}.bind(this);var f=function(){var j=this.textarea[0][0].value;var k=this.textarea[0][0].selectionEnd;this.model.set({userText:j,caretIndex:k})}.bind(this);var h=function(){var j=this.textarea[0][0].value;var k=this.textarea[0][0].selectionEnd;this.model.set({userText:j,caretIndex:k})}.bind(this);var d=function(){var j=this.textarea[0][0].selectionEnd;this.model.set({caretIndex:j})}.bind(this);b.style("width",(this.model.WIDTH-75)+"px").style("min-height",this.model.MIN_HEIGHT+"px").style("height",this.model.MIN_HEIGHT+"px").style("padding","11px 60px 14px 15px").style("border","none").style("outline","none").style("background",this.BACKGROUND).style("resize","none").classed("UserText",true).style("line-height","20px").style("pointer-events","auto").style("cursor","default").on("focus",e).on("blur",a).on("keydown",c).on("keyPress",g).on("keyup",i).on("copy",f).on("paste",h).on("click",d)};TargetTextareaView.prototype.__textareaRenderAlways=function(b){var c=this.model.get("hasFocus");var a=this.model.get("enableBestTranslation");if(c){b.transition().duration(this.model.ANIMATION_DURATION+this.model.ANIMATION_DELAY).style("background","#fff")}else{b.transition().duration(this.model.ANIMATION_DURATION).style("background",this.BACKGROUND)}if(a){b.style("cursor","default")}else{b.style("cursor","text")}};var TargetOverlayView=Backbone.View.extend({el:".TargetOverlayView"});TargetOverlayView.prototype.initialize=function(){this.views={};this.views.container=d3.select(this.el).style("pointer-events","none").call(this.__containerRenderOnce.bind(this));this.views.prefixContent=this.views.container.append("span").attr("class","PrefixContent").call(this.__userContentStyles.bind(this));this.views.editingContent=this.views.container.append("span").attr("class","EditingContent").call(this.__userContentStyles.bind(this));this.views.mtContent=this.views.container.append("span").attr("class","MtContent").call(this.__mtContentStyles.bind(this));this.render=_.debounce(this.__render,10);this.resize=_.debounce(this.__resize,10);this.listenTo(this.model,"change:userText change:prefixTokens change:hasFocus change:bestTranslation change:enableBestTranslation",this.render.bind(this));this.listenTo(this.model,"change:boxOverlayWidth change:boxOverlayHeight",this.resize.bind(this))};TargetOverlayView.prototype.__render=function(){var g=this.model.get("overlayPrefix")+this.model.get("overlaySep");var c=this.model.get("overlayEditing");var d=this.model.get("bestTranslation").join(" ");this.views.prefixContent.text(g);this.views.editingContent.text(c);this.views.mtContent.text(d);var b=this.views.editingContent[0][0].offsetLeft+this.views.editingContent[0][0].offsetWidth;var f=this.views.editingContent[0][0].offsetTop;var a=this.views.editingContent[0][0].offsetLeft;var e=this.views.editingContent[0][0].offsetTop;this.model.set({caretXCoord:b,caretYCoord:f,editXCoord:a,editYCoord:e});this.views.container.call(this.__containerRenderAlways.bind(this))};TargetOverlayView.prototype.__resize=function(){var b=this.model.get("boxOverlayWidth");var a=this.model.get("boxOverlayHeight");this.views.container.style("width",b+"px").style("height",a+"px")};TargetOverlayView.prototype.__containerRenderOnce=function(a){a.style("display","inline-block").style("background","none").style("padding","11px 60px 0px 15px").style("opacity",1).style("line-height","20px")};TargetOverlayView.prototype.__containerRenderAlways=function(b){var a=this.model.get("enableBestTranslation");b.transition().style("opacity",a?1:0)};TargetOverlayView.prototype.__userContentStyles=function(a){a.style("visibility","hidden").style("vertical-align","top").classed("UserText",true).style("white-space","pre-wrap")};TargetOverlayView.prototype.__mtContentStyles=function(a){a.style("visibility","visible").style("vertical-align","top").classed("TargetLang",true).style("white-space","pre-wrap")};var TargetSuggestionState=Backbone.Model.extend();TargetSuggestionState.prototype.reset=function(){this.set({segmentId:null,candidates:[],xCoord:0,yCoord:0,optionIndex:null,hasFocus:false},{silent:true})};TargetSuggestionState.prototype.initialize=function(a){this.reset();this.view=new TargetSuggestionView({model:this,el:a.el})};TargetSuggestionState.prototype.nextOption=function(){var b=this.get("candidates");var a=this.get("optionIndex");if(a===null){a=0}else{a++}a=Math.min(a,b.length-1);this.set("optionIndex",a)};TargetSuggestionState.prototype.previousOption=function(){var a=this.get("optionIndex");if(a===0){a=null}else{a--}this.set("optionIndex",a)};TargetSuggestionState.prototype.noOption=function(){this.set("optionIndex",null)};var TargetSuggestionView=Backbone.View.extend({el:"#TargetSuggestions"});TargetSuggestionView.prototype.X_OFFSET=0;TargetSuggestionView.prototype.Y_OFFSET=12+7;TargetSuggestionView.prototype.CATCHER_PADDING=4;TargetSuggestionView.prototype.MT_COLOR="#4292C6";TargetSuggestionView.prototype.ACTIVE_COLOR="#ff7f0e";TargetSuggestionView.prototype.initialize=function(){this.views={};this.views.container=d3.select(this.el).call(this.__containerRenderOnce.bind(this));this.views.canvas=this.views.container.style("position","absolute");this.views.catcher=this.views.canvas.append("div").attr("class","Catcher").call(this.__catcherRenderOnce.bind(this));this.views.overlay=this.views.canvas.append("div").attr("class","Overlay").call(this.__overlayRenderOnce.bind(this));this.listenTo(this.model,"change",this.render)};TargetSuggestionView.prototype.render=function(){var b=this.model.get("candidates");var a=this.views.overlay.selectAll("div.token").data(b);a.enter().append("div").attr("class","token").call(this.__tokenRenderOnce.bind(this));a.exit().remove();this.views.container.call(this.__containerRenderAlways.bind(this));this.views.overlay.call(this.__overlayRenderAlways.bind(this));this.views.overlay.selectAll("div.token").call(this.__tokenRenderAlways.bind(this));this.views.catcher.call(this.__catcherRenderAlways.bind(this))};TargetSuggestionView.prototype.__containerRenderOnce=function(a){a.style("display","inline-block").style("pointer-events","none").style("visibility","visible")};TargetSuggestionView.prototype.__containerRenderAlways=function(b){var d=this.model.get("hasFocus");var c=this.model.get("candidates");var a=(d&&c.length>0);b.style("visibility",a?"visible":"hidden").style("display",a?"inline-block":"none")};TargetSuggestionView.prototype.__catcherRenderOnce=function(a){a.style("position","absolute").style("display","inline-block").style("background","none").style("pointer-events","auto").style("cursor","default").on("mouseover",this.__onMouseOver.bind(this)).on("mouseout",this.__onMouseOut.bind(this))};TargetSuggestionView.prototype.__catcherRenderAlways=function(c){var e=this.model.get("xCoord");var d=this.model.get("yCoord");var b=this.views.overlay[0][0].offsetWidth+(this.CATCHER_PADDING+1)*2;var a=this.views.overlay[0][0].offsetHeight+(this.CATCHER_PADDING+1)*2;c.style("left",(e+this.X_OFFSET-this.CATCHER_PADDING-1)+"px").style("top",(d+this.Y_OFFSET-this.CATCHER_PADDING-1)+"px").style("width",b+"px").style("height",a+"px")};TargetSuggestionView.prototype.__overlayRenderOnce=function(a){a.style("position","absolute").style("display","inline-block").style("background","#fff").style("border","1px solid "+this.MT_COLOR).style("box-shadow","0 0 5px "+this.MT_COLOR).style("padding","2px 0 0 0")};TargetSuggestionView.prototype.__overlayRenderAlways=function(a){var c=this.model.get("xCoord");var b=this.model.get("yCoord");a.style("left",(c+this.X_OFFSET)+"px").style("top",(b+this.Y_OFFSET)+"px")};TargetSuggestionView.prototype.__tokenRenderOnce=function(a){var b=function(c,d){return d===0?null:"1px dotted "+this.MT_COLOR}.bind(this);a.style("position","static").style("display","block").style("padding","0 2px 2px 2px").style("border-top",b).style("white-space","nowrap").classed("TargetLang",true).style("color",this.MT_COLOR).style("pointer-events","auto").style("cursor","pointer").on("mouseover",this.__onMouseOverOption.bind(this)).on("mouseout",this.__onMouseOutOption.bind(this)).on("mouseup",this.__onMouseClickOption.bind(this))};TargetSuggestionView.prototype.__tokenRenderAlways=function(c){var b=this.model.get("optionIndex");var a=function(f,e){if(b===e){return this.ACTIVE_COLOR}else{return this.MT_COLOR}}.bind(this);c.text(function(e){return e}).style("color",a)};TargetSuggestionView.prototype.__onMouseOver=function(){var a=this.model.get("segmentId");this.model.trigger("mouseover",a)};TargetSuggestionView.prototype.__onMouseOut=function(){var a=this.model.get("segmentId");this.model.trigger("mouseout",a)};TargetSuggestionView.prototype.__onMouseClick=function(){var a=this.model.get("segmentId");this.model.trigger("click",a)};TargetSuggestionView.prototype.__onMouseOverOption=function(b,c){var a=this.model.get("segmentId");this.model.set("optionIndex",c);this.model.trigger("mouseover",a);this.model.trigger("mouseover:option",a,c)};TargetSuggestionView.prototype.__onMouseOutOption=function(b,c){var a=this.model.get("segmentId");this.model.set("optionIndex",null);this.model.trigger("mouseout",a);this.model.trigger("mouseout:option",a,c)};TargetSuggestionView.prototype.__onMouseClickOption=function(b,c){var a=this.model.get("segmentId");this.model.trigger("click",a);this.model.trigger("click:option",a,c)};var OptionPanelState=Backbone.Model.extend({defaults:{enableHover:true,enableSuggestions:true,enableMT:true,visible:true}});OptionPanelState.prototype.initialize=function(){this.view=new OptionPanelView({model:this})};var OptionPanelView=Backbone.View.extend({el:".OptionPanelView"});OptionPanelView.prototype.initialize=function(a){this.views={};this.views.container=d3.select(this.el).style("display","inline-block").style("visibility","visible").style("padding",0);this.views.bestTranslation=this.views.container.append("div").attr("class","EnableBestTranslations").call(this.__bestTranslationsRenderOnce.bind(this));this.views.suggestions=this.views.container.append("div").attr("class","EnableSuggestions").call(this.__suggestionsRenderOnce.bind(this));this.views.hover=this.views.container.append("div").attr("class","EnableHover").call(this.__hoverRenderOnce.bind(this));this.listenTo(this.model,"change:visible",this.changeVisibility);this.listenTo(this.model,"change:enableMT",this.renderBestTranslation);this.listenTo(this.model,"change:enableSuggestions",this.renderSuggestions);this.listenTo(this.model,"change:enableHover",this.renderHover)};OptionPanelView.prototype.changeVisibility=function(){var a=this.model.get("visible");this.views.container.style("visibility",a?"visible":"hidden")};OptionPanelView.prototype.renderBestTranslation=function(){this.views.bestTranslation.call(this.__bestTranslationsRenderAlways.bind(this));this.views.suggestions.call(this.__suggestionsRenderAlways.bind(this));this.views.hover.call(this.__hoverRenderAlways.bind(this))};OptionPanelView.prototype.renderSuggestions=function(){this.views.suggestions.call(this.__suggestionsRenderAlways.bind(this))};OptionPanelView.prototype.renderHover=function(){this.views.hover.call(this.__hoverRenderAlways.bind(this))};OptionPanelView.prototype.__bestTranslationsRenderOnce=function(b){var a=function(){var d=this.views.bestTranslation.select("input")[0][0].checked;this.model.set("enableMT",d)}.bind(this);var c=function(){var d=this.model.get("enableMT");this.model.set("enableMT",!d)}.bind(this);b.classed("OptionPanel",true);b.append("input").attr("type","checkbox").attr("checked","checked").style("margin","2px 5px").style("pointer-events","auto").style("cursor","pointer").on("change",a);b.append("span").text("Show a suggested translation for each sentence").style("pointer-events","auto").style("cursor","pointer").on("click",c)};OptionPanelView.prototype.__bestTranslationsRenderAlways=function(b){var a=this.model.get("enableMT");b.select("input").each(function(){d3.select(this)[0][0].checked=a});b.select("span").style("color",a?"#444":"#888")};OptionPanelView.prototype.__suggestionsRenderOnce=function(b){var a=function(){var d=this.views.suggestions.select("input")[0][0].checked;this.model.set("enableSuggestions",d)}.bind(this);var c=function(){var d=this.model.get("enableSuggestions");this.model.set("enableSuggestions",!d)}.bind(this);b.classed("OptionPanel",true);b.append("input").attr("type","checkbox").attr("checked","checked").style("margin","2px 5px 2px 15px").style("pointer-events","auto").style("cursor","pointer").on("change",a);b.append("span").text("Display autocomplete suggestions while typing").style("pointer-events","auto").style("cursor","pointer").on("click",c)};OptionPanelView.prototype.__suggestionsRenderAlways=function(b){var a=this.model.get("enableSuggestions")&&this.model.get("enableMT");b.select("input").each(function(){d3.select(this)[0][0].checked=a});b.select("span").style("color",a?"#444":"#888")};OptionPanelView.prototype.__hoverRenderOnce=function(b){var a=function(){var d=this.views.hover.select("input")[0][0].checked;this.model.set("enableHover",d)}.bind(this);var c=function(){var d=this.model.get("enableHover");this.model.set("enableHover",!d)}.bind(this);b.classed("OptionPanel",true);b.append("input").attr("type","checkbox").attr("checked","checked").style("margin","2px 5px 2px 15px").style("pointer-events","auto").style("cursor","pointer").on("change",a);b.append("span").text("Display word suggestions on mouse hover").style("pointer-events","auto").style("cursor","pointer").on("click",c)};OptionPanelView.prototype.__hoverRenderAlways=function(b){var a=this.model.get("enableHover")&&this.model.get("enableMT");b.select("input").each(function(){d3.select(this)[0][0].checked=a});b.select("span").style("color",a?"#444":"#888")};var DocumentView=Backbone.View.extend({el:"#PTM"});DocumentView.prototype.WIDTH=800;DocumentView.prototype.PADDING=20;DocumentView.prototype.REGULAR_BACKGROUND="#fff";DocumentView.prototype.FOCUS_BACKGROUND="#DEEBF7";DocumentView.prototype.FOCUS_COLOR="#9ECAE1";DocumentView.prototype.FOCUS_SHADOW="#6baed6";DocumentView.prototype.ANIMATION_DURATION=120;DocumentView.prototype.SCROLL_FRACTION=0.15;DocumentView.prototype.SCROLL_TOP_PADDING=60;DocumentView.prototype.SCROLL_BOTTOM_PADDING=240;DocumentView.prototype.initialize=function(a){this.views={};this.views.container=d3.select(this.el).style("display","inline-block").style("z-index",-10).style("width",this.WIDTH+"px").style("height",0).style("padding",0).style("border","1px solid #bbb").style("border-top-right-radius","30px").style("border-bottom-left-radius","50px").style("box-shadow","1px 1px 5px #bbb").style("pointer-events","none").style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none");this.views.canvas=this.views.container.append("div").attr("class","Canvas").style("position","absolute");this.views.background=this.views.canvas.append("div").attr("class","Background").call(this.__backgroundRenderOnce.bind(this));this.views.focus=this.views.canvas.append("div").attr("class","Focus").call(this.__focusRenderOnce.bind(this));this.views.overlay=this.views.canvas.append("div").attr("class","Overlay").call(this.__overlayRenderOnce.bind(this));this.views.segments={};this.resize=_.debounce(this.__resize,10);this.animatedScroll=_.debounce(this.__animatedScroll,10);this.listenTo(this.model,"change:focusSegment",this.render.bind(this))};DocumentView.prototype.render=function(a){this.views.focus.call(this.__focusRenderAlways.bind(this))};DocumentView.prototype.__addHeader=function(){var a=this.views.overlay.append("div").attr("class","Header");a.style("min-height","20px").style("padding","20px 40px 20px 25px").style("margin","0 0 20px 0").style("background",this.REGULAR_BACKGROUND).style("border-top-right-radius","29px").style("border-bottom","1px solid #bbb");a.append("div").attr("class","OptionPanelView");this.views.header=a};DocumentView.prototype.__addFooter=function(){var a=this.views.overlay.append("div").attr("class","Footer");a.style("height","50px");this.views.footer=a};DocumentView.prototype.addSegment=function(b){if(_.keys(this.views.segments).length===0){this.__addHeader()}if(b===null){this.__addFooter();return}var c=this.views.overlay.append("div").attr("class","SegmentView SegmentView"+b).style("padding-top","1px").style("padding-bottom","1px").style("padding-left","25px");var a=c.append("div").attr("class","SubCanvas").style("position","absolute");c.append("div").attr("class","SourceBoxView SourceBoxView"+b);c.append("div").attr("class","TargetBoxView TargetBoxView"+b);a.append("div").attr("class","SourceSuggestionView SourceSuggestionView"+b).style("position","absolute").style("z-index",1000);a.append("div").attr("class","TargetSuggestionView TargetSuggestionView"+b).style("position","absolute").style("z-index",1000);this.views.segments[b]=c};DocumentView.prototype.__overlayRenderOnce=function(a){a.style("position","static").style("width",this.WIDTH+"px").style("padding",0)};DocumentView.prototype.__backgroundRenderOnce=function(a){a.style("position","absolute").style("z-index",-25).style("left",0).style("top",0).style("border-top-right-radius","29px").style("border-bottom-left-radius","49px").style("background",this.REGULAR_BACKGROUND)};DocumentView.prototype.__focusRenderOnce=function(a){a.style("position","absolute").style("z-index",-5).style("top",0+"px").style("left",0+"px").style("opacity",0).style("width",(this.WIDTH-25)+"px").style("height",0+"px").style("border-top","1px solid "+this.FOCUS_COLOR).style("border-bottom","1px solid "+this.FOCUS_COLOR).style("border-left","25px solid "+this.FOCUS_COLOR).style("background",this.FOCUS_BACKGROUND).style("box-shadow","0 0 8px "+this.FOCUS_SHADOW)};DocumentView.prototype.__focusRenderAlways=function(e){var b=this.model.get("focusSegment");if(b!==null){var f=this.views.container.select(".SourceBoxView"+b);var g=this.views.container.select(".TargetBoxView"+b);var i=f[0][0].offsetTop;var a=g[0][0].offsetTop+g[0][0].offsetHeight;e.transition().duration(this.ANIMATION_DURATION).style("opacity",1).style("top",(i-1)+"px").style("height",(a-i)+"px");var h=d3.select("body")[0][0];var d=h.scrollTop;var c=d+window.innerHeight;if(i<d+this.SCROLL_TOP_PADDING){this.animatedScroll(i-this.SCROLL_TOP_PADDING)}else{if(a>c-this.SCROLL_BOTTOM_PADDING){this.animatedScroll(a-window.innerHeight+this.SCROLL_BOTTOM_PADDING)}}}else{e.transition().duration(this.ANIMATION_DURATION).style("opacity",0)}};DocumentView.prototype.__animatedScroll=function(e){var a=d3.select("body")[0][0];var d=a.scrollTop;var c=a.scrollHeight;if(e>=c-window.innerHeight-5){e=c-window.innerHeight-5}var b=(d-e)*this.SCROLL_FRACTION;if(Math.abs(b)<1.5){window.scrollTo(0,e)}else{window.scrollTo(0,d-b);this.animatedScroll(e)}};DocumentView.prototype.__resize=function(){var d=this.views.overlay[0][0].offsetWidth;var a=this.views.overlay[0][0].offsetHeight;this.views.maxWidth=(this.views.maxWidth===undefined)?d:Math.max(this.views.maxWidth,d);this.views.maxHeight=(this.views.maxHeight===undefined)?a:Math.max(this.views.maxHeight,a);this.views.canvas.style("width",this.views.maxWidth+"px").style("height",this.views.maxHeight+"px");this.views.background.style("width",this.views.maxWidth+"px").style("height",this.views.maxHeight+"px");this.views.container.style("width",this.views.maxWidth+"px").style("height",this.views.maxHeight+"px");var c=this.model.get("focusSegment");if(c!==null){var f=this.views.container.select(".SourceBoxView"+c);var g=this.views.container.select(".TargetBoxView"+c);var e=f[0][0].offsetTop;var b=g[0][0].offsetTop+g[0][0].offsetHeight;this.views.focus.style("height",(b-e)+"px")}};var PTM=Backbone.Model.extend({url:function(){return this.get("url")},defaults:{isLogging:true,postEditMode:false,readOnlyMode:false,docURL:"",sourceLang:"de",targetLang:"en",activities:[]}});PTM.prototype.reset=function(){d3.select("#PTM").selectAll("*").remove();this.set({url:null,docId:null,segmentIds:[],segments:{},focusSegment:null});var b=this.get("sourceLang");var a=this.get("targetLang");this.server=new TranslateServer(b,a);this.optionPanel=null;this.experimentUI=null;this.documentView=null;this.sourceBoxes={};this.sourceSuggestions={};this.targetBoxes={};this.targetSuggestions={};this.cache={};this.cache.wordQueries={":":{rules:[]}};this.cache.translations={};this.updateSourceSuggestions=_.debounce(this.__updateSourceSuggestions,10);this.updateTargetSuggestions=this.__updateTargetSuggestions};PTM.prototype.initialize=function(){this.listenTo(this,"change",this.makeActivityLogger("ptm","",this));var a=new Date().getTime();this.set("referenceTime",a)};PTM.prototype.load=function(a){if(a===undefined){a=this.get("docURL")}this.reset();this.set("url",a);this.fetch({success:this.loaded.bind(this),error:this.loadError.bind(this)})};PTM.prototype.loadError=function(c,a,b){console.log("[PTM.load] fail",this,c,a,b)};PTM.prototype.loaded=function(e,b,d){console.log("[PTM.load] success",this,e,b,d);var c=this.get("segments");var a=_.keys(c).sort(function(g,f){return parseInt(g)-parseInt(f)});this.set("segmentIds",a);this.setup()};PTM.prototype.__timestamp=function(){return(new Date().getTime()-this.get("referenceTime"))/1000};PTM.prototype.getUserResponses=function(){var c={};for(var b in this.targetBoxes){var a=this.targetBoxes[b];c[b]=a.get("userText")}return c};PTM.prototype.getInteractionLog=function(){var a=this.get("activities");return a};PTM.prototype.playback=function(e,b){var f=function(){this.set("isLogging",false);for(var g in this.sourceBoxes){this.sourceBoxes[g].reset()}for(var g in this.sourceBoxSuggestions){this.sourceBoxSuggestions[g].reset()}for(var g in this.targetBoxes){this.targetBoxes[g].reset()}for(var g in this.targetBoxSuggestions){this.targetBoxSuggestions[g].reset()}}.bind(this);var a=function(){this.set("isLogging",true)}.bind(this);var c=function(i,g,h){return function(){if(i==="ptm"){this.set(h)}else{if(g===""){this[i].set(h)}else{this[i][g].set(h)}}}.bind(this)}.bind(this);if(e===undefined){e=this.get("activities")}if(b===undefined){b=1}setTimeout(f,b*1000);var d=Math.max.apply(Math,e.map(function(k){var j=k.time;var i=k.element;var g=k.subElement;var h=k.keyValues;setTimeout(c(i,g,h),(j+b)*1000);return j}));setTimeout(a,(d+b)*1000)};PTM.prototype.makeActivityLogger=function(c,b,a){return function(){if(this.get("isLogging")===true){this.logActivities(c,b,a)}}.bind(this)};PTM.prototype.logActivities=function(e,c,b){var d={time:this.__timestamp(),element:e,subElement:c,keyValues:{}};for(var a in b.changed){d.keyValues[a]=b.get(a)}this.get("activities").push(d)};PTM.prototype.setup=function(){var c=this.get("postEditMode");var b=this.get("segments");var a=this.get("segmentIds");this.documentView=new DocumentView({model:this});this.experimentUI=new ExperimentUI();this.experimentUI.on("change:tick",this.makeActivityLogger("experimentUI","",this.experimentUI),this);this.experimentUI.on("change:terminate",this.terminateExperiment,this);a.forEach(function(e){this.documentView.addSegment(e);var h=new SourceBoxState({el:".SourceBoxView"+e});if(c){h.set({enableHover:false})}h.on("change",this.makeActivityLogger("sourceBoxes",e,h),this);h.set({segmentId:e,tokens:b[e].tokens});this.sourceBoxes[e]=h;var f=new SourceSuggestionState({el:".SourceSuggestionView"+e});f.on("change",this.makeActivityLogger("sourceSuggestions",e,f),this);f.set({segmentId:e});this.sourceSuggestions[e]=f;var d=new TargetBoxState({segmentId:e});if(c){d.set({enableSuggestions:false,enableBestTranslation:false,postEditMode:true})}d.on("change",this.makeActivityLogger("targetBoxes",e,d),this);d.set({segmentId:e,chunkVector:b[e].chunkVector,userText:""});this.targetBoxes[e]=d;var g=new TargetSuggestionState({el:".TargetSuggestionView"+e});g.on("change",this.makeActivityLogger("targetSuggestions",e,g),this);g.set({segmentId:e});this.targetSuggestions[e]=g;this.listenTo(h,"mouseover",function(){});this.listenTo(h,"mouseout",function(){});this.listenTo(h,"click",this.focusOnSegment);this.listenTo(h,"mouseover:token",this.showSourceSuggestionsFromText);this.listenTo(h,"mouseout:token",this.hideSourceSuggestions);this.listenTo(h,"click:token",function(){});this.listenTo(h,"updateBoxDims",this.updateTargetSuggestions);this.listenTo(h,"updateBoxDims",this.resizeDocument);this.listenTo(h,"click",this.experimentUI.reset.bind(this.experimentUI));this.listenTo(f,"mouseover",this.showSourceSuggestionsFromFloatingBox);this.listenTo(f,"mouseout",this.hideSourceSuggestions);this.listenTo(f,"click",function(){});this.listenTo(f,"mouseover:option",function(){});this.listenTo(f,"mouseout:option",function(){});this.listenTo(f,"click:option",this.clickToInsertSourceSuggestion);this.listenTo(f,"click",this.experimentUI.reset.bind(this.experimentUI));this.listenTo(d,"keypress:enter",this.insertSelectedTargetSuggestion);this.listenTo(d,"keypress:enter+meta",this.focusOnNextSegment);this.listenTo(d,"keypress:enter+shift",this.focusOnPreviousSegment);this.listenTo(d,"keypress:tab",this.insertSelectedTargetSuggestion_OR_insertFirstSuggestion);this.listenTo(d,"keypress:up",this.previousTargetSuggestion);this.listenTo(d,"keypress:down",this.nextTargetSuggestion);this.listenTo(d,"keypress:esc",this.noTargetSuggestion_OR_cycleAssists);this.listenTo(d,"updateMatchingTokens",this.updateMatchingTokens);this.listenTo(d,"updateSuggestions",this.updateTargetSuggestions);this.listenTo(d,"updateEditCoords",this.updateTargetSuggestions);this.listenTo(d,"updateFocus",this.focusOnSegment);this.listenTo(d,"updateTranslations",this.loadTranslations);this.listenTo(d,"updateBoxDims",this.resizeDocument);this.listenTo(d,"keypress",this.experimentUI.reset.bind(this.experimentUI));this.listenTo(g,"mouseover",function(){});this.listenTo(g,"mouseout",function(){});this.listenTo(g,"click",function(){});this.listenTo(g,"mouseover:option",function(){});this.listenTo(g,"mouseout:option",function(){});this.listenTo(g,"click:option",this.clickToInsertTargetSuggestion);this.listenTo(g,"click",this.experimentUI.reset.bind(this.experimentUI));this.cache.translations[e]={};this.loadTranslations(e,"")}.bind(this));this.documentView.addSegment(null);this.optionPanel=new OptionPanelState();if(c){this.optionPanel.set({enableHover:false,enableSuggestions:false,enableMT:false,visible:false})}this.optionPanel.on("change",this.makeActivityLogger("optionPanel","",this.optionPanel),this);this.listenTo(this.optionPanel,"change",this.setAssists);this.focusOnSegment(a[0])};PTM.prototype.terminateExperiment=function(){d3.selectAll("*").style("pointer-events","none").style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none");alert("You exceeded the maximum idle time! Your partial translation has been submitted. Click OK to continue to the next sentence.");$("input[name=valid]").val("False");$("input[name=form-tgt-submit]").trigger("click")};PTM.prototype.resizeDocument=function(a){this.documentView.resize()};PTM.prototype.setAssists=function(){var f=this.optionPanel.get("visible");var g=this.optionPanel.get("enableMT");var c=f&&g;var e=f&&g&&this.optionPanel.get("enableSuggestions");var a=f&&g&&this.optionPanel.get("enableHover");var b=this.get("segmentIds");for(var d=0;d<b.length;d++){var h=b[d];this.targetBoxes[h].set({enableSuggestions:e,enableBestTranslation:c});this.sourceBoxes[h].set({enableHover:a})}};PTM.prototype.cycleAssists=function(b){var e=this.optionPanel.get("visible");var d=this.targetBoxes[b].get("enableSuggestions");if(e){if(d){d=false;enableBestTranslation=true}else{d=true;enableBestTranslation=true}}else{d=false;enableBestTranslation=false}var a=this.get("segmentIds");for(var c=0;c<a.length;c++){var f=a[c];this.targetBoxes[f].set({enableSuggestions:d,enableBestTranslation:enableBestTranslation});this.sourceBoxes[f].set({enableHover:d})}this.optionPanel.set({enableMT:enableBestTranslation,enableHover:d,enableSuggestions:d})};PTM.prototype.noTargetSuggestion_OR_cycleAssists=function(a){var b=this.targetSuggestions[a].get("optionIndex");if(b===null){this.cycleAssists(a)}else{this.noTargetSuggestion(a)}};PTM.prototype.showSourceSuggestionsFromText=function(b){var a=this.sourceBoxes[b].get("hoverTokenIndex");this.updateSourceSuggestions(b,a)};PTM.prototype.showSourceSuggestionsFromFloatingBox=function(b){var a=this.sourceSuggestions[b].get("tokenIndex");this.updateSourceSuggestions(b,a)};PTM.prototype.hideSourceSuggestions=function(a){this.updateSourceSuggestions(a,null)};PTM.prototype.__updateSourceSuggestions=function(b,a){if(a!==this.sourceSuggestions[b].get("tokenIndex")){var g=this.sourceBoxes[b].get("hoverXCoord");var f=this.sourceBoxes[b].get("hoverYCoord");var c=this.get("segments");var d=c[b];var e=(a===null)?"":d.tokens[a];var h=(e===""||a===0)?"":d.tokens[a-1];this.sourceBoxes[b].set({hoverTokenIndex:a});this.sourceSuggestions[b].set({source:e,tokenIndex:a,leftContext:h,targets:[],scores:[],optionIndex:null,xCoord:g,yCoord:f});if(a!==null){this.loadWordQueries(b,e,h)}}};PTM.prototype.__updateTargetSuggestions=function(a){var c=this.targetBoxes[a].get("suggestions");var e=this.sourceBoxes[a].get("boxHeight");var d=this.targetBoxes[a].get("editXCoord");var b=this.targetBoxes[a].get("editYCoord");this.targetSuggestions[a].set({candidates:c,optionIndex:null,xCoord:d,yCoord:b+e})};PTM.prototype.updateMatchingTokens=function(a,b){this.sourceBoxes[a].set({matchedTokenIndexes:b})};PTM.prototype.clickToInsertSourceSuggestion=function(a,c){var b=this.sourceSuggestions[a].get("targets");if(b.length>0){var d=b[c];this.targetBoxes[a].replaceEditingToken(d);this.targetBoxes[a].focus()}};PTM.prototype.clickToInsertTargetSuggestion=function(a,c){var b=this.targetSuggestions[a].get("candidates");if(b.length>0){var d=b[c];this.targetBoxes[a].replaceEditingToken(d);this.targetBoxes[a].focus()}};PTM.prototype.insertFirstSuggestion=function(a){var b=this.targetBoxes[a].get("firstSuggestion");if(b.length>0){this.targetBoxes[a].replaceEditingToken(b);this.targetBoxes[a].focus()}};PTM.prototype.insertSelectedTargetSuggestion=function(b){var c=this.targetSuggestions[b].get("optionIndex");if(c!==null){var a=this.targetBoxes[b].get("suggestions");var d=(c>=a.length)?"":a[c];this.targetBoxes[b].replaceEditingToken(d);this.targetBoxes[b].focus()}};PTM.prototype.previousTargetSuggestion=function(a){this.targetSuggestions[a].previousOption()};PTM.prototype.nextTargetSuggestion=function(a){this.targetSuggestions[a].nextOption()};PTM.prototype.noTargetSuggestion=function(a){this.targetSuggestions[a].noOption()};PTM.prototype.focusOnSegment=function(b){this.set("focusSegment",b);var a=this.get("segmentIds");a.forEach(function(c){if(b===c){this.sourceBoxes[c].set("hasFocus",true);this.sourceSuggestions[c].set("hasFocus",true);this.targetBoxes[c].focus();this.targetSuggestions[c].set("hasFocus",true)}else{this.sourceBoxes[c].set("hasFocus",false);this.sourceSuggestions[c].set("hasFocus",false);this.targetBoxes[c].set("hasFocus",false);this.targetSuggestions[c].set("hasFocus",false)}}.bind(this))};PTM.prototype.insertSelectedTargetSuggestion_OR_insertFirstSuggestion=function(b){var c=this.targetBoxes[b].get("caretIndex");var a=this.targetBoxes[b].get("userText");if(c<a.length){this.targetBoxes[b].focus()}else{var d=this.targetSuggestions[b].get("optionIndex");if(d===null){this.insertFirstSuggestion(b)}else{this.insertSelectedTargetSuggestion(b)}}};PTM.prototype.insertSelectedTargetSuggestion_OR_focusOnNextSegment=function(a){var b=this.targetSuggestions[a].get("optionIndex");if(b===null){this.focusOnNextSegment(a)}else{this.insertSelectedTargetSuggestion(a)}};PTM.prototype.focusOnNextSegment=function(d){var c=this.get("segments");var a=this.get("segmentIds");var b=(a.indexOf(d)+1)%a.length;var e=(b>=a.length)?null:a[b];this.focusOnSegment(e)};PTM.prototype.focusOnPreviousSegment=function(d){var c=this.get("segments");var a=this.get("segmentIds");var b=(a.indexOf(d)+a.length-1)%a.length;var e=(b<0)?null:a[b];this.focusOnSegment(e)};PTM.prototype.loadWordQueries=function(j,a,b){var g=/\w/g;var c=function(k){if(a.match(g)===null){k.result=[{tgt:[a]}]}if(k.hasOwnProperty("result")){k.result=_.filter(k.result,function(l){return l.tgt.length>0})}return k}.bind(this);var i=function(k){if(k.hasOwnProperty("result")){return k.result.map(function(l){return l.tgt.join(" ")})}else{return[]}}.bind(this);var h=function(k){if(k.hasOwnProperty("result")){return k.result.map(function(l){return l.score})}else{return[]}}.bind(this);var d=function(l){var m=this.sourceSuggestions[j].get("source");var n=this.sourceSuggestions[j].get("leftContext");if(a===m&&b===n){var k=i(l);var o=h(l);this.sourceSuggestions[j].set({source:a,leftContext:b,targets:k,scores:o})}}.bind(this);var f=b+":"+a;var e=function(k,l){k=c(k);this.cache.wordQueries[f]=k;d(k)}.bind(this);if(this.cache.wordQueries.hasOwnProperty(f)){d(this.cache.wordQueries[f])}else{this.server.wordQuery(a,b,e)}};PTM.prototype.recycleTranslations=function(p){var h=this.targetBoxes[p];var e=h.get("prefix");if(e!==null){var k=h.get("editingPrefix");var m=h.get("translationList");var j=h.get("s2tAlignments");var d=h.get("t2sAlignments");var l=[];var f=[];var b=[];var o=k.replace(/[ ]+/g,"");for(var c=0;c<m.length;c++){var a=m[c];var g=a.join("");var n=(g.substr(0,o.length)===o);if(n){l.push(m[c]);f.push(j[c]);b.push(d[c])}}if(l.length===0&&m.length>0){l.push(m[0]);f.push(j[0]);b.push(d[0])}h.set({prefix:k,translationList:l,s2tAlignments:f,t2sAlignments:b})}};PTM.prototype.loadTranslations=function(b,f){var e=function(j){if(j.hasOwnProperty("result")){var i=[];for(var k=0;k<j.result.length;k++){i.push(j.result[k].tgt)}j.translationList=i}return j}.bind(this);var a=function(m){var r=[];var k=[];if(m.hasOwnProperty("result")){for(var l=0;l<m.result.length;l++){var o=m.result[l].align;var q={};var t={};for(var p=0;p<o.length;++p){var u=o[p].split("-");var s=parseInt(u[0]);var j=parseInt(u[1]);if(q.hasOwnProperty(s)){q[s].push(j)}else{q[s]=[j]}if(t.hasOwnProperty(j)){t[j].push(s)}else{t[j]=[s]}}r.push(q);k.push(t)}}m.s2t=r;m.t2s=k;return m}.bind(this);var h=function(j){var m=this.get("postEditMode");if(m){this.targetBoxes[b].set({userText:j.translationList[0].join(" ")})}else{if(this.targetBoxes[b].get("editingPrefix")===f){var i=j.translationList;var l=j.s2t;var k=j.t2s;this.targetBoxes[b].set({prefix:f,translationList:i,s2tAlignments:l,t2sAlignments:k})}}}.bind(this);var g=function(i,j){i=e(i);i=a(i);this.cache.translations[b][f]=i;h(i)}.bind(this);if(this.cache.translations[b].hasOwnProperty(f)){if(this.cache.translations[b][f]!==null){h(this.cache.translations[b][f])}}else{var c=this.get("segments");var d=c[b].tokens.join(" ");this.cache.translations[b][f]=null;this.server.translate(d,f,g);this.recycleTranslations(b)}};